(self.webpackChunkgeoportal_carburantes=self.webpackChunkgeoportal_carburantes||[]).push([[792],{193:(Ec,Cc,P)=>{"use strict";let Jn;function we(){return Jn}function qt(e){const t=Jn;return Jn=e,t}const Fe=Symbol("NotFound");class bc extends Error{name="\u0275NotFound";constructor(t){super(t)}}function ue(e){return e===Fe||"\u0275NotFound"===e?.name}let Le=null;const ze=Symbol("SIGNAL");function k(e){const t=Le;return Le=e,t}const ht={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Yn(e){if((!vn(e)||e.dirty)&&(e.dirty||1!==e.lastCleanEpoch)){if(!e.producerMustRecompute(e)&&!qi(e))return void ti(e);e.producerRecomputeValue(e),ti(e)}}function ti(e){e.dirty=!1,e.lastCleanEpoch=1}function nt(e){return e&&(e.nextProducerIndex=0),k(e)}function pt(e,t){if(k(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(vn(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)gt(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function qi(e){G(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Yn(n),r!==n.version))return!0}return!1}function Ot(e){if(G(e),vn(e))for(let t=0;t<e.producerNode.length;t++)gt(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function gt(e,t){if(function vs(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),1===e.liveConsumerNode.length&&function q(e){return void 0!==e.producerNode}(e))for(let r=0;r<e.producerNode.length;r++)gt(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];G(i),i.producerIndexOfThis[r]=t}}function vn(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function G(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let ws=function Nn(){throw new Error};function $e(e){return"function"==typeof e}function Ki(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const bs=Ki(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Xi(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class yt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if($e(r))try{r()}catch(s){t=s instanceof bs?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Sc(s)}catch(c){t=t??[],c instanceof bs?t=[...t,...c.errors]:t.push(c)}}if(t)throw new bs(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Sc(t);else{if(t instanceof yt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Xi(n,t)}remove(t){const{_finalizers:n}=this;n&&Xi(n,t),t instanceof yt&&t._removeParent(this)}}yt.EMPTY=(()=>{const e=new yt;return e.closed=!0,e})();const Is=yt.EMPTY;function Ts(e){return e instanceof yt||e&&"closed"in e&&$e(e.remove)&&$e(e.add)&&$e(e.unsubscribe)}function Sc(e){$e(e)?e():e.unsubscribe()}const Rn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ii={setTimeout(e,t,...n){const{delegate:r}=ii;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=ii;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Mc(e){ii.setTimeout(()=>{const{onUnhandledError:t}=Rn;if(!t)throw e;t(e)})}function Ss(){}const Ms=Kn("C",void 0,void 0);function Kn(e,t,n){return{kind:e,value:t,error:n}}let Xn=null;function eo(e){if(Rn.useDeprecatedSynchronousErrorHandling){const t=!Xn;if(t&&(Xn={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=Xn;if(Xn=null,n)throw r}}else e()}class to extends yt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ts(t)&&t.add(this)):this.destination=Ps}static create(t,n,r){return new As(t,n,r)}next(t){this.isStopped?Ns(function Yl(e){return Kn("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Ns(function xc(e){return Kn("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ns(Ms,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Nc=Function.prototype.bind;function xs(e,t){return Nc.call(e,t)}class Kl{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){no(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){no(r)}else no(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){no(n)}}}class As extends to{constructor(t,n,r){let i;if(super(),$e(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Rn.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&xs(t.next,s),error:t.error&&xs(t.error,s),complete:t.complete&&xs(t.complete,s)}):i=t}this.destination=new Kl(i)}}function no(e){Rn.useDeprecatedSynchronousErrorHandling?function Ac(e){Rn.useDeprecatedSynchronousErrorHandling&&Xn&&(Xn.errorThrown=!0,Xn.error=e)}(e):Mc(e)}function Ns(e,t){const{onStoppedNotification:n}=Rn;n&&ii.setTimeout(()=>n(e,t))}const Ps={closed:!0,next:Ss,error:function Xl(e){throw e},complete:Ss},Rs="function"==typeof Symbol&&Symbol.observable||"@@observable";function ed(e){return e}let ke=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function Fc(e){return e&&e instanceof to||function Rc(e){return e&&$e(e.next)&&$e(e.error)&&$e(e.complete)}(e)&&Ts(e)}(n)?n:new As(n,r,i);return eo(()=>{const{operator:c,source:u}=this;s.add(c?c.call(s,u):u?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=V(r))((i,s)=>{const c=new As({next:u=>{try{n(u)}catch(d){s(d),c.unsubscribe()}},error:s,complete:i});this.subscribe(c)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Rs](){return this}pipe(...n){return function Pc(e){return 0===e.length?ed:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=V(n))((r,i)=>{let s;this.subscribe(c=>s=c,c=>i(c),()=>r(s))})}}return e.create=t=>new e(t),e})();function V(e){var t;return null!==(t=e??Rn.Promise)&&void 0!==t?t:Promise}const kc=Ki(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let br=(()=>{class e extends ke{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new ro(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new kc}next(n){eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Is:(this.currentObservers=null,s.push(n),new yt(()=>{this.currentObservers=null,Xi(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new ke;return n.source=this,n}}return e.create=(t,n)=>new ro(t,n),e})();class ro extends br{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:Is}}class Oc extends br{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}class N extends Error{code;constructor(t,n){super(function Fn(e,t){return`${function td(e){return`NG0${Math.abs(e)}`}(e)}${t?": "+t:""}`}(t,n)),this.code=t}}const Ze=globalThis;function De(e){for(let t in e)if(e[t]===De)return t;throw Error("")}function dt(e){if("string"==typeof e)return e;if(Array.isArray(e))return`[${e.map(dt).join(", ")}]`;if(null==e)return""+e;const t=e.overriddenName||e.name;if(t)return`${t}`;const n=e.toString();if(null==n)return""+n;const r=n.indexOf("\n");return r>=0?n.slice(0,r):n}function ks(e,t){return e?t?`${e} ${t}`:e:t||""}const id=De({__forward_ref__:De});function si(e){return e.__forward_ref__=si,e.toString=function(){return dt(this())},e}function Q(e){return function ai(e){return"function"==typeof e&&e.hasOwnProperty(id)&&e.__forward_ref__===si}(e)?e():e}function Y(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Sr(e){return{providers:e.providers||[],imports:e.imports||[]}}function Mr(e){return function Ls(e,t){return e.hasOwnProperty(t)&&e[t]||null}(e,li)}function er(e){return e&&e.hasOwnProperty(di)?e[di]:null}const li=De({\u0275prov:De}),di=De({\u0275inj:De});class F{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Y({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Hs(e){return e&&!!e.\u0275providers}const lo=De({\u0275cmp:De}),zs=De({\u0275dir:De}),ad=De({\u0275pipe:De}),ne=De({\u0275fac:De}),fi=De({__NG_ELEMENT_ID__:De}),Lt=De({__NG_ENV_ID__:De});function $(e){return"string"==typeof e?e:null==e?"":String(e)}function jc(e,t){throw new N(-200,e)}function Qs(e,t){throw new N(-201,!1)}let hi;function Vc(){return hi}function Be(e){const t=hi;return hi=e,t}function Hc(e,t,n){const r=Mr(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:8&n?null:void 0!==t?t:void Qs()}const On={},fo="__NG_DI_FLAG__";class Ws{injector;constructor(t){this.injector=t}retrieve(t,n){const r=Ln(n)||0;try{return this.injector.get(t,8&r?null:On,r)}catch(i){if(ue(i))return i;throw i}}}const ho="ngTempTokenPath",$c=/\n/gm,Zc="__source";function Gs(e,t=0){const n=we();if(void 0===n)throw new N(-203,!1);if(null===n)return Hc(e,void 0,t);{const r=function nr(e){return{optional:!!(8&e),host:!!(1&e),self:!!(2&e),skipSelf:!!(4&e)}}(t),i=n.retrieve(e,r);if(ue(i)){if(r.optional)return null;throw i}return i}}function te(e,t=0){return(Vc()||Gs)(Q(e),t)}function O(e,t){return te(e,Ln(t))}function Ln(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Js(e){const t=[];for(let n=0;n<e.length;n++){const r=Q(e[n]);if(Array.isArray(r)){if(0===r.length)throw new N(900,!1);let i,s=0;for(let c=0;c<r.length;c++){const u=r[c],d=Bt(u);"number"==typeof d?-1===d?i=u.token:s|=d:i=u}t.push(te(i,s))}else t.push(te(r))}return t}function Dn(e,t){return e[fo]=t,e.prototype[fo]=t,e}function Bt(e){return e[fo]}function rr(e,t){return e.hasOwnProperty(ne)?e[ne]:null}function Ar(e,t){e.forEach(n=>Array.isArray(n)?Ar(n,t):t(n))}function Gc(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function pi(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const sn={},ye=[],Bn=new F(""),mi=new F("",-1),Ks=new F("");class en{get(t,n=On){if(n===On)throw new bc(`NullInjectorError: No provider for ${dt(t)}!`);return n}}function me(e){return e[lo]||null}function Ue(e){return e[zs]||null}function an(e){return e[ad]||null}function mo(...e){return{\u0275providers:_o(0,e),\u0275fromNgModule:!0}}function _o(e,...t){const n=[],r=new Set;let i;const s=c=>{n.push(c)};return Ar(t,c=>{const u=c;or(u,s,[],r)&&(i||=[],i.push(u))}),void 0!==i&&yo(i,s),n}function yo(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];Pr(i,s=>{t(s,r)})}}function or(e,t,n,r){if(!(e=Q(e)))return!1;let i=null,s=er(e);const c=!s&&me(e);if(s||c){if(c&&!c.standalone)return!1;i=e}else{const d=e.ngModule;if(s=er(d),!s)return!1;i=d}const u=r.has(i);if(c){if(u)return!1;if(r.add(i),c.dependencies){const d="function"==typeof c.dependencies?c.dependencies():c.dependencies;for(const h of d)or(h,t,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!u){let h;r.add(i);try{Ar(s.imports,p=>{or(p,t,n,r)&&(h||=[],h.push(p))})}finally{}void 0!==h&&yo(h,t)}if(!u){const h=rr(i)||(()=>new i);t({provide:i,useFactory:h,deps:ye},i),t({provide:Ks,useValue:i,multi:!0},i),t({provide:Bn,useValue:()=>te(i),multi:!0},i)}const d=s.providers;if(null!=d&&!u){const h=e;Pr(d,p=>{t(p,h)})}}}return i!==e&&void 0!==e.providers}function Pr(e,t){for(let n of e)Hs(n)&&(n=n.\u0275providers),Array.isArray(n)?Pr(n,t):t(n)}const Rr=De({provide:String,useValue:De});function Fr(e){return null!==e&&"object"==typeof e&&Rr in e}function Un(e){return"function"==typeof e}const na=new F(""),_i={},Jc={};let Do;function ra(){return void 0===Do&&(Do=new en),Do}class We{}class un extends We{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Co(t,c=>this.processProvider(c)),this.records.set(mi,ln(void 0,this)),i.has("environment")&&this.records.set(We,ln(void 0,this));const s=this.records.get(na);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Ks,ye,{self:!0}))}retrieve(t,n){const r=Ln(n)||0;try{return this.get(t,On,r)}catch(i){if(ue(i))return i;throw i}}destroy(){yi(this),this._destroyed=!0;const t=k(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),k(t)}}onDestroy(t){return yi(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){yi(this);const n=qt(this),r=Be(void 0);try{return t()}finally{qt(n),Be(r)}}get(t,n=On,r){if(yi(this),t.hasOwnProperty(Lt))return t[Lt](this);const i=Ln(r),c=qt(this),u=Be(void 0);try{if(!(4&i)){let h=this.records.get(t);if(void 0===h){const p=function Yc(e){return"function"==typeof e||"object"==typeof e&&"InjectionToken"===e.ngMetadataName}(t)&&Mr(t);h=p&&this.injectableDefInScope(p)?ln(ia(t),_i):null,this.records.set(t,h)}if(null!=h)return this.hydrate(t,h)}return(2&i?ra():this.parent).get(t,n=8&i&&n===On?null:n)}catch(d){if(ue(d)){if((d[ho]=d[ho]||[]).unshift(dt(t)),c)throw d;return function Qc(e,t,n,r){const i=e[ho];throw t[Zc]&&i.unshift(t[Zc]),e.message=function Wc(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=dt(t);if(Array.isArray(t))i=t.map(dt).join(" -> ");else if("object"==typeof t){let s=[];for(let c in t)if(t.hasOwnProperty(c)){let u=t[c];s.push(c+":"+("string"==typeof u?JSON.stringify(u):dt(u)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace($c,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[ho]=null,e}(d,t,"R3InjectorError",this.source)}throw d}finally{Be(u),qt(c)}}resolveInjectorInitializers(){const t=k(null),n=qt(this),r=Be(void 0);try{const s=this.get(Bn,ye,{self:!0});for(const c of s)c()}finally{qt(n),Be(r),k(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(dt(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){let n=Un(t=Q(t))?t:Q(t&&t.provide);const r=function fd(e){return Fr(e)?ln(void 0,e.useValue):ln(function oa(e,t,n){let r;if(Un(e)){const i=Q(e);return rr(i)||ia(i)}if(Fr(e))r=()=>Q(e.useValue);else if(function ta(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Js(e.deps||[]));else if(function vo(e){return!(!e||!e.useExisting)}(e))r=()=>te(Q(e.useExisting));else{const i=Q(e&&(e.useClass||e.provide));if(!function hd(e){return!!e.deps}(e))return rr(i)||ia(i);r=()=>new i(...Js(e.deps))}return r}(e),_i)}(t);if(!Un(t)&&!0===t.multi){let i=this.records.get(n);i||(i=ln(void 0,_i,!0),i.factory=()=>Js(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){const r=k(null);try{return n.value===Jc?jc(dt(t)):n.value===_i&&(n.value=Jc,n.value=n.factory()),"object"==typeof n.value&&n.value&&function kr(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{k(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Q(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function ia(e){const t=Mr(e),n=null!==t?t.factory:rr(e);if(null!==n)return n;if(e instanceof F)throw new N(204,!1);if(e instanceof Function)return function Eo(e){if(e.length>0)throw new N(204,!1);const n=function Bs(e){return(e?.[li]??null)||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new N(204,!1)}function yi(e){if(e.destroyed)throw new N(205,!1)}function ln(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Co(e,t){for(const n of e)Array.isArray(n)?Co(n,t):n&&Hs(n)?Co(n.\u0275providers,t):t(n)}function sa(e,t){let n;e instanceof un?(yi(e),n=e):n=new Ws(e);const i=qt(n),s=Be(void 0);try{return t()}finally{qt(i),Be(s)}}const o=17,a=18,g=21,E=24,b=26;function le(e){return Array.isArray(e)&&"object"==typeof e[1]}function Ke(e){return Array.isArray(e)&&!0===e[1]}function aa(e){return!!(4&e.flags)}function Hn(e){return e.componentOffset>-1}function Io(e){return!(1&~e.flags)}function St(e){return!!e.template}function zn(e){return!!(512&e[2])}function jt(e){return!(256&~e[2])}function _t(e){for(;Array.isArray(e);)e=e[0];return e}function Vt(e,t){return _t(t[e.index])}function Mo(e,t){return e.data[t]}function Nt(e,t){const n=t[e];return le(n)?n:n[0]}function yd(e){return!(128&~e[2])}function Ht(e,t){return null==t?null:e[t]}function Mg(e){e[o]=0}function xg(e){1024&e[2]||(e[2]|=1024,yd(e)&&xo(e))}function tu(e){return!!(9216&e[2]||e[E]?.dirty)}function vd(e){e[10].changeDetectionScheduler?.notify(8),64&e[2]&&(e[2]|=1024),tu(e)&&xo(e)}function xo(e){e[10].changeDetectionScheduler?.notify(0);let t=cr(e);for(;null!==t&&!(8192&t[2])&&(t[2]|=8192,yd(t));)t=cr(t)}function nu(e,t){if(jt(e))throw new N(911,!1);null===e[g]&&(e[g]=[]),e[g].push(t)}function cr(e){const t=e[3];return Ke(t)?t[3]:t}const J={lFrame:Hg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Ed=!1;function Cd(){return J.bindingsEnabled}function x(){return J.lFrame.lView}function re(){return J.lFrame.tView}function ca(e){return J.lFrame.contextLView=e,e[8]}function ua(e){return J.lFrame.contextLView=null,e}function ae(){let e=Fg();for(;null!==e&&64===e.type;)e=e.parent;return e}function Fg(){return J.lFrame.currentTNode}function Cn(e,t){const n=J.lFrame;n.currentTNode=e,n.isParent=t}function bd(){return J.lFrame.isParent}function Lg(){return Ed}function ru(e){const t=Ed;return Ed=e,t}function Pt(){const e=J.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function nn(){return J.lFrame.bindingIndex++}function oI(e,t){const n=J.lFrame;n.bindingIndex=n.bindingRootIndex=e,Td(t)}function Td(e){J.lFrame.currentDirectiveIndex=e}function iu(e){J.lFrame.currentQueryIndex=e}function aI(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[5]:null}function jg(e,t,n){if(4&n){let i=t,s=e;for(;!(i=i.parent,null!==i||1&n||(i=aI(s),null===i||(s=s[14],10&i.type))););if(null===i)return!1;t=i,e=s}const r=J.lFrame=Vg();return r.currentTNode=t,r.lView=e,!0}function xd(e){const t=Vg(),n=e[1];J.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Vg(){const e=J.lFrame,t=null===e?null:e.child;return null===t?Hg(e):t}function Hg(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function zg(){const e=J.lFrame;return J.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const $g=zg;function Ad(){const e=zg();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function wt(){return J.lFrame.selectedIndex}function Di(e){J.lFrame.selectedIndex=e}let Zg=!0;function da(){return Zg}function fa(e){Zg=e}function Qg(e,t=null,n=null,r){const i=function Wg(e,t=null,n=null,r,i=new Set){const s=[n||ye,mo(e)];return r=r||("object"==typeof e?void 0:dt(e)),new un(s,t||ra(),r||null,i)}(e,t,n,r);return i.resolveInjectorInitializers(),i}class bn{static THROW_IF_NOT_FOUND=On;static NULL=new en;static create(t,n){if(Array.isArray(t))return Qg({name:""},n,t,"");{const r=t.name??"";return Qg({name:r},t.parent,t.providers,r)}}static \u0275prov=Y({token:bn,providedIn:"any",factory:()=>te(mi)});static __NG_ELEMENT_ID__=-1}const dr=new F("");let Or=(()=>class e{static __NG_ELEMENT_ID__=pI;static __NG_ENV_ID__=n=>n})();class Gg extends Or{_lView;constructor(t){super(),this._lView=t}get destroyed(){return jt(this._lView)}onDestroy(t){const n=this._lView;return nu(n,t),()=>function wd(e,t){if(null===e[g])return;const n=e[g].indexOf(t);-1!==n&&e[g].splice(n,1)}(n,t)}}function pI(){return new Gg(x())}class No{_console=console;handleError(t){this._console.error("ERROR",t)}}const fr=new F("",{providedIn:"root",factory:()=>{const e=O(We);let t;return n=>{t??=e.get(No),t.handleError(n)}}}),qg={provide:Bn,useValue:()=>{O(No)},multi:!0};class Ei{}const Xg=new F("",{providedIn:"root",factory:()=>!1}),em=new F(""),tm=new F("");let Po=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Oc(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ke(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Y({token:e,providedIn:"root",factory:()=>new e})}return e})(),Rd=(()=>{class e{internalPendingTasks=O(Po);scheduler=O(Ei);errorHandler=O(fr);add(){const n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){const r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=Y({token:e,providedIn:"root",factory:()=>new e})}return e})();function ha(...e){}let nm=(()=>{class e{static \u0275prov=Y({token:e,providedIn:"root",factory:()=>new _I})}return e})();class _I{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){const r=this.queues.get(t.zone);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){const n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);const r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(const[n,r]of this.queues)t||=null===n?this.flushQueue(r):n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(const r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}}let rm=null;function Fd(){return rm}class vI{}function im(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}class om{}function hr(e){return t=>{if(function EI(e){return $e(e?.lift)}(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pr(e,t,n,r,i){return new CI(e,t,n,r,i)}class CI extends to{constructor(t,n,r,i,s,c){super(t),this.onFinalize=s,this.shouldUnsubscribe=c,this._next=n?function(u){try{n(u)}catch(d){t.error(d)}}:super._next,this._error=i?function(u){try{i(u)}catch(d){t.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Lr(e,t){return hr((n,r)=>{let i=0;n.subscribe(pr(r,s=>{r.next(e.call(t,s,i++))}))})}function gr(e){return{toString:e}.toString()}const Fo="__parameters__";function Oo(e,t,n){return gr(()=>{const r=function kd(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...s){if(this instanceof i)return r.apply(this,s),this;const c=new i(...s);return u.annotation=c,u;function u(d,h,p){const m=d.hasOwnProperty(Fo)?d[Fo]:Object.defineProperty(d,Fo,{value:[]})[Fo];for(;m.length<=p;)m.push(null);return(m[p]=m[p]||[]).push(c),d}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}const Od=Dn(Oo("Optional"),8),Ld=Dn(Oo("SkipSelf"),4);class FI{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function um(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}const ga=(()=>{const e=()=>lm;return e.ngInherit=!0,e})();function lm(e){return e.type.prototype.ngOnChanges&&(e.setInput=OI),kI}function kI(){const e=fm(this),t=e?.current;if(t){const n=e.previous;if(n===sn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function OI(e,t,n,r,i){const s=this.declaredInputs[r],c=fm(e)||function LI(e,t){return e[dm]=t}(e,{previous:sn,current:null}),u=c.current||(c.current={}),d=c.previous,h=d[s];u[s]=new FI(h&&h.currentValue,n,d===sn),um(e,t,i,n)}const dm="__ngSimpleChanges__";function fm(e){return e[dm]||null}const bi=[],Ee=function(e,t=null,n){for(let r=0;r<bi.length;r++)(0,bi[r])(e,t,n)};function Ud(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:u,ngAfterViewInit:d,ngAfterViewChecked:h,ngOnDestroy:p}=s;c&&(e.contentHooks??=[]).push(-n,c),u&&((e.contentHooks??=[]).push(n,u),(e.contentCheckHooks??=[]).push(n,u)),d&&(e.viewHooks??=[]).push(-n,d),h&&((e.viewHooks??=[]).push(n,h),(e.viewCheckHooks??=[]).push(n,h)),null!=p&&(e.destroyHooks??=[]).push(n,p)}}function su(e,t,n){hm(e,t,3,n)}function au(e,t,n,r){(3&e[2])===n&&hm(e,t,n,r)}function jd(e,t){let n=e[2];(3&n)===t&&(n&=16383,n+=1,e[2]=n)}function hm(e,t,n,r){const s=r??-1,c=t.length-1;let u=0;for(let d=void 0!==r?65535&e[o]:0;d<c;d++)if("number"==typeof t[d+1]){if(u=t[d],null!=r&&u>=r)break}else t[d]<0&&(e[o]+=65536),(u<s||-1==s)&&(HI(e,n,t,d),e[o]=(4294901760&e[o])+d+2),d++}function pm(e,t){Ee(4,e,t);const n=k(null);try{t.call(e)}finally{k(n),Ee(5,e,t)}}function HI(e,t,n,r){const i=n[r]<0,s=n[r+1],u=e[i?-n[r]:n[r]];i?e[2]>>14<e[o]>>16&&(3&e[2])===t&&(e[2]+=16384,pm(u,s)):pm(u,s)}class ma{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}}function mm(e){return 3===e||4===e||6===e}function _m(e){return 64===e.charCodeAt(0)}function Bo(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||ym(e,n,i,0,-1===n||2===n?t[++r]:null)}}return e}function ym(e,t,n,r,i){let s=0,c=e.length;if(-1===t)c=-1;else for(;s<e.length;){const u=e[s++];if("number"==typeof u){if(u===t){c=-1;break}if(u>t){c=s-1;break}}}for(;s<e.length;){const u=e[s];if("number"==typeof u)break;if(u===n)return void(null!==i&&(e[s+1]=i));s++,null!==i&&s++}-1!==c&&(e.splice(c,0,t),s=c+1),e.splice(s++,0,n),null!==i&&e.splice(s++,0,i)}function Hd(e){return-1!==e}function _a(e){return 32767&e}function ya(e,t){let n=function QI(e){return e>>16}(e),r=t;for(;n>0;)r=r[14],n--;return r}let zd=!0;function cu(e){const t=zd;return zd=e,t}let WI=0;const Zn={};function uu(e,t){const n=Dm(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,$d(r.data,e),$d(t,null),$d(r.blueprint,null));const i=lu(e,t),s=e.injectorIndex;if(Hd(i)){const c=_a(i),u=ya(i,t),d=u[1].data;for(let h=0;h<8;h++)t[s+h]=u[c+h]|d[c+h]}return t[s+8]=i,s}function $d(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Dm(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function lu(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=Mm(i),null===r)return-1;if(n++,i=i[14],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Zd(e,t,n){!function GI(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(fi)&&(r=n[fi]),null==r&&(r=n[fi]=WI++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Em(e,t,n){if(8&n||void 0!==e)return e;Qs()}function Cm(e,t,n,r){if(8&n&&void 0===r&&(r=null),!(3&n)){const i=e[9],s=Be(void 0);try{return i?i.get(t,r,8&n):Hc(t,r,8&n)}finally{Be(s)}}return Em(r,0,n)}function bm(e,t,n,r=0,i){if(null!==e){if(2048&t[2]&&!(2&r)){const c=function eT(e,t,n,r,i){let s=e,c=t;for(;null!==s&&null!==c&&2048&c[2]&&!zn(c);){const u=Im(s,c,n,2|r,Zn);if(u!==Zn)return u;let d=s.parent;if(!d){const h=c[20];if(h){const p=h.get(n,Zn,r);if(p!==Zn)return p}d=Mm(c),c=c[14]}s=d}return i}(e,t,n,r,Zn);if(c!==Zn)return c}const s=Im(e,t,n,r,Zn);if(s!==Zn)return s}return Cm(t,n,r,i)}function Im(e,t,n,r,i){const s=function YI(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(fi)?e[fi]:void 0;return"number"==typeof t?t>=0?255&t:KI:t}(n);if("function"==typeof s){if(!jg(t,e,r))return 1&r?Em(i,0,r):Cm(t,n,r,i);try{let c;if(c=s(r),null!=c||8&r)return c;Qs()}finally{$g()}}else if("number"==typeof s){let c=null,u=Dm(e,t),d=-1,h=1&r?t[15][5]:null;for((-1===u||4&r)&&(d=-1===u?lu(e,t):t[u+8],-1!==d&&Sm(r,!1)?(c=t[1],u=_a(d),t=ya(d,t)):u=-1);-1!==u;){const p=t[1];if(Tm(s,u,p.data)){const m=JI(u,t,n,c,r,h);if(m!==Zn)return m}d=t[u+8],-1!==d&&Sm(r,t[1].data[u+8]===h)&&Tm(s,u,t)?(c=p,u=_a(d),t=ya(d,t)):u=-1}}return i}function JI(e,t,n,r,i,s){const c=t[1],u=c.data[e+8],p=function du(e,t,n,r,i){const s=e.providerIndexes,c=t.data,u=1048575&s,d=e.directiveStart,p=s>>20,v=i?u+p:e.directiveEnd;for(let y=r?u:u+p;y<v;y++){const D=c[y];if(y<d&&n===D||y>=d&&D.type===n)return y}if(i){const y=c[d];if(y&&St(y)&&y.type===n)return d}return null}(u,c,n,null==r?Hn(u)&&zd:r!=c&&!!(3&u.type),1&i&&s===u);return null!==p?va(t,c,p,u):Zn}function va(e,t,n,r){let i=e[n];const s=t.data;if(i instanceof ma){const c=i;c.resolving&&jc(function de(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():$(e)}(s[n]));const u=cu(c.canSeeViewProviders);c.resolving=!0;const p=c.injectImpl?Be(c.injectImpl):null;jg(e,r,0);try{i=e[n]=c.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function VI(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const c=lm(t);(n.preOrderHooks??=[]).push(e,c),(n.preOrderCheckHooks??=[]).push(e,c)}i&&(n.preOrderHooks??=[]).push(0-e,i),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}(n,s[n],t)}finally{null!==p&&Be(p),cu(u),c.resolving=!1,$g()}}return i}function Tm(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Sm(e,t){return!(2&e||1&e&&t)}class Xe{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return bm(this._tNode,this._lView,t,Ln(r),n)}}function KI(){return new Xe(ae(),x())}function Mm(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[5]:null}function cT(){return Uo(ae(),x())}function Uo(e,t){return new jo(Vt(e,t))}let jo=(()=>class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=cT})();function wa(e){return!(128&~e.flags)}Symbol;var hu=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(hu||{});const pu=new Map;let hT=0;function Jd(e){pu.delete(e[19])}const Kd="__ngContext__";function $t(e,t){le(t)?(e[Kd]=t[19],function gT(e){pu.set(e[19],e)}(t)):e[Kd]=t}function $m(e){return Qm(e[12])}function Zm(e){return Qm(e[4])}function Qm(e){for(;null!==e&&!Ke(e);)e=e[4];return e}let Xd;const mu=new F("",{providedIn:"root",factory:()=>LT}),LT="ng",Xm=new F(""),ef=new F("",{providedIn:"platform",factory:()=>"unknown"}),e_=new F("",{providedIn:"root",factory:()=>function Ti(){if(void 0!==Xd)return Xd;if(typeof document<"u")return document;throw new N(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),QT=new F("",{providedIn:"root",factory:()=>!1});function C_(e,t){const n=e.contentQueries;if(null!==n){const r=k(null);try{for(let i=0;i<n.length;i+=2){const c=n[i+1];if(-1!==c){const u=e.data[c];iu(n[i]),u.contentQueries(2,t[c],c)}}}finally{k(r)}}}function yf(e,t,n){iu(0);const r=k(null);try{t(e,n)}finally{k(r)}}function vf(e,t,n){if(aa(t)){const r=k(null);try{const s=t.directiveEnd;for(let c=t.directiveStart;c<s;c++){const u=e.data[c];u.contentQueries&&u.contentQueries(1,n[c],c)}}finally{k(r)}}}var mr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(mr||{});function oM(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}n=i+1}}const W_="ng-template";function sM(e,t,n,r){let i=0;if(r){for(;i<t.length&&"string"==typeof t[i];i+=2)if("class"===t[i]&&-1!==oM(t[i+1].toLowerCase(),n,0))return!0}else if(Sf(e))return!1;if(i=t.indexOf(1,i),i>-1){let s;for(;++i<t.length&&"string"==typeof(s=t[i]);)if(s.toLowerCase()===n)return!0}return!1}function Sf(e){return 4===e.type&&e.value!==W_}function aM(e,t,n){return t===(4!==e.type||n?e.value:W_)}function cM(e,t,n){let r=4;const i=e.attrs,s=null!==i?function dM(e){for(let t=0;t<e.length;t++)if(mm(e[t]))return t;return e.length}(i):0;let c=!1;for(let u=0;u<t.length;u++){const d=t[u];if("number"!=typeof d){if(!c)if(4&r){if(r=2|1&r,""!==d&&!aM(e,d,n)||""===d&&1===t.length){if(In(r))return!1;c=!0}}else if(8&r){if(null===i||!sM(e,i,d,n)){if(In(r))return!1;c=!0}}else{const h=t[++u],p=uM(d,i,Sf(e),n);if(-1===p){if(In(r))return!1;c=!0;continue}if(""!==h){let m;if(m=p>s?"":i[p+1].toLowerCase(),2&r&&h!==m){if(In(r))return!1;c=!0}}}}else{if(!c&&!In(r)&&!In(d))return!1;if(c&&In(d))continue;c=!1,r=d|1&r}}return In(r)||c}function In(e){return!(1&e)}function uM(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let s=!1;for(;i<t.length;){const c=t[i];if(c===e)return i;if(3===c||6===c)s=!0;else{if(1===c||2===c){let u=t[++i];for(;"string"==typeof u;)u=t[++i];continue}if(4===c)break;if(0===c){i+=4;continue}}i+=s?1:2}return-1}return function fM(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function G_(e,t,n=!1){for(let r=0;r<t.length;r++)if(cM(e,t[r],n))return!0;return!1}function q_(e,t){return e?":not("+t.trim()+")":t}function pM(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let c=e[n];if("string"==typeof c)if(2&r){const u=e[++n];i+="["+c+(u.length>0?'="'+u+'"':"")+"]"}else 8&r?i+="."+c:4&r&&(i+=" "+c);else""!==i&&!In(c)&&(t+=q_(s,i),i=""),r=c,s=s||!In(r);n++}return""!==i&&(t+=q_(s,i)),t}const be={};function Su(e,t,n){return e.createElement(t,n)}function Mi(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Y_(e,t,n){e.appendChild(t,n)}function K_(e,t,n,r,i){null!==r?Mi(e,t,n,r,i):Y_(e,t,n)}function Sa(e,t,n){e.removeChild(null,t,n)}function ey(e,t,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&function ZI(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],c=n[r++],u=n[r++];e.setAttribute(t,c,u,s)}else{const s=i,c=n[++r];_m(s)?e.setProperty(t,s,c):e.setAttribute(t,s,c),r++}}}(e,t,r),null!==i&&function yM(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}(e,t,i),null!==s&&function _M(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}function Af(e,t,n,r,i,s,c,u,d,h,p){const m=b+r,v=m+i,y=function vM(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:be);return n}(m,v),D="function"==typeof h?h():h;return y[1]={type:e,blueprint:y,template:n,queries:null,viewQuery:u,declTNode:t,data:y.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:d,consts:D,incompleteFirstPass:!1,ssrId:p}}function Mu(e,t,n,r,i,s,c,u,d,h,p){const m=t.blueprint.slice();return m[0]=i,m[2]=1228|r,(null!==h||e&&2048&e[2])&&(m[2]|=2048),Mg(m),m[3]=m[14]=e,m[8]=n,m[10]=c||e&&e[10],m[11]=u||e&&e[11],m[9]=d||e&&e[9]||null,m[5]=s,m[19]=function pT(){return hT++}(),m[6]=p,m[20]=h,m[15]=2==t.type?e[15]:m,m}function Nf(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Ma(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Pf(e,t){return e[12]?e[13][4]=t:e[12]=t,e[13]=t,t}function _e(e=1){ny(re(),x(),wt()+e,!1)}function ny(e,t,n,r){if(!r)if(3&~t[2]){const s=e.preOrderHooks;null!==s&&au(t,s,0,n)}else{const s=e.preOrderCheckHooks;null!==s&&su(t,s,n)}Di(n)}var xu=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(xu||{});function xa(e,t,n,r){const i=k(null);try{const[s,c,u]=e.inputs[n];let d=null;0!==(c&xu.SignalBased)&&(d=t[s][ze]),null!==d&&void 0!==d.transformFn?r=d.transformFn(r):null!==u&&(r=u.call(t,r)),null!==e.setInput?e.setInput(t,d,r,n,s):um(t,d,s,r)}finally{k(i)}}function ry(e,t,n,r,i){const s=wt(),c=2&r;try{Di(-1),c&&t.length>b&&ny(e,t,b,!1),Ee(c?2:0,i,n),n(r,i)}finally{Di(s),Ee(c?3:1,i,n)}}function Au(e,t,n){(function TM(e,t,n){const r=n.directiveStart,i=n.directiveEnd;Hn(n)&&function wM(e,t,n){const r=Vt(t,e),i=function ty(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Af(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}(n),s=e[10].rendererFactory,c=Pf(e,Mu(e,i,null,Nf(n),r,t,null,s.createRenderer(r,n),null,null,null));e[t.index]=c}(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||uu(n,t);const s=n.initialInputs;for(let c=r;c<i;c++){const u=e.data[c],d=va(t,e,c,n);$t(d,t),null!==s&&AM(0,c-r,d,u,0,s),St(u)&&(Nt(n.index,t)[8]=va(t,e,c,n))}})(e,t,n),!(64&~n.flags)&&function SM(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,c=function sI(){return J.lFrame.currentDirectiveIndex}();try{Di(s);for(let u=r;u<i;u++){const d=e.data[u],h=t[u];Td(u),(null!==d.hostBindings||0!==d.hostVars||null!==d.hostAttrs)&&MM(d,h)}}finally{Di(-1),Td(c)}}(e,t,n)}function Rf(e,t,n=Vt){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const c=r[s+1],u=-1===c?n(t,e):e[c];e[i++]=u}}}let iy=()=>null;function Ff(e,t,n,r,i,s){Uf(e,t[1],t,n,r)?Hn(e)&&function IM(e,t){const n=Nt(t,e);16&n[2]||(n[2]|=64)}(t,e.index):function kf(e,t,n,r,i,s){if(3&e.type){const c=Vt(e,t);n=function bM(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),r=null!=s?s(r,e.value||"",n):r,i.setProperty(c,n,r)}}(e,t,n,r,i,s)}function MM(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Of(e,t){const n=e.directiveRegistry;let r=null;if(n)for(let i=0;i<n.length;i++){const s=n[i];G_(t,s.selectors,!1)&&(r??=[],St(s)?r.unshift(s):r.push(s))}return r}function AM(e,t,n,r,i,s){const c=s[t];if(null!==c)for(let u=0;u<c.length;u+=2)xa(r,n,c[u],c[u+1])}function Uf(e,t,n,r,i){const s=e.inputs?.[r],c=e.hostDirectiveInputs?.[r];let u=!1;if(c)for(let d=0;d<c.length;d+=2){const h=c[d];xa(t.data[h],n[h],c[d+1],i),u=!0}if(s)for(const d of s)xa(t.data[d],n[d],r,i),u=!0;return u}function PM(e,t){const n=Nt(t,e),r=n[1];!function RM(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[0];null!==i&&null===n[6]&&(n[6]=null),Ee(18),Nu(r,n,n[8]),Ee(19,n[8])}function Nu(e,t,n){xd(t);try{const r=e.viewQuery;null!==r&&yf(1,r,n);const i=e.template;null!==i&&ry(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[a]?.finishViewCreation(e),e.staticContentQueries&&C_(e,t),e.staticViewQueries&&yf(2,e.viewQuery,n);const s=e.components;null!==s&&function FM(e,t){for(let n=0;n<t.length;n++)PM(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,Ad()}}function Go(e,t,n,r){const i=k(null);try{const s=t.tView,d=Mu(e,s,n,4096&e[2]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);d[16]=e[t.index];const p=e[a];return null!==p&&(d[a]=p.createEmbeddedView(s)),Nu(s,d,n),d}finally{k(i)}}function xi(e,t){return!t||null===t.firstChild||wa(e)}function Vf(e,t){return undefined(e,t)}var Vr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Vr||{});function Ai(e){return!(32&~e.flags)}function qo(e,t,n,r,i){if(null!=r){let s,c=!1;Ke(r)?s=r:le(r)&&(c=!0,r=r[0]);const u=_t(r);0===e&&null!==n?null==i?Y_(t,n,u):Mi(t,n,u,i||null,!0):1===e&&null!==n?Mi(t,n,u,i||null,!0):2===e?Sa(t,u,c):3===e&&t.destroyNode(u),null!=s&&function HM(e,t,n,r,i){const s=n[7];s!==_t(n)&&qo(t,e,r,s,i);for(let u=10;u<n.length;u++){const d=n[u];Ru(d[1],d,e,t,r,s)}}(t,e,s,n,i)}}function uy(e,t){t[10].changeDetectionScheduler?.notify(9),Ru(e,t,t[11],2,null,null)}function Hf(e,t){const n=e[9],r=n.indexOf(t);n.splice(r,1)}function Aa(e,t){if(jt(t))return;const n=t[11];n.destroyNode&&Ru(e,t,n,3,null,null),function BM(e){let t=e[12];if(!t)return zf(e[1],e);for(;t;){let n=null;if(le(t))n=t[12];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)le(t)&&zf(t[1],t),t=t[3];null===t&&(t=e),le(t)&&zf(t[1],t),n=t&&t[4]}t=n}}(t)}function zf(e,t){if(jt(t))return;const n=k(null);try{t[2]&=-129,t[2]|=256,t[E]&&Ot(t[E]),function jM(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof ma)){const s=n[r+1];if(Array.isArray(s))for(let c=0;c<s.length;c+=2){const u=i[s[c]],d=s[c+1];Ee(4,u,d);try{d.call(u)}finally{Ee(5,u,d)}}else{Ee(4,i,s);try{s.call(i)}finally{Ee(5,i,s)}}}}}(e,t),function UM(e,t){const n=e.cleanup,r=t[7];if(null!==n)for(let c=0;c<n.length-1;c+=2)if("string"==typeof n[c]){const u=n[c+3];u>=0?r[u]():r[-u].unsubscribe(),c+=2}else n[c].call(r[n[c+1]]);null!==r&&(t[7]=null);const i=t[g];if(null!==i){t[g]=null;for(let c=0;c<i.length;c++)(0,i[c])()}const s=t[23];if(null!==s){t[23]=null;for(const c of s)c.destroy()}}(e,t),1===t[1].type&&t[11].destroy();const r=t[16];if(null!==r&&Ke(t[3])){r!==t[3]&&Hf(r,t);const i=t[a];null!==i&&i.detachView(e)}Jd(t)}finally{k(n)}}function $f(e,t,n){return function ly(e,t,n){let r=t;for(;null!==r&&168&r.type;)r=(t=r).parent;if(null===r)return n[0];if(Hn(r)){const{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===mr.None||i===mr.Emulated)return null}return Vt(r,n)}(e,t.parent,n)}let hy=function fy(e,t,n){return 40&e.type?Vt(e,n):null};function Pu(e,t,n,r){const i=$f(e,r,t),s=t[11],u=function dy(e,t,n){return hy(e,t,n)}(r.parent||t[5],r,t);if(null!=i)if(Array.isArray(n))for(let d=0;d<n.length;d++)K_(s,i,n[d],u,!1);else K_(s,i,n,u,!1)}function Ni(e,t){if(null!==t){const n=t.type;if(3&n)return Vt(t,e);if(4&n)return Qf(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Ni(e,r);{const i=e[t.index];return Ke(i)?Qf(-1,i):_t(i)}}if(128&n)return Ni(e,t.next);if(32&n)return Vf(t,e)()||_t(e[t.index]);{const r=gy(e,t);return null!==r?Array.isArray(r)?r[0]:Ni(cr(e[15]),r):Ni(e,t.next)}}return null}function gy(e,t){return null!==t?e[15][5].projection[t.projection]:null}function Qf(e,t){const n=10+e+1;if(n<t.length){const r=t[n],i=r[1].firstChild;if(null!==i)return Ni(r,i)}return t[7]}function Wf(e,t,n,r,i,s,c){for(;null!=n;){if(128===n.type){n=n.next;continue}const u=r[n.index],d=n.type;if(c&&0===t&&(u&&$t(_t(u),r),n.flags|=2),!Ai(n))if(8&d)Wf(e,t,n.child,r,i,s,!1),qo(t,e,i,u,s);else if(32&d){const h=Vf(n,r);let p;for(;p=h();)qo(t,e,i,p,s);qo(t,e,i,u,s)}else 16&d?my(e,t,r,n,i,s):qo(t,e,i,u,s);n=c?n.projectionNext:n.next}}function Ru(e,t,n,r,i,s){Wf(n,r,e.firstChild,t,i,s,!1)}function my(e,t,n,r,i,s){const c=n[15],d=c[5].projection[r.projection];if(Array.isArray(d))for(let h=0;h<d.length;h++)qo(t,e,i,d[h],s);else{let h=d;const p=c[3];wa(r)&&(h.flags|=128),Wf(e,t,h,p,i,s,!0)}}function Na(e,t,n,r,i=!1){for(;null!==n;){if(128===n.type){n=i?n.projectionNext:n.next;continue}const s=t[n.index];null!==s&&r.push(_t(s)),Ke(s)&&$M(s,r);const c=n.type;if(8&c)Na(e,t,n.child,r);else if(32&c){const u=Vf(n,t);let d;for(;d=u();)r.push(d)}else if(16&c){const u=gy(t,n);if(Array.isArray(u))r.push(...u);else{const d=cr(t[15]);Na(d[1],d,u,r,!0)}}n=i?n.projectionNext:n.next}return r}function $M(e,t){for(let n=10;n<e.length;n++){const r=e[n],i=r[1].firstChild;null!==i&&Na(r[1],r,i,t)}e[7]!==e[0]&&t.push(e[7])}function _y(e){if(null!==e[25]){for(const t of e[25])t.impl.addSequence(t);e[25].length=0}}let yy=[];const GM={...ht,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{xo(e.lView)},consumerOnSignalRead(){this.lView[E]=this}},JM={...ht,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=cr(e.lView);for(;t&&!vy(t[1]);)t=cr(t);t&&xg(t)},consumerOnSignalRead(){this.lView[E]=this}};function vy(e){return 2!==e.type}function wy(e){if(null===e[23])return;let t=!0;for(;t;){let n=!1;for(const r of e[23])r.dirty&&(n=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(8192&e[2])}}function Fu(e,t=0){const r=e[10].rendererFactory;r.begin?.();try{!function KM(e,t){const n=Lg();try{ru(!0),Gf(e,t);let r=0;for(;tu(e);){if(100===r)throw new N(103,!1);r++,Gf(e,1)}}finally{ru(n)}}(e,t)}finally{r.end?.()}}function Dy(e,t,n,r){if(jt(t))return;const i=t[2];xd(t);let u=!0,d=null,h=null;vy(e)?(h=function ZM(e){return e[E]??function QM(e){const t=yy.pop()??Object.create(GM);return t.lView=e,t}(e)}(t),d=nt(h)):null===function Wi(){return Le}()?(u=!1,h=function qM(e){const t=e[E]??Object.create(JM);return t.lView=e,t}(t),d=nt(h)):t[E]&&(Ot(t[E]),t[E]=null);try{Mg(t),function Bg(e){return J.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&ry(e,t,n,2,r);const p=!(3&~i);if(p){const y=e.preOrderCheckHooks;null!==y&&su(t,y,null)}else{const y=e.preOrderHooks;null!==y&&au(t,y,0,null),jd(t,0)}if(function e0(e){for(let t=$m(e);null!==t;t=Zm(t)){if(!(2&t[2]))continue;const n=t[9];for(let r=0;r<n.length;r++)xg(n[r])}}(t),wy(t),Ey(t,0),null!==e.contentQueries&&C_(e,t),p){const y=e.contentCheckHooks;null!==y&&su(t,y)}else{const y=e.contentHooks;null!==y&&au(t,y,1),jd(t,1)}!function n0(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Di(~i);else{const s=i,c=n[++r],u=n[++r];oI(c,s);const d=t[s];Ee(24,d),u(2,d),Ee(25,d)}}}finally{Di(-1)}}(e,t);const m=e.components;null!==m&&by(t,m,0);const v=e.viewQuery;if(null!==v&&yf(2,v,r),p){const y=e.viewCheckHooks;null!==y&&su(t,y)}else{const y=e.viewHooks;null!==y&&au(t,y,2),jd(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[22]){for(const y of t[22])y();t[22]=null}_y(t),t[2]&=-73}catch(p){throw xo(t),p}finally{null!==h&&(pt(h,d),u&&function WM(e){e.lView[E]!==e&&(e.lView=null,yy.push(e))}(h)),Ad()}}function Ey(e,t){for(let n=$m(e);null!==n;n=Zm(n))for(let r=10;r<n.length;r++)Cy(n[r],t)}function t0(e,t,n){Ee(18);const r=Nt(t,e);Cy(r,n),Ee(19,r[8])}function Cy(e,t){yd(e)&&Gf(e,t)}function Gf(e,t){const r=e[1],i=e[2],s=e[E];let c=!!(0===t&&16&i);if(c||=!!(64&i&&0===t),c||=!!(1024&i),c||=!(!s?.dirty||!qi(s)),c||=!1,s&&(s.dirty=!1),e[2]&=-9217,c)Dy(r,e,r.template,e[8]);else if(8192&i){wy(e),Ey(e,1);const u=r.components;null!==u&&by(e,u,1),_y(e)}}function by(e,t,n){for(let r=0;r<t.length;r++)t0(e,t[r],n)}function Pa(e,t){const n=Lg()?64:1088;for(e[10].changeDetectionScheduler?.notify(t);e;){e[2]|=n;const r=cr(e);if(zn(e)&&!r)return e;e=r}return null}function Iy(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Ty(e,t){const n=10+t;if(n<e.length)return e[n]}function Jo(e,t,n,r=!0){const i=t[1];if(function r0(e,t,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=t),r<s-10?(t[4]=n[i],Gc(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const c=t[16];null!==c&&n!==c&&Sy(c,t);const u=t[a];null!==u&&u.insertView(e),vd(t),t[2]|=128}(i,t,e,n),r){const c=Qf(n,e),u=t[11],d=u.parentNode(e[7]);null!==d&&function LM(e,t,n,r,i,s){r[0]=i,r[5]=t,Ru(e,r,n,1,i,s)}(i,e[5],u,t,d,c)}const s=t[6];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function qf(e,t){const n=Ra(e,t);return void 0!==n&&Aa(n[1],n),n}function Ra(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[16];null!==i&&i!==e&&Hf(i,r),t>0&&(e[n-1][4]=r[4]);const s=pi(e,10+t);!function cy(e,t){uy(e,t),t[0]=null,t[5]=null}(r[1],r);const c=s[a];null!==c&&c.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Sy(e,t){const n=e[9],r=t[3];(le(r)||t[15]!==r[3][15])&&(e[2]|=2),null===n?e[9]=[t]:n.push(t)}class Fa{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const t=this._lView,n=t[1];return Na(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return jt(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Ke(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Ra(t,r),pi(n,r))}this._attachedToViewContainer=!1}Aa(this._lView[1],this._lView)}onDestroy(t){nu(this._lView,t)}markForCheck(){Pa(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[2]&=-129}reattach(){vd(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,Fu(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new N(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=zn(this._lView),n=this._lView[16];null!==n&&!t&&Hf(n,this._lView),uy(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new N(902,!1);this._appRef=t;const n=zn(this._lView),r=this._lView[16];null!==r&&!n&&Sy(r,this._lView),vd(this._lView)}}let yr=(()=>class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=o0;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){const s=Go(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Fa(s)}})();function o0(){return function ku(e,t){return 4&e.type?new yr(t,e,Uo(e,t)):null}(ae(),x())}function Yo(e,t,n,r,i){let s=e.data[t];if(null===s)s=function Xf(e,t,n,r,i){const s=Fg(),c=bd(),d=e.data[t]=function p0(e,t,n,r,i,s){let c=t?t.injectorIndex:-1,u=0;return function Rg(){return null!==J.skipHydrationRootTNode}()&&(u|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:c,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:u,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?s:s&&s.parent,n,t,r,i);return function h0(e,t,n,r){null===e.firstChild&&(e.firstChild=t),null!==n&&(r?null==n.child&&null!==t.parent&&(n.child=t):null===n.next&&(n.next=t,t.prev=n))}(e,d,s,c),d}(e,t,n,r,i),function iI(){return J.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const c=function la(){const e=J.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===c?-1:c.injectorIndex}return Cn(s,!0),s}function Qy(e,t){let n=0,r=e.firstChild;if(r){const i=e.data.r;for(;n<i;){const s=r.nextSibling;Sa(t,r,!1),r=s,n++}}}let J0=class{},Ky=class{};class Y0{resolveComponentFactory(t){throw new N(917,!1)}}let zu=class{static NULL=new Y0};class sh{}let X0=(()=>{class e{static \u0275prov=Y({token:e,providedIn:"root",factory:()=>null})}return e})();const ch={};class es{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){const i=this.injector.get(t,ch,r);return i!==ch||n===ch?i:this.parentInjector.get(t,n,r)}}function uh(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let c=0;c<t.length;c++){const u=t[c];"number"==typeof u?s=u:1==s?i=ks(i,u):2==s&&(r=ks(r,u+": "+t[++c]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function ce(e,t=0){const n=x();return null===n?te(e,t):bm(ae(),n,Q(e),t)}function lh(e,t,n,r,i){const s=null===r?null:{"":-1},c=i(e,n);if(null!==c){let u=c,d=null,h=null;for(const p of c)if(null!==p.resolveHostDirectives){[u,d,h]=p.resolveHostDirectives(c);break}!function sx(e,t,n,r,i,s,c){const u=r.length;let d=!1;for(let v=0;v<u;v++){const y=r[v];!d&&St(y)&&(d=!0,ox(e,n,v)),Zd(uu(n,t),e,y.type)}!function fx(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,u);for(let v=0;v<u;v++){const y=r[v];y.providersResolver&&y.providersResolver(y)}let h=!1,p=!1,m=Ma(e,t,u,null);u>0&&(n.directiveToIndex=new Map);for(let v=0;v<u;v++){const y=r[v];if(n.mergedAttrs=Bo(n.mergedAttrs,y.hostAttrs),cx(e,n,t,m,y),dx(m,y,i),null!==c&&c.has(y)){const[C,T]=c.get(y);n.directiveToIndex.set(y.type,[m,C+n.directiveStart,T+n.directiveStart])}else(null===s||!s.has(y))&&n.directiveToIndex.set(y.type,m);null!==y.contentQueries&&(n.flags|=4),(null!==y.hostBindings||null!==y.hostAttrs||0!==y.hostVars)&&(n.flags|=64);const D=y.type.prototype;!h&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),h=!0),!p&&(D.ngOnChanges||D.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),p=!0),m++}!function ax(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){const i=e.data[r];if(null!==n&&n.has(i)){const s=n.get(i);nv(0,t,s,r),nv(1,t,s,r),iv(t,r,!0)}else tv(0,t,i,r),tv(1,t,i,r),iv(t,r,!1)}}(e,n,s)}(e,t,n,u,s,d,h)}null!==s&&null!==r&&function ix(e,t,n){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const s=n[t[i+1]];if(null==s)throw new N(-301,!1);r.push(t[i],s)}}(n,r,s)}function ox(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function tv(e,t,n,r){const i=0===e?n.inputs:n.outputs;for(const s in i)if(i.hasOwnProperty(s)){let c;c=0===e?t.inputs??={}:t.outputs??={},c[s]??=[],c[s].push(r),rv(t,s)}}function nv(e,t,n,r){const i=0===e?n.inputs:n.outputs;for(const s in i)if(i.hasOwnProperty(s)){const c=i[s];let u;u=0===e?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},u[c]??=[],u[c].push(r,s),rv(t,c)}}function rv(e,t){"class"===t?e.flags|=8:"style"===t&&(e.flags|=16)}function iv(e,t,n){const{attrs:r,inputs:i,hostDirectiveInputs:s}=e;if(null===r||!n&&null===i||n&&null===s||Sf(e))return e.initialInputs??=[],void e.initialInputs.push(null);let c=null,u=0;for(;u<r.length;){const d=r[u];if(0!==d)if(5!==d){if("number"==typeof d)break;if(!n&&i.hasOwnProperty(d)){const h=i[d];for(const p of h)if(p===t){c??=[],c.push(d,r[u+1]);break}}else if(n&&s.hasOwnProperty(d)){const h=s[d];for(let p=0;p<h.length;p+=2)if(h[p]===t){c??=[],c.push(h[p+1],r[u+1]);break}}u+=2}else u+=2;else u+=4}e.initialInputs??=[],e.initialInputs.push(c)}function cx(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=rr(i.type)),c=new ma(s,St(i),ce);e.blueprint[r]=c,n[r]=c,function ux(e,t,n,r,i){const s=i.hostBindings;if(s){let c=e.hostBindingOpCodes;null===c&&(c=e.hostBindingOpCodes=[]);const u=~t.index;(function lx(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(c)!=u&&c.push(u),c.push(n,r,s)}}(e,t,r,Ma(e,n,i.hostVars,be),i)}function dx(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;St(t)&&(n[""]=e)}}function ov(e,t,n,r,i,s,c,u){const d=t.consts,p=Yo(t,e,2,r,Ht(d,c));return s&&lh(t,n,p,Ht(d,u),i),p.mergedAttrs=Bo(p.mergedAttrs,p.attrs),null!==p.attrs&&uh(p,p.attrs,!1),null!==p.mergedAttrs&&uh(p,p.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,p),p}function sv(e,t){Ud(e,t),aa(t)&&e.queries.elementEnd(t)}function Zu(e){return!!function dh(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function qe(e,t,n){return n!==be&&(!Object.is(e[t],n)&&(e[t]=n,!0))}function Ri(e,t,n,r){const i=qe(e,t,n);return qe(e,t+1,r)||i}function Wu(e,t,n){return function r(i){Pa(Hn(e)?Nt(e.index,t):t,5);const c=t[8];let u=av(t,c,n,i),d=r.__ngNextListenerFn__;for(;d;)u=av(t,c,d,i)&&u,d=d.__ngNextListenerFn__;return u}}function av(e,t,n,r){const i=k(null);try{return Ee(6,t,n),!1!==n(r)}catch(s){return function Bf(e,t){const n=e[9];n&&n.get(fr,null)?.(t)}(e,s),!1}finally{Ee(7,t,n),k(i)}}function cv(e,t,n,r,i,s,c){const u=t.firstCreatePass?function Pg(e){return e.cleanup??=[]}(t):null,d=function Ng(e){return e[7]??=[]}(n),h=d.length;d.push(i,s),u&&u.push(r,e,h,(h+1)*(c?-1:1))}function Gu(e,t,n,r,i,s){const u=t[1],m=t[n][u.data[n].outputs[r]].subscribe(s);cv(e.index,u,t,i,s,m,!0)}const zr=Symbol("BINDING");class uv extends zu{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=me(t);return new fh(n,this.ngModule)}}class fh extends Ky{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function Ix(e){return Object.keys(e).map(t=>{const[n,r,i]=e[t],s={propName:n,templateName:t,isSignal:0!==(r&xu.SignalBased)};return i&&(s.transform=i),s})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function Tx(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function gM(e){return e.map(pM).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,s,c){Ee(22);const u=k(null);try{const d=this.componentDef,h=function Ax(e,t,n,r){const i=e?["ng-version","20.0.1"]:function mM(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!In(i))break;i=s}r++}return n.length&&t.push(1,...n),t}(t.selectors[0]);let s=null,c=null,u=0;if(n)for(const p of n)u+=p[zr].requiredVars,p.create&&(p.targetIdx=0,(s??=[]).push(p)),p.update&&(p.targetIdx=0,(c??=[]).push(p));if(r)for(let p=0;p<r.length;p++){const m=r[p];if("function"!=typeof m)for(const v of m.bindings){u+=v[zr].requiredVars;const y=p+1;v.create&&(v.targetIdx=y,(s??=[]).push(v)),v.update&&(v.targetIdx=y,(c??=[]).push(v))}}const d=[t];if(r)for(const p of r){const v=Ue("function"==typeof p?p:p.type);d.push(v)}return Af(0,null,function Nx(e,t){return e||t?n=>{if(1&n&&e)for(const r of e)r.create();if(2&n&&t)for(const r of t)r.update()}:null}(s,c),1,u,d,null,null,null,[i],null)}(r,d,c,s),p=function Sx(e,t,n){let r=t instanceof We?t:t?.injector;return r&&null!==e.getStandaloneInjector&&(r=e.getStandaloneInjector(r)||r),r?new es(n,r):n}(d,i||this.ngModule,t),m=function Mx(e){const t=e.get(sh,null);if(null===t)throw new N(407,!1);return{rendererFactory:t,sanitizer:e.get(X0,null),changeDetectionScheduler:e.get(Ei,null),ngReflect:!1}}(p),v=m.rendererFactory.createRenderer(null,d),y=r?function DM(e,t,n,r){const s=r.get(QT,!1)||n===mr.ShadowDom,c=e.selectRootElement(t,s);return function EM(e){iy(e)}(c),c}(v,r,d.encapsulation,p):function xx(e,t){const n=(e.selectors[0][0]||"div").toLowerCase();return Su(t,n,"svg"===n?"svg":"math"===n?"math":null)}(d,v),D=c?.some(lv)||s?.some(S=>"function"!=typeof S&&S.bindings.some(lv)),C=Mu(null,h,null,512|Nf(d),null,null,m,v,p,null,null);C[b]=y,xd(C);let T=null;try{const S=ov(b,h,C,"#host",()=>h.directiveRegistry,!0,0);y&&(ey(v,y,S),$t(y,C)),Au(h,C,S),vf(h,S,C),sv(h,S),void 0!==n&&function Rx(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const s=n[i];r.push(null!=s&&s.length?Array.from(s):null)}}(S,this.ngContentSelectors,n),T=Nt(S.index,C),C[8]=T[8],Nu(h,C,null)}catch(S){throw null!==T&&Jd(T),Jd(C),S}finally{Ee(23),Ad()}return new Px(this.componentType,C,!!D)}finally{k(u)}}}function lv(e){const t=e[zr].kind;return"input"===t||"twoWay"===t}class Px extends J0{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Mo(n[1],b),this.location=Uo(this._tNode,n),this.instance=Nt(this._tNode.index,n)[8],this.hostView=this.changeDetectorRef=new Fa(n,void 0),this.componentType=t}setInput(t,n){const r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const i=this._rootLView;Uf(r,i[1],i,t,n),this.previousInputValues.set(t,n),Pa(Nt(r.index,i),1)}get injector(){return new Xe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let Gn=(()=>class e{static __NG_ELEMENT_ID__=Fx})();function Fx(){return function hv(e,t){let n;const r=t[e.index];return Ke(r)?n=r:(n=Iy(r,t,null,e),t[e.index]=n,Pf(t,n)),pv(n,t,e,r),new dv(n,e,t)}(ae(),x())}const kx=Gn,dv=class extends kx{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Uo(this._hostTNode,this._hostLView)}get injector(){return new Xe(this._hostTNode,this._hostLView)}get parentInjector(){const t=lu(this._hostTNode,this._hostLView);if(Hd(t)){const n=ya(t,this._hostLView),r=_a(t);return new Xe(n[1].data[r+8],n)}return new Xe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=fv(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const u=t.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(u,i,xi(this._hostTNode,null)),u}createComponent(t,n,r,i,s,c,u){const d=t&&!function pa(e){return"function"==typeof e}(t);let h;if(d)h=n;else{const T=n||{};h=T.index,r=T.injector,i=T.projectableNodes,s=T.environmentInjector||T.ngModuleRef,c=T.directives,u=T.bindings}const p=d?t:new fh(me(t)),m=r||this.parentInjector;if(!s&&null==p.ngModule){const S=(d?m:this.parentInjector).get(We,null);S&&(s=S)}me(p.componentType??{});const C=p.create(m,i,null,s,c,u);return this.insertImpl(C.hostView,h,xi(this._hostTNode,null)),C}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const i=t._lView;if(function qb(e){return Ke(e[3])}(i)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const d=i[3],h=new dv(d,d[5],d[3]);h.detach(h.indexOf(t))}}const s=this._adjustIndex(n),c=this._lContainer;return Jo(c,i,s,r),t.attachToViewContainerRef(),Gc(hh(c),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=fv(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Ra(this._lContainer,n);r&&(pi(hh(this._lContainer),n),Aa(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=Ra(this._lContainer,n);return r&&null!=pi(hh(this._lContainer),n)?new Fa(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function fv(e){return e[8]}function hh(e){return e[8]||(e[8]=[])}let pv=function mv(e,t,n,r){if(e[7])return;let i;i=8&n.type?_t(r):function Ox(e,t){const n=e[11],r=n.createComment(""),i=Vt(t,e),s=n.parentNode(i);return Mi(n,s,r,n.nextSibling(i),!1),r}(t,n),e[7]=i};const Mv=new Set;function hn(e){Mv.has(e)||(Mv.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let Fi=class{};class Av extends Fi{injector;componentFactoryResolver=new uv(this);instance=null;constructor(t){super();const n=new un([...t.providers,{provide:Fi,useValue:this},{provide:zu,useValue:this.componentFactoryResolver}],t.parent||ra(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}let rA=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=_o(0,n.type),i=r.length>0?function Nv(e,t,n=null){return new Av({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Y({token:e,providedIn:"environment",factory:()=>new e(te(We))})}return e})();function qu(e){return gr(()=>{const t=Pv(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===hu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(rA).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||mr.Emulated,styles:e.styles||ye,_:null,schemas:e.schemas||null,tView:null,id:""};t.standalone&&hn("NgStandalone"),Rv(n);const r=e.dependencies;return n.directiveDefs=Ju(r,!1),n.pipeDefs=Ju(r,!0),n.id=function uA(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const s of r.join("|"))t=Math.imul(31,t)+s.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function iA(e){return me(e)||Ue(e)}function oA(e){return null!==e}function Ih(e){return gr(()=>({type:e.type,bootstrap:e.bootstrap||ye,declarations:e.declarations||ye,imports:e.imports||ye,exports:e.exports||ye,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function sA(e,t){if(null==e)return sn;const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];let s,c,u,d;Array.isArray(i)?(u=i[0],s=i[1],c=i[2]??s,d=i[3]||null):(s=i,c=i,u=xu.None,d=null),n[s]=[r,u,d],t[s]=c}return n}function aA(e){if(null==e)return sn;const t={};for(const n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function pn(e){return gr(()=>{const t=Pv(e);return Rv(t),t})}function Zt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Pv(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||sn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||ye,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:sA(e.inputs,t),outputs:aA(e.outputs),debugInfo:null}}function Rv(e){e.features?.forEach(t=>t(e))}function Ju(e,t){if(!e)return null;const n=t?an:iA;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(oA)}function ki(e,t,n,r,i,s,c,u,d,h,p){const m=n+b,v=t.firstCreatePass?function DA(e,t,n,r,i,s,c,u,d){const h=t.consts,p=Yo(t,e,4,c||null,u||null);Cd()&&lh(t,n,p,Ht(h,d),Of),p.mergedAttrs=Bo(p.mergedAttrs,p.attrs),Ud(t,p);const m=p.tView=Af(2,p,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h,null);return null!==t.queries&&(t.queries.template(t,p),m.queries=t.queries.embeddedTView(p)),p}(m,t,e,r,i,s,c,u,h):t.data[m];d&&(v.flags|=d),Cn(v,!1);const y=jv(t,e,v,n);da()&&Pu(t,e,y,v),$t(y,e);const D=Iy(y,e,y,v);return e[m]=D,Pf(e,D),Io(v)&&Au(t,e,v),null!=h&&Rf(e,v,p),v}function vr(e,t,n,r,i,s,c,u){const d=x(),h=re();return ki(d,h,e,t,n,r,i,Ht(h.consts,s),void 0,c,u),vr}let jv=function Vv(e,t,n,r){return fa(!0),t[11].createComment("")};var Mh=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Mh||{});const Ga=new F(""),Qv=!1,rn=class SA extends br{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,function tn(){return void 0!==Vc()||null!=we()}()&&(this.destroyRef=O(Or,{optional:!0})??void 0,this.pendingTasks=O(Po,{optional:!0})??void 0)}emit(t){const n=k(null);try{super.next(t)}finally{k(n)}}subscribe(t,n,r){let i=t,s=n||(()=>null),c=r;if(t&&"object"==typeof t){const d=t;i=d.next?.bind(d),s=d.error?.bind(d),c=d.complete?.bind(d)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),c&&(c=this.wrapInTimeout(c)));const u=super.subscribe({next:i,error:s,complete:c});return t instanceof yt&&t.add(u),u}wrapInTimeout(t){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{void 0!==r&&this.pendingTasks?.remove(r)}})}}};function Wv(e){let t,n;function r(){e=ha;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Gv(e){return queueMicrotask(()=>e()),()=>{e=ha}}const xh="isAngularZone",el=xh+"_ID";let MA=0;class Ie{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new rn(!1);onMicrotaskEmpty=new rn(!1);onStable=new rn(!1);onError=new rn(!1);constructor(t){const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=Qv}=t;if(typeof Zone>"u")throw new N(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!i&&r,c.shouldCoalesceRunChangeDetection=i,c.callbackScheduled=!1,c.scheduleInRootZone=s,function NA(e){const t=()=>{!function AA(e){function t(){Wv(()=>{e.callbackScheduled=!1,Nh(e),e.isCheckStableRunning=!0,Ah(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Nh(e))}(e)},n=MA++;e._inner=e._inner.fork({name:"angular",properties:{[xh]:!0,[el]:n,[el+n]:!0},onInvokeTask:(r,i,s,c,u,d)=>{if(function PA(e){return Yv(e,"__ignore_ng_zone__")}(d))return r.invokeTask(s,c,u,d);try{return qv(e),r.invokeTask(s,c,u,d)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||e.shouldCoalesceRunChangeDetection)&&t(),Jv(e)}},onInvoke:(r,i,s,c,u,d,h)=>{try{return qv(e),r.invoke(s,c,u,d,h)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function RA(e){return Yv(e,"__scheduler_tick__")}(d)&&t(),Jv(e)}},onHasTask:(r,i,s,c)=>{r.hasTask(s,c),i===s&&("microTask"==c.change?(e._hasPendingMicrotasks=c.microTask,Nh(e),Ah(e)):"macroTask"==c.change&&(e.hasPendingMacrotasks=c.macroTask))},onHandleError:(r,i,s,c)=>(r.handleError(s,c),e.runOutsideAngular(()=>e.onError.emit(c)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(xh)}static assertInAngularZone(){if(!Ie.isInAngularZone())throw new N(909,!1)}static assertNotInAngularZone(){if(Ie.isInAngularZone())throw new N(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const s=this._inner,c=s.scheduleEventTask("NgZoneEvent: "+i,t,xA,ha,ha);try{return s.runTask(c,n,r)}finally{s.cancelTask(c)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const xA={};function Ah(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Nh(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function qv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Jv(e){e._nesting--,Ah(e)}class Ph{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new rn;onMicrotaskEmpty=new rn;onStable=new rn;onError=new rn;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}function Yv(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}let Kv=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Y({token:e,providedIn:"root",factory:()=>new e})}return e})();const Cw=new F("");function zh(e){return!!e&&"function"==typeof e.then}function bw(e){return!!e&&"function"==typeof e.subscribe}const Iw=new F("");let Tw=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=O(Iw,{optional:!0})??[];injector=O(bn);constructor(){}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=sa(this.injector,i);if(zh(s))n.push(s);else if(bw(s)){const c=new Promise((u,d)=>{s.subscribe({complete:u,error:d})});n.push(c)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const HN=new F("");let Bi=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=O(fr);afterRenderManager=O(Kv);zonelessEnabled=O(Xg);rootEffectScheduler=O(nm);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new br;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=O(Po);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Lr(n=>!n))}constructor(){O(Ga,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=O(We);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=bn.NULL){return this._injector.get(Ie).run(()=>{Ee(10);const c=n instanceof Ky;if(!this._injector.get(Tw).done)throw new N(405,"");let d;d=c?n:this._injector.get(zu).resolveComponentFactory(n),this.componentTypes.push(d.componentType);const h=function $N(e){return e.isBoundToModule}(d)?void 0:this._injector.get(Fi),m=d.create(i,[],r||d.selector,h),v=m.location.nativeElement,y=m.injector.get(Cw,null);return y?.registerApplication(v),m.onDestroy(()=>{this.detachView(m.hostView),ol(this.components,m),y?.unregisterApplication(v)}),this._loadComponent(m),Ee(11,m),m})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ee(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(Mh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new N(101,!1);const n=k(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,k(n),this.afterTick.next(),Ee(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(sh,null,{optional:!0}));let n=0;for(;0!==this.dirtyFlags&&n++<10;)Ee(14),this.synchronizeOnce(),Ee(15)}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews)(r||tu(i))&&(Fu(i,r&&!this.zonelessEnabled?0:1),n=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>tu(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;ol(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(HN,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ol(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new N(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ol(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class SP{destroy(t){}updateValue(t,n){}swap(t,n){const r=Math.min(t,n),i=Math.max(t,n),s=this.detach(i);if(i-r>1){const c=this.detach(r);this.attach(r,s),this.attach(i,c)}else this.attach(r,s)}move(t,n){this.attach(n,this.detach(t))}}function Gh(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function qh(e,t,n,r){return!(void 0===t||!t.has(r)||(e.attach(n,t.get(r)),t.delete(r),0))}function Lw(e,t,n,r,i){if(qh(e,t,r,n(r,i)))e.updateValue(r,i);else{const s=e.create(r,i);e.attach(r,s)}}function Bw(e,t,n,r){const i=new Set;for(let s=t;s<=n;s++)i.add(r(s,e.at(s)));return i}class Uw{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;const n=this.kvMap.get(t);return void 0!==this._vMap&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);void 0===this._vMap&&(this._vMap=new Map);const i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),void 0!==this._vMap){const i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}}function sl(e,t,n,r,i,s,c,u){hn("NgControlFlow");const d=x(),h=re();return ki(d,h,e,t,n,r,i,Ht(h.consts,s),256,c,u),Jh}function Jh(e,t,n,r,i,s,c,u){hn("NgControlFlow");const d=x(),h=re();return ki(d,h,e,t,n,r,i,Ht(h.consts,s),512,c,u),Jh}function al(e,t){hn("NgControlFlow");const n=x(),r=nn(),i=n[r]!==be?n[r]:-1,s=-1!==i?cl(n,b+i):void 0;if(qe(n,r,e)){const u=k(null);try{if(void 0!==s&&qf(s,0),-1!==e){const d=b+e,h=cl(n,d),p=Yh(n[1],d),m=null;Jo(h,Go(n,p,t,{dehydratedView:m}),0,xi(p,m))}}finally{k(u)}}else if(void 0!==s){const u=Ty(s,0);void 0!==u&&(u[8]=t)}}class xP{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-10}}class PP{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}}class RP extends SP{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-10}at(t){return this.getLView(t)[8].$implicit}attach(t,n){const r=n[6];this.needsIndexUpdate||=t!==this.length,Jo(this.lContainer,n,t,xi(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function FP(e,t){return Ra(e,t)}(this.lContainer,t)}create(t,n){const i=Go(this.hostLView,this.templateTNode,new xP(this.lContainer,n,t),{dehydratedView:null});return this.operationsCounter?.recordCreate(),i}destroy(t){Aa(t[1],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[8].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[8].$index=t}getLView(t){return function kP(e,t){return Ty(e,t)}(this.lContainer,t)}}function Vw(e){const t=k(null),n=wt();try{const r=x(),i=r[1],s=r[n],c=n+1,u=cl(r,c);if(void 0===s.liveCollection){const h=Yh(i,c);s.liveCollection=new RP(u,r,h)}else s.liveCollection.reset();const d=s.liveCollection;if(function MP(e,t,n){let r,i,s=0,c=e.length-1;if(Array.isArray(t)){let d=t.length-1;for(;s<=c&&s<=d;){const h=e.at(s),p=t[s],m=Gh(s,h,s,p,n);if(0!==m){m<0&&e.updateValue(s,p),s++;continue}const v=e.at(c),y=t[d],D=Gh(c,v,d,y,n);if(0!==D){D<0&&e.updateValue(c,y),c--,d--;continue}const C=n(s,h),T=n(c,v),S=n(s,p);if(Object.is(S,T)){const M=n(d,y);Object.is(M,C)?(e.swap(s,c),e.updateValue(c,y),d--,c--):e.move(c,s),e.updateValue(s,p),s++}else if(r??=new Uw,i??=Bw(e,s,c,n),qh(e,r,s,S))e.updateValue(s,p),s++,c++;else if(i.has(S))r.set(C,e.detach(s)),c--;else{const M=e.create(s,t[s]);e.attach(s,M),s++,c++}}for(;s<=d;)Lw(e,r,n,s,t[s]),s++}else if(null!=t){const d=t[Symbol.iterator]();let h=d.next();for(;!h.done&&s<=c;){const p=e.at(s),m=h.value,v=Gh(s,p,s,m,n);if(0!==v)v<0&&e.updateValue(s,m),s++,h=d.next();else{r??=new Uw,i??=Bw(e,s,c,n);const y=n(s,m);if(qh(e,r,s,y))e.updateValue(s,m),s++,c++,h=d.next();else if(i.has(y)){const D=n(s,p);r.set(D,e.detach(s)),c--}else e.attach(s,e.create(s,m)),s++,c++,h=d.next()}}for(;!h.done;)Lw(e,r,n,e.length,h.value),h=d.next()}for(;s<=c;)e.destroy(e.detach(c--));r?.forEach(d=>{e.destroy(d)})}(d,e,s.trackByFn),d.updateIndexes(),s.hasEmptyBlock){const h=nn(),p=0===d.length;if(qe(r,h,p)){const m=n+2,v=cl(r,m);if(p){const y=Yh(i,m),D=null;Jo(v,Go(r,y,void 0,{dehydratedView:D}),0,xi(y,D))}else i.firstUpdatePass&&function ju(e){const t=e[6]??[],r=e[3][11],i=[];for(const s of t)void 0!==s.data.di?i.push(s):Qy(s,r);e[6]=i}(v),qf(v,0)}}}finally{k(t)}}function cl(e,t){return e[t]}function Yh(e,t){return Mo(e,t)}function tt(e,t,n){const r=x();return qe(r,nn(),t)&&(re(),Ff(function $n(){const e=J.lFrame;return Mo(e.tView,e.selectedIndex)}(),r,e,t,r[11],n)),tt}function Kh(e,t,n,r,i){Uf(t,e,n,i?"class":"style",r)}function U(e,t,n,r){const i=x(),s=re(),c=b+e,u=i[11],d=s.firstCreatePass?ov(c,s,i,t,Of,Cd(),n,r):s.data[c],h=Hw(s,i,d,u,t,e);i[c]=h;const p=Io(d);return Cn(d,!0),ey(u,h,d),!Ai(d)&&da()&&Pu(s,i,h,d),(0===function Yb(){return J.lFrame.elementDepthCount}()||p)&&$t(h,i),function Kb(){J.lFrame.elementDepthCount++}(),p&&(Au(s,i,d),vf(s,d,i)),null!==r&&Rf(i,d),U}function z(){let e=ae();bd()?function Id(){J.lFrame.isParent=!1}():(e=e.parent,Cn(e,!1));const t=e;(function eI(e){return J.skipHydrationRootTNode===e})(t)&&function rI(){J.skipHydrationRootTNode=null}(),function Xb(){J.lFrame.elementDepthCount--}();const n=re();return n.firstCreatePass&&sv(n,t),null!=t.classesWithoutHost&&function zI(e){return!!(8&e.flags)}(t)&&Kh(n,t,x(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function $I(e){return!!(16&e.flags)}(t)&&Kh(n,t,x(),t.stylesWithoutHost,!1),z}function Ne(e,t,n,r){return U(e,t,n,r),z(),Ne}let Hw=(e,t,n,r,i,s)=>(fa(!0),Su(r,i,function hI(){return J.lFrame.currentNamespace}()));function Ka(){return x()}const Vi=void 0;var jP=["en",[["a","p"],["AM","PM"],Vi],[["AM","PM"],Vi,Vi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vi,"{1} 'at' {0}",Vi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function UP(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let cs={};function Rt(e){const t=function VP(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Gw(t);if(n)return n;const r=t.split("-")[0];if(n=Gw(r),n)return n;if("en"===r)return jP;throw new N(701,!1)}function Gw(e){return e in cs||(cs[e]=Ze.ng&&Ze.ng.common&&Ze.ng.common.locales&&Ze.ng.common.locales[e]),cs[e]}var He=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(He||{});const ul="en-US";let qw=ul;function gn(e,t,n){const r=x(),i=re(),s=ae();return function rp(e,t,n,r,i,s,c){let u=!0,d=null;if((3&r.type||c)&&(d??=Wu(r,t,s),function mx(e,t,n,r,i,s,c,u){const d=Io(e);let h=!1,p=null;if(!r&&d&&(p=function _x(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const c=i[s];if(c===n&&i[s+1]===r){const u=t[7],d=i[s+2];return u&&u.length>d?u[d]:null}"string"==typeof c&&(s+=2)}return null}(t,n,s,e.index)),null!==p)(p.__ngLastListenerFn__||p).__ngNextListenerFn__=c,p.__ngLastListenerFn__=c,h=!0;else{const m=Vt(e,n),v=r?r(m):m,y=i.listen(v,s,u);cv(r?C=>r(_t(C[e.index])):e.index,t,n,s,u,y,!1)}return h}(r,e,t,c,n,i,s,d)&&(u=!1)),u){const h=r.outputs?.[i],p=r.hostDirectiveOutputs?.[i];if(p&&p.length)for(let m=0;m<p.length;m+=2){const v=p[m],y=p[m+1];d??=Wu(r,t,s),Gu(r,t,v,y,i,d)}if(h&&h.length)for(const m of h)d??=Wu(r,t,s),Gu(r,t,m,i,i,d)}}(i,r,r[11],s,e,t,n),gn}function qn(e=1){return function cI(e){return(J.lFrame.contextLView=function Ag(e,t){for(;e>0;)t=t[14],e--;return t}(e,J.lFrame.contextLView))[8]}(e)}function se(e,t=""){const n=x(),r=re(),i=e+b,s=r.firstCreatePass?Yo(r,i,1,t,null):r.data[i],c=ND(r,n,s,t,e);n[i]=c,da()&&Pu(r,n,c,s),Cn(s,!1)}let ND=(e,t,n,r,i)=>(fa(!0),function Mf(e,t){return e.createText(t)}(t[11],r));function FD(e,t,n,r,i,s=""){const u=Ri(e,function ur(){return J.lFrame.bindingIndex}(),n,i);return function lr(e){const t=J.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2),u?t+$(n)+r+$(i)+s:be}function oc(e){return mn("",e),oc}function mn(e,t,n){const r=x(),i=function RD(e,t,n,r=""){return qe(e,nn(),n)?t+$(n)+r:be}(r,e,t,n);return i!==be&&wr(r,wt(),i),mn}function gl(e,t,n,r,i){const s=x(),c=FD(s,e,t,n,r,i);return c!==be&&wr(s,wt(),c),gl}function wr(e,t,n){const r=function So(e,t){return _t(t[e])}(t,e);!function J_(e,t,n){e.setValue(t,n)}(e[11],r,n)}function nE(e,t,n,r,i,s,c){const u=t+n;return Ri(e,u,i,s)?function Wn(e,t,n){return e[t]=n}(e,u+2,c?r.call(c,i,s):r(i,s)):function sc(e,t){const n=e[t];return n===be?void 0:n}(e,u+2)}let Ck=(()=>{class e{zone=O(Ie);changeDetectionScheduler=O(Ei);applicationRef=O(Bi);applicationErrorHandler=O(fr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function mp({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Ie({..._p(),scheduleInRootZone:n}),[{provide:Ie,useFactory:e},{provide:Bn,multi:!0,useFactory:()=>{const r=O(Ck,{optional:!0});return()=>r.initialize()}},{provide:Bn,multi:!0,useFactory:()=>{const r=O(Ik);return()=>{r.initialize()}}},!0===t?{provide:em,useValue:!0}:[],{provide:tm,useValue:n??Qv},{provide:fr,useFactory:()=>{const r=O(Ie),i=O(We);let s;return c=>{s??=i.get(No),r.runOutsideAngular(()=>s.handleError(c))}}}]}function _p(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let Ik=(()=>{class e{subscription=new yt;initialized=!1;zone=O(Ie);pendingTasks=O(Po);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),vp=(()=>{class e{applicationErrorHandler=O(fr);appRef=O(Bi);taskService=O(Po);ngZone=O(Ie);zonelessEnabled=O(Xg);tracing=O(Ga,{optional:!0});disableScheduling=O(em,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new yt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(el):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(tm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ph||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;let r=!1;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,r=!0;break;case 12:this.appRef.dirtyFlags|=16,r=!0;break;case 11:r=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;const i=this.useMicrotaskScheduler?Gv:Wv;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>i(()=>this.tick())):this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(el+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Gv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Wr=new F("",{providedIn:"root",factory:()=>O(Wr,{optional:!0,skipSelf:!0})||function Tk(){return typeof $localize<"u"&&$localize.locale||ul}()});new F("").__NG_ELEMENT_ID__=e=>{const t=ae();if(null===t)throw new N(204,!1);if(2&t.type)return t.value;if(8&e)return null;throw new N(204,!1)};const El=new F(""),Uk=new F("");function uc(e){return!e.moduleRef}let BE,Gr=null;class ZE{constructor(){}supports(t){return Zu(t)}create(t){return new qk(t)}}const Gk=(e,t)=>t;class qk{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||Gk}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const c=!r||n&&n.currentIndex<WE(r,i,s)?n:r,u=WE(c,i,s),d=c.currentIndex;if(c===r)i--,r=r._nextRemoved;else if(n=n._next,null==c.previousIndex)i++;else{s||(s=[]);const h=u-i,p=d-i;if(h!=p){for(let v=0;v<h;v++){const y=v<s.length?s[v]:s[v]=0,D=y+v;p<=D&&D<h&&(s[v]=y+1)}s[c.previousIndex]=p-h}}u!==d&&t(c,u,d)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Zu(t))throw new N(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,s,c,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let u=0;u<this.length;u++)s=t[u],c=this._trackByFn(u,s),null!==n&&Object.is(n.trackById,c)?(r&&(n=this._verifyReinsertion(n,s,c,u)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,c,u),r=!0),n=n._next}else i=0,function px(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,u=>{c=this._trackByFn(i,u),null!==n&&Object.is(n.trackById,c)?(r&&(n=this._verifyReinsertion(n,u,c,i)),Object.is(n.item,u)||this._addIdentityChange(n,u)):(n=this._mismatch(n,u,c,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,i)):t=this._addAfter(new Jk(n,r),s,i),t}_verifyReinsertion(t,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,s=t._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new QE),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new QE),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Jk{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}}class Yk{_head=null;_tail=null;add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class QE{map=new Map;put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new Yk,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function WE(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function qE(){return new bp([new ZE])}let bp=(()=>{class e{factories;static \u0275prov=Y({token:e,providedIn:"root",factory:qE});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||qE()),deps:[[e,new Ld,new Od]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new N(901,!1)}}return e})();function nO(e){Ee(8);try{const{rootComponent:t,appProviders:n,platformProviders:r}=e,i=function $k(e=[]){if(Gr)return Gr;const t=function HE(e=[],t){return bn.create({name:t,providers:[{provide:na,useValue:"platform"},{provide:El,useValue:new Set([()=>Gr=null])},...e]})}(e);return Gr=t,function zN(){!function Ds(e){ws=e}(()=>{throw new N(600,"")})}(),function zE(e){const t=e.get(Xm,null);sa(e,()=>{t?.forEach(n=>n())})}(t),t}(r),s=[mp({}),{provide:Ei,useExisting:vp},qg,...n||[]];return function LE(e){const t=uc(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Ie);return n.run(()=>{uc(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const r=t.get(fr);let i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),uc(e)){const s=()=>t.destroy(),c=e.platformInjector.get(El);c.add(s),t.onDestroy(()=>{i.unsubscribe(),c.delete(s)})}else{const s=()=>e.moduleRef.destroy(),c=e.platformInjector.get(El);c.add(s),e.moduleRef.onDestroy(()=>{ol(e.allPlatformModules,e.moduleRef),i.unsubscribe(),c.delete(s)})}return function Vk(e,t,n){try{const r=n();return zh(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}(r,n,()=>{const s=t.get(Tw);return s.runInitializers(),s.donePromise.then(()=>{if(function ZP(e){"string"==typeof e&&(qw=e.toLowerCase().replace(/_/g,"-"))}(t.get(Wr,ul)||ul),!t.get(Uk,!0))return uc(e)?t.get(Bi):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(uc(e)){const d=t.get(Bi);return void 0!==e.rootComponent&&d.bootstrap(e.rootComponent),d}return BE?.(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({r3Injector:new Av({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}finally{Ee(9)}}const Ap=new F("");let EC=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,s){return this._findPluginFor(r).addEventListener(n,r,i,s)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new N(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(te(Ap),te(Ie))};static \u0275prov=Y({token:e,factory:e.\u0275fac})}return e})();class CC{_doc;constructor(t){this._doc=t}manager}const Nl="ng-app-id";function bC(e){for(const t of e)t.remove()}function IC(e,t){const n=t.createElement("style");return n.textContent=e,n}function Np(e,t){const n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}let TC=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=function xO(e){return"server"===e}(s),function i1(e,t,n,r){const i=e.head?.querySelectorAll(`style[${Nl}="${t}"],link[${Nl}="${t}"]`);if(i)for(const s of i)s.removeAttribute(Nl),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&n.set(s.textContent,{usage:0,elements:[s]})}(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(const i of n)this.addUsage(i,this.inline,IC);r?.forEach(i=>this.addUsage(i,this.external,Np))}removeStyles(n,r){for(const i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){const s=r.get(n);s?s.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(c=>this.addElement(c,i(n,this.doc)))})}removeUsage(n,r){const i=r.get(n);i&&(i.usage--,i.usage<=0&&(bC(i.elements),r.delete(n)))}ngOnDestroy(){for(const[,{elements:n}]of[...this.inline,...this.external])bC(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(const[r,{elements:i}]of this.inline)i.push(this.addElement(n,IC(r,this.doc)));for(const[r,{elements:i}]of this.external)i.push(this.addElement(n,Np(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Nl,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(te(dr),te(mu),te(e_,8),te(ef))};static \u0275prov=Y({token:e,factory:e.\u0275fac})}return e})();const Pp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Rp=/%COMP%/g,l1=new F("",{providedIn:"root",factory:()=>!0});function MC(e,t){return t.map(n=>n.replace(Rp,e))}let xC=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,s,c,u,d,h=null,p=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=u,this.ngZone=d,this.nonce=h,this.tracingService=p,this.platformIsServer=!1,this.defaultRenderer=new Fp(n,c,d,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(n,r);return i instanceof NC?i.applyToHost(n):i instanceof kp&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const c=this.doc,u=this.ngZone,d=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case mr.Emulated:s=new NC(d,h,r,this.appId,p,c,u,m,v);break;case mr.ShadowDom:return new p1(d,h,n,r,c,u,this.nonce,m,v);default:s=new kp(d,h,r,p,c,u,m,v)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(te(EC),te(TC),te(mu),te(l1),te(dr),te(ef),te(Ie),te(e_),te(Ga,8))};static \u0275prov=Y({token:e,factory:e.\u0275fac})}return e})();class Fp{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,s){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Pp[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(AC(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(AC(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new N(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const s=Pp[i];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=Pp[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Vr.DashCase|Vr.Important)?t.style.setProperty(n,r,i&Vr.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Vr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if("string"==typeof t&&!(t=Fd().getGlobalEventTarget(this.doc,t)))throw new N(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(t,n,s)),this.eventManager.addEventListener(t,n,s,i)}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&n.preventDefault()}}}function AC(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class p1 extends Fp{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,s,c,u,d,h){super(t,s,c,d,h),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let p=i.styles;p=MC(i.id,p);for(const v of p){const y=document.createElement("style");u&&y.setAttribute("nonce",u),y.textContent=v,this.shadowRoot.appendChild(y)}const m=i.getExternalStyles?.();if(m)for(const v of m){const y=Np(v,s);u&&y.setAttribute("nonce",u),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class kp extends Fp{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,s,c,u,d,h){super(t,s,c,u,d),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let p=r.styles;this.styles=h?MC(h,p):p,this.styleUrls=r.getExternalStyles?.(h)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class NC extends kp{contentAttr;hostAttr;constructor(t,n,r,i,s,c,u,d,h){const p=i+"-"+r.id;super(t,n,r,s,c,u,d,h,p),this.contentAttr=function d1(e){return"_ngcontent-%COMP%".replace(Rp,e)}(p),this.hostAttr=function f1(e){return"_nghost-%COMP%".replace(Rp,e)}(p)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class Op extends vI{supportsDOMEvents=!0;static makeCurrent(){!function yI(e){rm??=e}(new Op)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function g1(){return pc=pc||document.head.querySelector("base"),pc?pc.getAttribute("href"):null}();return null==n?null:function m1(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){pc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return im(document.cookie,t)}}let pc=null,y1=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Y({token:e,factory:e.\u0275fac})}return e})();const PC=["alt","control","meta","shift"],w1={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},D1={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};function RC(e){return{appProviders:[...x1,...e?.providers??[]],platformProviders:S1}}const S1=[{provide:ef,useValue:"browser"},{provide:Xm,useValue:function b1(){Op.makeCurrent()},multi:!0},{provide:dr,useFactory:function T1(){return function OT(e){Xd=e}(document),document}}],x1=[{provide:na,useValue:"root"},{provide:No,useFactory:function I1(){return new No}},{provide:Ap,useClass:(()=>{class e extends CC{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,s){return n.addEventListener(r,i,s),()=>this.removeEventListener(n,r,i,s)}removeEventListener(n,r,i,s){return n.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||e)(te(dr))};static \u0275prov=Y({token:e,factory:e.\u0275fac})}return e})(),multi:!0,deps:[dr]},{provide:Ap,useClass:(()=>{class e extends CC{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i,s){const c=e.parseEventName(r),u=e.eventCallback(c.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fd().onAndCancel(n,c.domEventName,u,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let c="",u=r.indexOf("code");if(u>-1&&(r.splice(u,1),c="code."),PC.forEach(h=>{const p=r.indexOf(h);p>-1&&(r.splice(p,1),c+=h+".")}),c+=s,0!=r.length||0===s.length)return null;const d={};return d.domEventName=i,d.fullKey=c,d}static matchEventFullKeyCode(n,r){let i=w1[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),PC.forEach(c=>{c!==i&&(0,D1[c])(n)&&(s+=c+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{e.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static \u0275fac=function(r){return new(r||e)(te(dr))};static \u0275prov=Y({token:e,factory:e.\u0275fac})}return e})(),multi:!0,deps:[dr]},xC,TC,EC,{provide:sh,useExisting:xC},{provide:om,useClass:y1},[]];Error,Error;var Pl=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(Pl||{});function _n(e,t){const n=Rt(e),r=n[He.NumberSymbols][t];if(typeof r>"u"){if(12===t)return n[He.NumberSymbols][0];if(13===t)return n[He.NumberSymbols][1]}return r}const wL=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Zp(e){const t=parseInt(e);if(isNaN(t))throw new N(2305,!1);return t}class RL{$implicit;ngForOf;index;count;constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let YC=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new RL(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===s?void 0:s);else if(null!==s){const u=r.get(s);r.move(u,c),KC(u,i)}});for(let i=0,s=r.length;i<s;i++){const u=r.get(i).context;u.index=i,u.count=s,u.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{KC(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(ce(Gn),ce(yr),ce(bp))};static \u0275dir=pn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function KC(e,t){e.context.$implicit=t.item}let Gp=(()=>{class e{_viewContainer;_context=new FL;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){XC(n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){XC(n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(ce(Gn),ce(yr))};static \u0275dir=pn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})();class FL{$implicit=null;ngIf=null}function XC(e,t){if(e&&!e.createEmbeddedView)throw new N(2020,!1)}let nb=(()=>{class e{_locale;constructor(n){this._locale=n}transform(n,r,i){if(!function Yp(e){return!(null==e||""===e||e!=e)}(n))return null;i||=this._locale;try{return function TL(e,t,n){return function zp(e,t,n,r,i,s,c=!1){let u="",d=!1;if(isFinite(e)){let h=function ML(e){let r,i,s,c,u,t=Math.abs(e)+"",n=0;for((i=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(i<0&&(i=s),i+=+t.slice(s+1),t=t.substring(0,s)):i<0&&(i=t.length),s=0;"0"===t.charAt(s);s++);if(s===(u=t.length))r=[0],i=1;else{for(u--;"0"===t.charAt(u);)u--;for(i-=s,r=[],c=0;s<=u;s++,c++)r[c]=Number(t.charAt(s))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(e);c&&(h=function SL(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(h));let p=t.minInt,m=t.minFrac,v=t.maxFrac;if(s){const M=s.match(wL);if(null===M)throw new N(2306,!1);const j=M[1],pe=M[3],X=M[5];null!=j&&(p=Zp(j)),null!=pe&&(m=Zp(pe)),null!=X?v=Zp(X):null!=pe&&m>v&&(v=m)}!function xL(e,t,n){if(t>n)throw new N(2307,!1);let r=e.digits,i=r.length-e.integerLen;const s=Math.min(Math.max(t,i),n);let c=s+e.integerLen,u=r[c];if(c>0){r.splice(Math.max(e.integerLen,c));for(let m=c;m<r.length;m++)r[m]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,c=s+1),r[0]=0;for(let m=1;m<c;m++)r[m]=0}if(u>=5)if(c-1<0){for(let m=0;m>c;m--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[c-1]++;for(;i<Math.max(0,s);i++)r.push(0);let d=0!==s;const h=t+e.integerLen,p=r.reduceRight(function(m,v,y,D){return D[y]=(v+=m)<10?v:v-10,d&&(0===D[y]&&y>=h?D.pop():d=!1),v>=10?1:0},0);p&&(r.unshift(p),e.integerLen++)}(h,m,v);let y=h.digits,D=h.integerLen;const C=h.exponent;let T=[];for(d=y.every(M=>!M);D<p;D++)y.unshift(0);for(;D<0;D++)y.unshift(0);D>0?T=y.splice(D,y.length):(T=y,y=[0]);const S=[];for(y.length>=t.lgSize&&S.unshift(y.splice(-t.lgSize,y.length).join(""));y.length>t.gSize;)S.unshift(y.splice(-t.gSize,y.length).join(""));y.length&&S.unshift(y.join("")),u=S.join(_n(n,r)),T.length&&(u+=_n(n,i)+T.join("")),C&&(u+=_n(n,6)+"+"+C)}else u=_n(n,9);return u=e<0&&!d?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf,u}(e,function $p(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),i=r[0],s=r[1],c=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],u=c[0],d=c[1]||"";n.posPre=u.substring(0,u.indexOf("#"));for(let p=0;p<d.length;p++){const m=d.charAt(p);"0"===m?n.minFrac=n.maxFrac=p+1:"#"===m?n.maxFrac=p+1:n.posSuf+=m}const h=u.split(",");if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,s){const p=i.length-n.posPre.length-n.posSuf.length,m=s.indexOf("#");n.negPre=s.substring(0,m).replace(/'/g,""),n.negSuf=s.slice(m+p).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}(function Bp(e,t){return Rt(e)[He.NumberFormats][t]}(t,Pl.Decimal),_n(t,5)),t,1,0,n)}(function Kp(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new N(2309,!1);return e}(n),i,r)}catch(s){throw function Mn(e,t){return new N(2100,!1)}()}}static \u0275fac=function(r){return new(r||e)(ce(Wr,16))};static \u0275pipe=Zt({name:"number",type:e,pure:!0})}return e})();let Xp=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ih({type:e});static \u0275inj=Sr({})}return e})();function iB(e,t){if(1&e&&(U(0,"option",12),se(1),z()),2&e){const n=t.$implicit;tt("value",n),_e(),mn(" ",n," ")}}function oB(e,t){1&e&&(U(0,"div",6)(1,"div",13)(2,"span",14),se(3,"Cargando..."),z()(),U(4,"small",15),se(5,"Obteniendo comunidades aut\xf3nomas..."),z()())}function sB(e,t){if(1&e&&(U(0,"option",12),se(1),z()),2&e){const n=t.$implicit;tt("value",n),_e(),mn(" ",n," ")}}function aB(e,t){if(1&e){const n=Ka();U(0,"div",0)(1,"label",16),Ne(2,"i",17),se(3," Provincia "),z(),U(4,"select",18),gn("change",function(i){return ca(n),ua(qn().onProvinciaChange(i))}),U(5,"option",19),se(6,"Seleccione una provincia"),z(),vr(7,sB,2,2,"option",20),z(),U(8,"small",21),Ne(9,"i",22),se(10),z()()}if(2&e){const n=qn();_e(4),tt("value",n.provinciaSeleccionada),_e(3),tt("ngForOf",n.provinciasFiltradas)("ngForTrackBy",n.trackByValue),_e(3),mn(" ",n.provinciasFiltradas.length," provincias disponibles ")}}function cB(e,t){if(1&e&&(U(0,"option",12),se(1),z()),2&e){const n=t.$implicit;tt("value",n),_e(),mn(" ",n," ")}}function uB(e,t){if(1&e){const n=Ka();U(0,"div",0)(1,"label",23),Ne(2,"i",24),se(3," Municipio "),z(),U(4,"select",25),gn("change",function(i){return ca(n),ua(qn().onMunicipioChange(i))}),U(5,"option",19),se(6,"Seleccione un municipio"),z(),vr(7,cB,2,2,"option",5),z(),U(8,"small",21),Ne(9,"i",22),se(10),z()()}if(2&e){const n=qn();_e(4),tt("value",n.municipioSeleccionado),_e(3),tt("ngForOf",n.municipios),_e(3),mn(" ",n.municipios.length," municipios disponibles ")}}function lB(e,t){if(1&e&&(U(0,"option",12),se(1),z()),2&e){const n=t.$implicit;tt("value",n.value),_e(),mn(" ",n.label," ")}}function dB(e,t){if(1&e){const n=Ka();U(0,"div",0)(1,"label",26),Ne(2,"i",27),se(3," Tipo de carburante "),z(),U(4,"select",28),gn("change",function(i){return ca(n),ua(qn().onFuelChange(i))}),U(5,"option",19),se(6,"Seleccione tipo de carburante"),z(),vr(7,lB,2,2,"option",5),z()()}if(2&e){const n=qn();_e(4),tt("value",n.fuelSeleccionado),_e(3),tt("ngForOf",n.fuelTypes)}}function fB(e,t){1&e&&(U(0,"div",29)(1,"div",30),Ne(2,"i",31),z(),U(3,"h6",15),se(4,"Comienza tu b\xfasqueda"),z(),U(5,"p",32),se(6," Selecciona una comunidad aut\xf3noma para ver las opciones disponibles "),z()())}let hB=(()=>{class e{stations=[];comunidades=[];provincias=[];municipios=[];municipioSeleccionado="";fechaSeleccionada="";provinciaSeleccionada="";fuelSeleccionado="";fuelSelected=new rn;comunidadSelected=new rn;provinciaSelected=new rn;municipioSelected=new rn;fechaSelected=new rn;provinciasFiltradas=[];fuelTypes=[{label:"Gasolina 95",value:"Precio Gasolina 95 E5"},{label:"Gas\xf3leo A",value:"Precio Gasoleo A"},{label:"Gasolina 98",value:"Precio Gasolina 98 E5"}];minFecha="";maxFecha="";ngOnInit(){const n=new Date,r=new Date;r.setFullYear(n.getFullYear()-1),this.maxFecha=n.toISOString().split("T")[0],this.minFecha=r.toISOString().split("T")[0]}ngOnChanges(n){n.provincias&&(this.provinciasFiltradas=this.provincias),n.provinciaSeleccionada&&(this.provinciaSeleccionada=n.provinciaSeleccionada.currentValue),n.fuelSeleccionado&&(this.fuelSeleccionado=n.fuelSeleccionado.currentValue)}onComunidadChange(n){const r=n.target.value;r&&(this.provinciaSeleccionada="",this.fuelSeleccionado="",this.municipioSeleccionado="",this.comunidadSelected.emit(r),this.provinciaSelected.emit(""),this.municipioSelected.emit(""),this.fuelSelected.emit(""))}onProvinciaChange(n){const r=n.target.value;this.provinciaSeleccionada=r,this.fuelSeleccionado="",this.municipioSeleccionado="",this.provinciaSelected.emit(r),this.municipioSelected.emit(""),this.fuelSelected.emit("")}onMunicipioChange(n){const r=n.target.value;this.municipioSeleccionado=r,this.municipioSelected.emit(r)}onFuelChange(n){const r=n.target.value;this.fuelSeleccionado=r,this.fuelSelected.emit(r)}onFechaChange(n){const r=n.target.value;this.fechaSeleccionada=r,this.fechaSelected.emit(r)}trackByValue(n,r){return r}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=qu({type:e,selectors:[["app-filter"]],inputs:{stations:"stations",comunidades:"comunidades",provincias:"provincias",municipios:"municipios",municipioSeleccionado:"municipioSeleccionado",fechaSeleccionada:"fechaSeleccionada",provinciaSeleccionada:"provinciaSeleccionada",fuelSeleccionado:"fuelSeleccionado"},outputs:{fuelSelected:"fuelSelected",comunidadSelected:"comunidadSelected",provinciaSelected:"provinciaSelected",municipioSelected:"municipioSelected",fechaSelected:"fechaSelected"},features:[ga],decls:18,vars:11,consts:[[1,"mb-4"],["for","comunidadSelect",1,"form-label","fw-semibold","text-dark"],[1,"fas","fa-map","me-2","text-primary"],["id","comunidadSelect",1,"form-select","form-select-lg","shadow-sm",3,"change","disabled"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","mt-2"],["class","mb-4",4,"ngIf"],["for","fechaSelect",1,"form-label","fw-semibold","text-dark"],[1,"fas","fa-calendar-alt","me-2","text-info"],["id","fechaSelect","type","date",1,"form-control","form-control-lg","shadow-sm",3,"change","value","min","max"],["class","text-center py-4",4,"ngIf"],[3,"value"],["role","status",1,"spinner-border","spinner-border-sm","text-primary","me-2"],[1,"visually-hidden"],[1,"text-muted"],["for","provinciaSelect",1,"form-label","fw-semibold","text-dark"],[1,"fas","fa-city","me-2","text-success"],["id","provinciaSelect",1,"form-select","form-select-lg","shadow-sm",3,"change","value"],["value","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"form-text","text-muted","mt-1"],[1,"fas","fa-info-circle","me-1"],["for","municipioSelect",1,"form-label","fw-semibold","text-dark"],[1,"fas","fa-map-pin","me-2","text-danger"],["id","municipioSelect",1,"form-select","form-select-lg","shadow-sm",3,"change","value"],["for","fuelSelect",1,"form-label","fw-semibold","text-dark"],[1,"fas","fa-gas-pump","me-2","text-warning"],["id","fuelSelect",1,"form-select","form-select-lg","shadow-sm",3,"change","value"],[1,"text-center","py-4"],[1,"mb-3"],[1,"fas","fa-search-location","fa-3x","text-muted","opacity-50"],[1,"small","text-muted","mb-0"]],template:function(r,i){1&r&&(U(0,"div",0)(1,"label",1),Ne(2,"i",2),se(3," Comunidad Aut\xf3noma "),z(),U(4,"select",3),gn("change",function(c){return i.onComunidadChange(c)}),U(5,"option",4),se(6),z(),vr(7,iB,2,2,"option",5),z(),sl(8,oB,6,0,"div",6),z(),vr(9,aB,11,4,"div",7)(10,uB,11,3,"div",7)(11,dB,8,2,"div",7),U(12,"div",0)(13,"label",8),Ne(14,"i",9),se(15," Fecha de consulta (\xfaltimo a\xf1o) "),z(),U(16,"input",10),gn("change",function(c){return i.onFechaChange(c)}),z()(),vr(17,fB,7,0,"div",11)),2&r&&(_e(4),tt("disabled",!i.comunidades.length||!i.stations.length),_e(2),mn(" ",i.comunidades.length?"Seleccione una comunidad":"Cargando comunidades..."," "),_e(),tt("ngForOf",i.comunidades),_e(),al(i.comunidades.length?-1:8),_e(),tt("ngIf",i.provinciasFiltradas.length>0),_e(),tt("ngIf",i.municipios&&i.municipios.length>0),_e(),tt("ngIf",i.provinciaSeleccionada),_e(5),tt("value",i.fechaSeleccionada)("min",i.minFecha)("max",i.maxFecha),_e(),tt("ngIf",!i.provinciaSeleccionada&&!i.provinciasFiltradas.length))},dependencies:[Xp,YC,Gp],styles:[".form-select[_ngcontent-%COMP%]{border:2px solid #e9ecef;transition:all .3s ease}.form-select[_ngcontent-%COMP%]:focus{border-color:#0d6efd;box-shadow:0 0 0 .25rem #0d6efd40}.form-select[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#0d6efd}.form-label[_ngcontent-%COMP%]{margin-bottom:.75rem;color:#495057}.form-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:20px;text-align:center}.spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem}.form-text[_ngcontent-%COMP%]{font-size:.8rem;display:flex;align-items:center}.fa-3x[_ngcontent-%COMP%]{font-size:3rem}.opacity-50[_ngcontent-%COMP%]{opacity:.5}@media (max-width: 768px){.form-select-lg[_ngcontent-%COMP%]{font-size:1rem;padding:.75rem 1rem}}"]})}return e})();var $i=P(244);function pB(e,t){1&e&&(U(0,"div",11)(1,"div",12)(2,"span",13),se(3,"Cargando precios..."),z()()())}let gB=(()=>{class e{stations=[];currentLocation={lat:0,lng:0};selectedStation=null;fuelSeleccionado="";loading=!0;map=null;userMarker=null;stationMarkers=[];defaultZoom=13;gasStationIcon=(0,$i.icon)({iconUrl:"assets/leaflet/images/gas-station-marker.svg",iconSize:[32,42],iconAnchor:[16,42],popupAnchor:[0,-42],tooltipAnchor:[16,-30],className:"custom-marker gas-station-marker"});userLocationIcon=(0,$i.icon)({iconUrl:"assets/leaflet/images/user-location-marker.svg",iconSize:[32,42],iconAnchor:[16,42],popupAnchor:[0,-42],tooltipAnchor:[16,-30],className:"custom-marker user-location-marker"});ngOnChanges(n){if(n.currentLocation&&0!==this.currentLocation.lat&&0!==this.currentLocation.lng&&this.initMap(),n.stations&&this.map&&this.updateMarkers(),n.selectedStation&&this.selectedStation&&this.map){const r=this.selectedStation.parsedLat,i=this.selectedStation.parsedLng;r&&i&&this.map.setView([r,i],this.defaultZoom,{animate:!0})}}initMap(){this.map?(this.map.setView([this.currentLocation.lat,this.currentLocation.lng],this.defaultZoom),this.addUserMarker()):(this.map=$i.map("map").setView([this.currentLocation.lat,this.currentLocation.lng],this.defaultZoom),$i.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(this.map),$i.Marker.prototype.options.icon=this.gasStationIcon,this.addUserMarker(),this.stations.length&&this.updateMarkers())}addUserMarker(){this.userMarker&&this.userMarker.remove(),this.userMarker=$i.marker([this.currentLocation.lat,this.currentLocation.lng],{icon:this.userLocationIcon,zIndexOffset:1e3}).addTo(this.map).bindPopup('<i class="fas fa-car text-danger me-2"></i> Posici\xf3n actual').openPopup()}updateMarkers(){this.map&&(this.loading=!0,this.clearStationMarkers(),this.stationMarkers=this.stations.filter(n=>n.parsedLat&&n.parsedLng).map(n=>$i.marker([n.parsedLat,n.parsedLng],{icon:this.gasStationIcon}).addTo(this.map).bindPopup(this.createPopupContent(n))),this.loading=!1)}clearStationMarkers(){this.stationMarkers.forEach(n=>{this.map?.removeLayer(n)}),this.stationMarkers=[]}createPopupContent(n){const i=n["Precio Gasoleo A"],s=n["Precio Gasolina 98 E5"],c=n["C.P."]||n.CP||"N/A",u=T=>{if(!T||""===T||" "===T)return"N/A";const S="string"==typeof T?parseFloat(T.replace(",",".")):T;return isNaN(S)?"N/A":`${S.toFixed(3)} \u20ac`},d=u(n["Precio Gasolina 95 E5"]),h=u(i),p=u(s),m=n.distance?`${n.distance.toFixed(2)} km`:"?",v={"Precio Gasolina 95 E5":"N/A"!==d?`\n        <div class="price-card p-1 border rounded flex-fill mx-1 mb-2">\n          <div class="d-flex align-items-center mb-1">\n            <i class="fas fa-gas-pump text-success me-1"></i>\n            <small class="fw-semibold text-success">&nbsp;Gasolina 95</small>\n          </div>\n          <div class="fw-bold text-success">${d}</div>\n        </div>\n      `:"","Precio Gasoleo A":"N/A"!==h?`\n        <div class="price-card p-1 border rounded flex-fill mx-1 mb-2">\n          <div class="d-flex align-items-center mb-1">\n            <i class="fas fa-gas-pump me-1" style="color:#ffc107"></i>\n            <small class="fw-semibold" style="color:#ffc107">&nbsp;Gas\xf3leo A</small>\n          </div>\n          <div class="fw-bold" style="color:#ffc107">${h}</div>\n        </div>\n      `:"","Precio Gasolina 98 E5":"N/A"!==p?`\n        <div class="price-card p-1 border rounded flex-fill mx-1 mb-2">\n          <div class="d-flex align-items-center mb-1">\n            <i class="fas fa-oil-can me-1" style="color:#dc3545"></i>\n            <small class="fw-semibold" style="color:#dc3545">&nbsp;Gasolina 98</small>\n          </div>\n          <div class="fw-bold" style="color:#dc3545">${p}</div>\n        </div>\n      `:""};let y="";y=this.fuelSeleccionado&&v[this.fuelSeleccionado]?v[this.fuelSeleccionado]:Object.values(v).filter(Boolean).join("");const D=(y.match(/price-card/g)||[]).length,C=this.fuelSeleccionado&&1===D;return`\n      <div class="popup-content">\n        <div class="popup-header">\n          <h6 class="fw-bold text-primary mb-1">\n            <i class="fas fa-gas-pump me-2"></i>\n            ${n.R\u00f3tulo||"Sin nombre"}\n          </h6>\n        </div>\n        <div class="popup-body">\n          <p class="mb-2 text-muted small">\n            <i class="fas fa-map-marker-alt me-2"></i>\n            ${n.Direcci\u00f3n||"Direcci\xf3n no disponible"}\n          </p>\n          <p class="mb-2 text-muted small">\n            <i class="fas fa-city me-2"></i>\n            ${n.Municipio||"Municipio no disponible"}\n          </p>\n          <p class="mb-2 text-muted small">\n            <i class="fas fa-mail-bulk me-2"></i>\n            <span>${c}</span>\n          </p>\n          <div class="fuel-prices mb-2 d-flex flex-wrap justify-content-between align-items-stretch${C?" single-card":""}">\n            ${y}\n          </div>\n          <div class="d-flex ${C?"justify-content-start":"justify-content-center"}">\n            <div class="distance-info ${C?"text-start":"text-center"}">\n              <small class="text-muted">Distancia:</small>\n              <div class="fw-bold text-info">${m}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <style>\n        .popup-content { \n          font-family: system-ui, -apple-system, sans-serif; \n          min-width: 260px;\n          max-width: 320px;\n          box-sizing: border-box;\n        }\n        .popup-header { \n          border-bottom: 1px solid #e9ecef; \n          padding-bottom: 8px; \n          margin-bottom: 12px; \n        }\n        .popup-body { \n          min-width: 220px; \n        }\n        .fuel-prices {\n          background: white;\n          border-radius: 8px;\n          padding: 4px 0 0 0;\n          margin-bottom: 8px;\n          width: 100%;\n          box-sizing: border-box;\n        }\n        .price-card {\n          background: #f8f9fa;\n          border-color: #e9ecef !important;\n          text-align: center;\n          transition: all 0.2s ease;\n          min-width: 90px;\n          max-width: 100px;\n          flex: 1 1 90px;\n          font-size: 0.95em;\n          margin-left: 0.25rem;\n          margin-right: 0.25rem;\n        }\n        .price-card:hover {\n          background: #e9ecef;\n          transform: translateY(-1px);\n        }\n        .distance-info { \n          background: #f8f9fa;\n          padding: 8px 16px;\n          border-radius: 8px;\n          border: 1px solid #e9ecef;\n          width: auto;\n        }\n        /* Ajustes cuando solo hay una card */\n        .fuel-prices.single-card {\n          justify-content: flex-start !important;\n          padding-left: 0 !important;\n          padding-right: 0 !important;\n          width: calc(100% - 44px) !important;\n          max-width: calc(100% - 44px) !important;\n        }\n        .fuel-prices.single-card .price-card {\n          margin-left: 0 !important;\n          margin-right: 0 !important;\n          max-width: 100% !important;\n          min-width: 0 !important;\n          flex: 1 1 100% !important;\n          width: 100% !important;\n        }\n        .fuel-prices.single-card ~ .d-flex .distance-info {\n          width: calc(100% - 44px) !important;\n          max-width: calc(100% - 44px) !important;\n        }\n        ${C?"\n        .leaflet-popup-content-wrapper, .popup-content {\n          min-width: 180px !important;\n          max-width: 220px !important;\n        }\n        ":""}\n      </style>\n    `}zoomIn(){this.map&&this.map.zoomIn()}zoomOut(){this.map&&this.map.zoomOut()}centerOnUser(){this.map&&0!==this.currentLocation.lat&&0!==this.currentLocation.lng&&(this.map.setView([this.currentLocation.lat,this.currentLocation.lng],this.defaultZoom),this.userMarker&&this.userMarker.openPopup())}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=qu({type:e,selectors:[["app-map"]],inputs:{stations:"stations",currentLocation:"currentLocation",selectedStation:"selectedStation",fuelSeleccionado:"fuelSeleccionado"},features:[ga],decls:11,vars:1,consts:[[1,"map-container","position-relative"],["class","spinner-overlay",4,"ngIf"],["id","map",1,"rounded","shadow-sm"],[1,"map-overlay","position-absolute","top-0","end-0","m-3"],["role","group",1,"btn-group-vertical","shadow-sm"],["type","button","title","Acercar",1,"btn","btn-light","btn-sm","border",3,"click"],[1,"fas","fa-plus"],["type","button","title","Alejar",1,"btn","btn-light","btn-sm","border",3,"click"],[1,"fas","fa-minus"],["type","button","title","Mi ubicaci\xf3n",1,"btn","btn-light","btn-sm","border",3,"click"],[1,"fas","fa-crosshairs"],[1,"spinner-overlay"],["role","status",1,"spinner-border","text-primary",2,"width","3rem","height","3rem"],[1,"visually-hidden"]],template:function(r,i){1&r&&(U(0,"div",0),vr(1,pB,4,0,"div",1),Ne(2,"div",2),U(3,"div",3)(4,"div",4)(5,"button",5),gn("click",function(){return i.zoomIn()}),Ne(6,"i",6),z(),U(7,"button",7),gn("click",function(){return i.zoomOut()}),Ne(8,"i",8),z(),U(9,"button",9),gn("click",function(){return i.centerOnUser()}),Ne(10,"i",10),z()()()()),2&r&&(_e(),tt("ngIf",i.loading))},dependencies:[Xp,Gp],styles:[".map-container[_ngcontent-%COMP%]{height:100%;width:100%;min-height:400px;overflow:hidden;border-radius:.375rem;display:flex;flex-direction:column}#map[_ngcontent-%COMP%]{height:100%;width:100%;min-height:400px;border-radius:.375rem;flex-grow:1}.map-overlay[_ngcontent-%COMP%]{z-index:1000}.btn-group-vertical[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:0;width:40px;height:40px}.btn-group-vertical[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:first-child{border-top-left-radius:.375rem;border-top-right-radius:.375rem}.btn-group-vertical[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:.375rem;border-bottom-right-radius:.375rem}.map-info[_ngcontent-%COMP%]{z-index:1000}.badge[_ngcontent-%COMP%]{border-radius:.5rem;font-size:.8rem}[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}.custom-marker[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3));transition:all .2s ease}.custom-marker[_ngcontent-%COMP%]:hover{filter:drop-shadow(0 4px 8px rgba(0,0,0,.4));transform:scale(1.1)}.gas-station-marker[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.user-location-marker[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce 1s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_pulse{0%{filter:drop-shadow(0 2px 4px rgba(255,107,107,.3))}50%{filter:drop-shadow(0 2px 8px rgba(255,107,107,.6))}to{filter:drop-shadow(0 2px 4px rgba(255,107,107,.3))}}@keyframes _ngcontent-%COMP%_bounce{0%{transform:translateY(0)}to{transform:translateY(-3px)}}@media (max-width: 768px){.map-container[_ngcontent-%COMP%], #map[_ngcontent-%COMP%]{min-height:300px}.btn-group-vertical[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:36px;height:36px;font-size:.8rem}}.spinner-overlay[_ngcontent-%COMP%]{position:absolute;z-index:2000;inset:0;background:#ffffffb3;display:flex;align-items:center;justify-content:center}"]})}return e})();class mB extends yt{constructor(t,n){super()}schedule(t,n=0){return this}}const zl={setInterval(e,t,...n){const{delegate:r}=zl;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=zl;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},rb={now:()=>(rb.delegate||Date).now(),delegate:void 0};class _c{constructor(t,n=_c.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}_c.now=rb.now;const vB=new class yB extends _c{constructor(t,n=_c.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}(class _B extends mB{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(t,n,r=0){return zl.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&zl.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Xi(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}});function qr(e){return this instanceof qr?(this.v=e,this):new qr(e)}function ab(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function rg(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(c){return new Promise(function(u,d){!function i(s,c,u,d){Promise.resolve(d).then(function(h){s({value:h,done:u})},c)}(u,d,(c=e[s](c)).done,c.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const cb=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function ub(e){return $e(e?.then)}function lb(e){return $e(e[Rs])}function db(e){return Symbol.asyncIterator&&$e(e?.[Symbol.asyncIterator])}function fb(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const hb=function WB(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function pb(e){return $e(e?.[hb])}function gb(e){return function sb(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),s=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",function c(y){return function(D){return Promise.resolve(D).then(y,m)}}),i[Symbol.asyncIterator]=function(){return this},i;function u(y,D){r[y]&&(i[y]=function(C){return new Promise(function(T,S){s.push([y,C,T,S])>1||d(y,C)})},D&&(i[y]=D(i[y])))}function d(y,D){try{!function h(y){y.value instanceof qr?Promise.resolve(y.value.v).then(p,m):v(s[0][2],y)}(r[y](D))}catch(C){v(s[0][3],C)}}function p(y){d("next",y)}function m(y){d("throw",y)}function v(y,D){y(D),s.shift(),s.length&&d(s[0][0],s[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield qr(n.read());if(i)return yield qr(void 0);yield yield qr(r)}}finally{n.releaseLock()}})}function mb(e){return $e(e?.getReader)}function Jr(e){if(e instanceof ke)return e;if(null!=e){if(lb(e))return function GB(e){return new ke(t=>{const n=e[Rs]();if($e(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(cb(e))return function qB(e){return new ke(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(ub(e))return function JB(e){return new ke(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Mc)})}(e);if(db(e))return _b(e);if(pb(e))return function YB(e){return new ke(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(mb(e))return function KB(e){return _b(gb(e))}(e)}throw fb(e)}function _b(e){return new ke(t=>{(function XB(e,t){var n,r,i,s;return function ib(e,t,n,r){return new(n||(n=Promise))(function(s,c){function u(p){try{h(r.next(p))}catch(m){c(m)}}function d(p){try{h(r.throw(p))}catch(m){c(m)}}function h(p){p.done?s(p.value):function i(s){return s instanceof n?s:new n(function(c){c(s)})}(p.value).then(u,d)}h((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=ab(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(c){i={error:c}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Er(e,t,n,r=0,i=!1){const s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}const e2=Ki(e=>function(n=null){e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n});function yb(e,t){const{first:n,each:r,with:i=t2,scheduler:s=t??vB,meta:c=null}=function wB(e){return e instanceof Date&&!isNaN(e)}(e)?{first:e}:"number"==typeof e?{each:e}:e;if(null==n&&null==r)throw new TypeError("No timeout provided.");return hr((u,d)=>{let h,p,m=null,v=0;const y=D=>{p=Er(d,s,()=>{try{h.unsubscribe(),Jr(i({meta:c,lastValue:m,seen:v})).subscribe(d)}catch(C){d.error(C)}},D)};h=u.subscribe(pr(d,D=>{p?.unsubscribe(),v++,d.next(m=D),r>0&&y(r)},void 0,void 0,()=>{p?.closed||p?.unsubscribe(),m=null})),!v&&y(null!=n?"number"==typeof n?n:+n-s.now():r)})}function t2(e){throw new e2(e)}function og(e){return hr((t,n)=>{let s,r=null,i=!1;r=t.subscribe(pr(n,void 0,void 0,c=>{s=Jr(e(c,og(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function vb(e,t){const n=$e(e)?e:()=>e,r=i=>i.error(n());return new ke(t?i=>t.schedule(r,0,i):r)}function sg(e,t,n=1/0){return $e(t)?sg((r,i)=>Lr((s,c)=>t(r,s,i,c))(Jr(e(r,i))),n):("number"==typeof t&&(n=t),hr((r,i)=>function n2(e,t,n,r,i,s,c,u){const d=[];let h=0,p=0,m=!1;const v=()=>{m&&!d.length&&!h&&t.complete()},y=C=>h<r?D(C):d.push(C),D=C=>{s&&t.next(C),h++;let T=!1;Jr(n(C,p++)).subscribe(pr(t,S=>{i?.(S),s?y(S):t.next(S)},()=>{T=!0},void 0,()=>{if(T)try{for(h--;d.length&&h<r;){const S=d.shift();c?Er(t,c,()=>D(S)):D(S)}v()}catch(S){t.error(S)}}))};return e.subscribe(pr(t,y,()=>{m=!0,v()})),()=>{u?.()}}(r,i,e,n)))}function wb(e,t=0){return hr((n,r)=>{n.subscribe(pr(r,i=>Er(r,e,()=>r.next(i),t),()=>Er(r,e,()=>r.complete(),t),i=>Er(r,e,()=>r.error(i),t)))})}function Db(e,t=0){return hr((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Eb(e,t){if(!e)throw new Error("Iterable cannot be null");return new ke(n=>{Er(n,t,()=>{const r=e[Symbol.asyncIterator]();Er(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Cb(e,t){return t?function p2(e,t){if(null!=e){if(lb(e))return function u2(e,t){return Jr(e).pipe(Db(t),wb(t))}(e,t);if(cb(e))return function d2(e,t){return new ke(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(ub(e))return function l2(e,t){return Jr(e).pipe(Db(t),wb(t))}(e,t);if(db(e))return Eb(e,t);if(pb(e))return function f2(e,t){return new ke(n=>{let r;return Er(n,t,()=>{r=e[hb](),Er(n,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(c){return void n.error(c)}s?n.complete():n.next(i)},0,!0)}),()=>$e(r?.return)&&r.return()})}(e,t);if(mb(e))return function h2(e,t){return Eb(gb(e),t)}(e,t)}throw fb(e)}(e,t):Jr(e)}function bb(...e){return Cb(e,function c2(e){return function a2(e){return e&&$e(e.schedule)}(function ag(e){return e[e.length-1]}(e))?e.pop():void 0}(e))}class $l{}class Zl{}class xn{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=n.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof xn?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new xn;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof xn?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const i=("a"===t.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=t.value;if(s){let c=this.headers.get(n);if(!c)return;c=c.filter(u=>-1===s.indexOf(u)),0===c.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,c)}else this.headers.delete(n),this.normalizedNames.delete(n)}}addHeaderEntry(t,n){const r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class g2{encodeKey(t){return Ib(t)}encodeValue(t){return Ib(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const _2=/%(\d[a-f0-9])/gi,y2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ib(e){return encodeURIComponent(e).replace(_2,(t,n)=>y2[n]??t)}function Ql(e){return`${e}`}class Yr{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new g2,t.fromString){if(t.fromObject)throw new N(2805,!1);this.map=function m2(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[c,u]=-1==s?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],d=n.get(c)||[];d.push(u),n.set(c,d)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],i=Array.isArray(r)?r.map(Ql):[Ql(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new Yr({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(Ql(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(Ql(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class v2{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Tb(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Sb(e){return typeof Blob<"u"&&e instanceof Blob}function Mb(e){return typeof FormData<"u"&&e instanceof FormData}const yc="Content-Type",cg="X-Request-URL",xb="text/plain",Ab="application/json",Nb=`${Ab}, ${xb}, */*`;class vc{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;keepalive=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,n,r,i){let s;if(this.url=n,this.method=t.toUpperCase(),function w2(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,this.keepalive=!!s.keepalive,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new xn,this.context??=new v2,this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=n;else{const u=n.indexOf("?");this.urlWithParams=n+(-1===u?"?":u<n.length-1?"&":"")+c}}else this.params=new Yr,this.urlWithParams=n}serializeBody(){return null===this.body?null:"string"==typeof this.body||Tb(this.body)||Sb(this.body)||Mb(this.body)||function D2(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Yr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Mb(this.body)?null:Sb(this.body)?this.body.type||null:Tb(this.body)?null:"string"==typeof this.body?xb:this.body instanceof Yr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?Ab:null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=t.keepalive??this.keepalive,c=t.transferCache??this.transferCache,u=void 0!==t.body?t.body:this.body,d=t.withCredentials??this.withCredentials,h=t.reportProgress??this.reportProgress;let p=t.headers||this.headers,m=t.params||this.params;const v=t.context??this.context;return void 0!==t.setHeaders&&(p=Object.keys(t.setHeaders).reduce((y,D)=>y.set(D,t.setHeaders[D]),p)),t.setParams&&(m=Object.keys(t.setParams).reduce((y,D)=>y.set(D,t.setParams[D]),m)),new vc(n,r,u,{params:m,headers:p,context:v,reportProgress:h,responseType:i,withCredentials:d,transferCache:c,keepalive:s})}}var Kr=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Kr||{});class ug{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new xn,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Gl extends ug{constructor(t={}){super(t)}type=Kr.ResponseHeader;clone(t={}){return new Gl({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class wc extends ug{body;constructor(t={}){super(t),this.body=void 0!==t.body?t.body:null}type=Kr.Response;clone(t={}){return new wc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ps extends ug{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function lg(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache,keepalive:e.keepalive}}let Rb=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof vc)s=n;else{let d,h;d=i.headers instanceof xn?i.headers:new xn(i.headers),i.params&&(h=i.params instanceof Yr?i.params:new Yr({fromObject:i.params})),s=new vc(n,r,void 0!==i.body?i.body:null,{headers:d,context:i.context,params:h,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive})}const c=bb(s).pipe(function r2(e,t){return $e(t)?sg(e,t,1):sg(e,1)}(d=>this.handler.handle(d)));if(n instanceof vc||"events"===i.observe)return c;const u=c.pipe(function i2(e,t){return hr((n,r)=>{let i=0;n.subscribe(pr(r,s=>e.call(t,s,i++)&&r.next(s)))})}(d=>d instanceof wc));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe(Lr(d=>{if(null!==d.body&&!(d.body instanceof ArrayBuffer))throw new N(2806,!1);return d.body}));case"blob":return u.pipe(Lr(d=>{if(null!==d.body&&!(d.body instanceof Blob))throw new N(2807,!1);return d.body}));case"text":return u.pipe(Lr(d=>{if(null!==d.body&&"string"!=typeof d.body)throw new N(2808,!1);return d.body}));default:return u.pipe(Lr(d=>d.body))}case"response":return u;default:throw new N(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Yr).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,lg(i,r))}post(n,r,i={}){return this.request("POST",n,lg(i,r))}put(n,r,i={}){return this.request("PUT",n,lg(i,r))}static \u0275fac=function(r){return new(r||e)(te($l))};static \u0275prov=Y({token:e,factory:e.\u0275fac})}return e})();const kb=new F("");function Ob(e,t){return t(e)}const Dc=new F(""),A2=new F(""),Lb=new F("",{providedIn:"root",factory:()=>!0});let Bb=(()=>{class e extends $l{backend;injector;chain=null;pendingTasks=O(Rd);contributeToStability=O(Lb);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Dc),...this.injector.get(A2,[])]));this.chain=r.reduceRight((i,s)=>function M2(e,t,n){return(r,i)=>sa(n,()=>t(r,s=>e(s,i)))}(i,s,this.injector),Ob)}if(this.contributeToStability){const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(function o2(e){return hr((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}(r))}return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(te(Zl),te(We))};static \u0275prov=Y({token:e,factory:e.\u0275fac})}return e})();const k2=/^\)\]\}',?\n/,O2=RegExp(`^${cg}:`,"m");let jb=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new N(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Cb(r.\u0275loadImpl()):bb(null)).pipe(function s2(e,t){return hr((n,r)=>{let i=null,s=0,c=!1;const u=()=>c&&!i&&r.complete();n.subscribe(pr(r,d=>{i?.unsubscribe();let h=0;const p=s++;Jr(e(d,p)).subscribe(i=pr(r,m=>r.next(t?t(d,m,p,h++):m),()=>{i=null,u()}))},()=>{c=!0,u()}))})}(()=>new ke(s=>{const c=r.build();if(c.open(n.method,n.urlWithParams),n.withCredentials&&(c.withCredentials=!0),n.headers.forEach((C,T)=>c.setRequestHeader(C,T.join(","))),n.headers.has("Accept")||c.setRequestHeader("Accept",Nb),!n.headers.has(yc)){const C=n.detectContentTypeHeader();null!==C&&c.setRequestHeader(yc,C)}if(n.responseType){const C=n.responseType.toLowerCase();c.responseType="json"!==C?C:"text"}const u=n.serializeBody();let d=null;const h=()=>{if(null!==d)return d;const C=c.statusText||"OK",T=new xn(c.getAllResponseHeaders()),S=function L2(e){return"responseURL"in e&&e.responseURL?e.responseURL:O2.test(e.getAllResponseHeaders())?e.getResponseHeader(cg):null}(c)||n.url;return d=new Gl({headers:T,status:c.status,statusText:C,url:S}),d},p=()=>{let{headers:C,status:T,statusText:S,url:M}=h(),j=null;204!==T&&(j=typeof c.response>"u"?c.responseText:c.response),0===T&&(T=j?200:0);let pe=T>=200&&T<300;if("json"===n.responseType&&"string"==typeof j){const X=j;j=j.replace(k2,"");try{j=""!==j?JSON.parse(j):null}catch(An){j=X,pe&&(pe=!1,j={error:An,text:j})}}pe?(s.next(new wc({body:j,headers:C,status:T,statusText:S,url:M||void 0})),s.complete()):s.error(new ps({error:j,headers:C,status:T,statusText:S,url:M||void 0}))},m=C=>{const{url:T}=h(),S=new ps({error:C,status:c.status||0,statusText:c.statusText||"Unknown Error",url:T||void 0});s.error(S)};let v=!1;const y=C=>{v||(s.next(h()),v=!0);let T={type:Kr.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(T.total=C.total),"text"===n.responseType&&c.responseText&&(T.partialText=c.responseText),s.next(T)},D=C=>{let T={type:Kr.UploadProgress,loaded:C.loaded};C.lengthComputable&&(T.total=C.total),s.next(T)};return c.addEventListener("load",p),c.addEventListener("error",m),c.addEventListener("timeout",m),c.addEventListener("abort",m),n.reportProgress&&(c.addEventListener("progress",y),null!==u&&c.upload&&c.upload.addEventListener("progress",D)),c.send(u),s.next({type:Kr.Sent}),()=>{c.removeEventListener("error",m),c.removeEventListener("abort",m),c.removeEventListener("load",p),c.removeEventListener("timeout",m),n.reportProgress&&(c.removeEventListener("progress",y),null!==u&&c.upload&&c.upload.removeEventListener("progress",D)),c.readyState!==c.DONE&&c.abort()}})))}static \u0275fac=function(r){return new(r||e)(te(om))};static \u0275prov=Y({token:e,factory:e.\u0275fac})}return e})();const hg=new F(""),Vb=new F("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Hb=new F("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class zb{}let j2=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=im(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(te(dr),te(Vb))};static \u0275prov=Y({token:e,factory:e.\u0275fac})}return e})();function V2(e,t){const n=e.url.toLowerCase();if(!O(hg)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=O(zb).getToken(),i=O(Hb);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}let z2=(()=>{class e{http;estacionesEndpoint="https://sedeaplicaciones.minetur.gob.es/ServiciosRESTCarburantes/PreciosCarburantes/EstacionesTerrestres/";estacionesHistEndpoint="https://sedeaplicaciones.minetur.gob.es/ServiciosRESTCarburantes/PreciosCarburantes/EstacionesTerrestresHist/";comunidadesEndpoint="https://sedeaplicaciones.minetur.gob.es/ServiciosRESTCarburantes/PreciosCarburantes/Listados/ComunidadesAutonomas/";constructor(n){this.http=n}getStationsAndDate(n){let r=this.estacionesEndpoint;return n&&(r=`${this.estacionesHistEndpoint}${n}`),this.http.get(r).pipe(yb(15e3),Lr(i=>({stations:i.ListaEESSPrecio,fecha:i.Fecha})),og(i=>(console.error("Error en getStations:",i),vb(()=>i))))}getComunidadesAutonomas(){return this.http.get(this.comunidadesEndpoint).pipe(yb(1e4),Lr(n=>{const r={};return n.forEach(i=>{i.IDCCAA&&i.CCAA&&(r[i.CCAA]=i.IDCCAA)}),r}),og(n=>(console.error("Error obteniendo comunidades aut\xf3nomas:",n),vb(()=>n))))}getDistinctValues(n,r){if(!n||!n.length)return[];const s=[r,"IDCCAA","ComunidadAut\xf3noma","Comunidad","CCAA"].find(c=>n.some(u=>void 0!==u[c]));return s?Array.from(new Set(n.map(c=>c[s]).filter(c=>null!=c&&""!==c))).sort((c,u)=>c.localeCompare(u)):[]}filterByComunidad(n,r){return n.filter(i=>i.CCAA===r)}filterByProvincia(n,r){return n.filter(i=>i.Provincia===r)}getDistinctMunicipios(n,r){return n&&r?Array.from(new Set(n.filter(i=>i.Provincia===r).map(i=>i.Municipio).filter(i=>null!=i&&""!==i))).sort((i,s)=>i.localeCompare(s)):[]}filterByMunicipio(n,r){return n.filter(i=>i.Municipio===r)}filterByFuelType(n,r){return n.filter(i=>""!==i[r]&&" "!==i[r]&&!isNaN(parseFloat(i[r].replace(",","."))))}static \u0275fac=function(r){return new(r||e)(te(Rb))};static \u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const $2=(e,t)=>({lat:e,lng:t}),Z2=(e,t)=>t.IDEESS;function Q2(e,t){if(1&e){const n=Ka();U(0,"div",47)(1,"div",48)(2,"a",49),gn("click",function(i){const s=ca(n).$implicit;return qn(2).onStationClick(s),ua(i.preventDefault())}),U(3,"h6",50),se(4),z()(),U(5,"small",38),se(6),function sE(e,t){const n=re();let r;const i=e+b;n.firstCreatePass?(r=function HF(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=rr(r.type)),u=Be(ce);try{const d=cu(!1),h=s();return cu(d),function _d(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,x(),i,h),h}finally{Be(u)}}(7,"number"),z()(),U(8,"p",51),se(9),z(),U(10,"small",38),se(11),z(),Ne(12,"br"),z()}if(2&e){const n=t.$implicit;_e(4),oc(n.R\u00f3tulo),_e(2),mn("",function aE(e,t,n,r){const i=e+b,s=x(),c=function wi(e,t){return e[t]}(s,i);return function ac(e,t){return e[1].data[t].pure}(s,i)?nE(s,Pt(),t,c.transform,n,r,c):c.transform(n,r)}(7,5,n.distance,"1.1-1")," km"),_e(3),oc(n.Direcci\u00f3n),_e(2),gl("",n.Municipio,", ",n.Provincia)}}function W2(e,t){if(1&e&&(U(0,"div",22),function jw(e,t,n,r,i,s,c,u,d,h,p,m,v){hn("NgControlFlow");const y=x(),D=re(),C=void 0!==d,T=x(),S=u?c.bind(T[15][8]):c,M=new PP(C,S);T[b+e]=M,ki(y,D,e+1,t,n,r,i,Ht(D.consts,s),256),C&&ki(y,D,e+2,d,h,p,m,Ht(D.consts,v),512)}(1,Q2,13,8,"div",47,Z2),z()),2&e){const n=qn();_e(),Vw(n.nearestStations.slice(0,10))}}function G2(e,t){1&e&&(U(0,"p",23),se(1,"No se encontraron estaciones"),z())}function q2(e,t){if(1&e&&Ne(0,"app-map",31),2&e){const n=qn();tt("stations",n.nearestStations)("currentLocation",function eE(e,t,n,r,i){return nE(x(),Pt(),e,t,n,r,i)}(4,$2,n.latitude,n.longitude))("selectedStation",n.selectedStation)("fuelSeleccionado",n.fuelSeleccionado)}}function J2(e,t){1&e&&(U(0,"div",32)(1,"div",52)(2,"div",53)(3,"span",54),se(4,"Cargando..."),z()(),U(5,"h5",55),se(6,"Obteniendo ubicaci\xf3n..."),z(),U(7,"p",38),se(8,"Localizando tu posici\xf3n actual para mostrar las gasolineras m\xe1s cercanas"),z(),U(9,"div",56),Ne(10,"i",57),U(11,"small",38),se(12,"Aseg\xfarate de permitir el acceso a la ubicaci\xf3n"),z()()()())}(function C1(e,t){return nO({rootComponent:e,...RC(t)})})((()=>{class e{fuelService;latitude=0;longitude=0;allStations=[];filteredSize=0;nearestStations=[];comunidades=[];comunidadesMap={};provincias=[];municipios=[];selectedStation=null;comunidadSeleccionada="";provinciaSeleccionada="";municipioSeleccionado="";fuelSeleccionado="";fechaSeleccionada="";fechaActual="";locationLoaded=!1;constructor(n){this.fuelService=n}ngOnInit(){this.getUserLocation(),this.loadComunities()}getUserLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(n=>{this.latitude=n.coords.latitude,this.longitude=n.coords.longitude,this.locationLoaded=!0,this.loadStationsAndDate()},n=>{console.error("Error obteniendo ubicaci\xf3n:",n),this.latitude=40.4168,this.longitude=-3.7038,this.locationLoaded=!0,this.loadStationsAndDate()},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):(console.warn("Geolocalizaci\xf3n no soportada por el navegador"),this.latitude=40.4168,this.longitude=-3.7038,this.locationLoaded=!0,this.loadStationsAndDate())}loadStationsAndDate(){this.fuelService.getStationsAndDate().subscribe({next:n=>{this.allStations=n.stations,this.fechaActual=n.fecha,this.showNearestStations()},error:n=>{console.error("Error obteniendo estaciones y fecha:",n)}})}loadComunities(){this.fuelService.getComunidadesAutonomas().subscribe({next:n=>{this.comunidadesMap=n,this.comunidades=Object.keys(this.comunidadesMap)},error:n=>{console.error("Error obteniendo comunidades aut\xf3nomas:",n)}})}showNearestStations(){this.allStations.length&&(this.filteredSize=this.allStations.length,this.nearestStations=this.allStations.filter(n=>n.Latitud&&n["Longitud (WGS84)"]).map(n=>{const r=parseFloat(n.Latitud.replace(",",".")),i=parseFloat(n["Longitud (WGS84)"].replace(",","."));return{...n,distance:this.calculateDistance(r,i),parsedLat:r,parsedLng:i}}).sort((n,r)=>n.distance-r.distance).slice(0,10))}onStationClick(n){this.selectedStation=n}onComunidadSelected(n){this.comunidadSeleccionada=this.comunidadesMap[n]||n;const r=this.allStations.filter(i=>i.IDCCAA===this.comunidadSeleccionada);this.provincias=this.fuelService.getDistinctValues(r,"Provincia"),this.provinciaSeleccionada="",this.fuelSeleccionado="",this.refreshNearestStations()}onProvinciaSelected(n){this.provinciaSeleccionada=n,this.fuelSeleccionado="";const r=this.fuelService.filterByProvincia(this.allStations,n);this.municipios=this.fuelService.getDistinctMunicipios(r,n),this.municipioSeleccionado="",this.refreshNearestStations()}onMunicipioSelected(n){this.municipioSeleccionado=n,this.refreshNearestStations()}onFuelSelected(n){this.fuelSeleccionado=n,this.refreshNearestStations()}onFechaSelected(n){this.fechaSeleccionada=n,this.cargarEstaciones()}cargarEstaciones(){let n=this.fechaSeleccionada;if(n){const[r,i,s]=n.split("-");n=`${s}-${i}-${r}`}this.fuelService.getStationsAndDate(n).subscribe(r=>{this.allStations=r.stations,this.fechaActual=r.fecha,this.showNearestStations()})}refreshNearestStations(){let n=[...this.allStations];this.comunidadSeleccionada&&(n=n.filter(r=>r.IDCCAA===this.comunidadSeleccionada)),this.provinciaSeleccionada&&(n=this.fuelService.filterByProvincia(n,this.provinciaSeleccionada)),this.municipioSeleccionado&&(n=this.fuelService.filterByMunicipio(n,this.municipioSeleccionado)),this.fuelSeleccionado&&(n=this.fuelService.filterByFuelType(n,this.fuelSeleccionado)),this.filteredSize=n.length,n=n.map(r=>{const i=parseFloat(r.Latitud.replace(",",".")),s=parseFloat(r["Longitud (WGS84)"].replace(",","."));return{...r,distance:this.calculateDistance(i,s),parsedLat:i,parsedLng:s}}),this.nearestStations=n.sort((r,i)=>r.distance-i.distance).slice(0,10)}calculateDistance(n,r){const s=(n-this.latitude)*Math.PI/180,c=(r-this.longitude)*Math.PI/180,u=Math.sin(s/2)*Math.sin(s/2)+Math.cos(this.latitude*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(c/2)*Math.sin(c/2);return 12742*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}static \u0275fac=function(r){return new(r||e)(ce(z2))};static \u0275cmp=qu({type:e,selectors:[["app-root"]],decls:65,vars:12,consts:[[1,"min-vh-100","bg-light"],[1,"bg-primary","text-white","shadow-sm"],[1,"container","py-4"],[1,"row","align-items-center"],[1,"col"],[1,"display-5","mb-2","fw-bold"],[1,"fas","fa-gas-pump","me-3","text-warning"],[1,"lead","mb-0","opacity-75"],[1,"container-fluid","py-4","d-flex","flex-column",2,"height","calc(100vh - 140px)"],[1,"row","g-4","flex-grow-1"],[1,"col-lg-3","col-md-4"],[1,"sticky-top",2,"top","20px"],[1,"card","shadow-sm","border-0","mb-4"],[1,"card-header","bg-white","border-bottom"],[1,"card-title","mb-0","text-primary","fw-semibold"],[1,"fas","fa-filter","me-2"],[1,"card-body"],[3,"comunidadSelected","provinciaSelected","municipioSelected","fuelSelected","fechaSelected","stations","comunidades","provincias","municipios","municipioSeleccionado","fechaSeleccionada"],[1,"card","shadow-sm","border-0"],[1,"fas","fa-list","me-2"],[1,"alert","alert-info"],[1,"fas","fa-info-circle","me-2"],[1,"list-group","list-group-flush"],[1,"text-muted","text-center"],[1,"col-lg-9","col-md-8","d-flex","flex-column"],[1,"card","shadow-sm","border-0","d-flex","flex-column","h-100"],[1,"card-header","bg-white","border-bottom","d-flex","justify-content-between","align-items-center","flex-shrink-0"],[1,"fas","fa-map-marked-alt","me-2"],[1,"badge","bg-info","text-dark"],[1,"fas","fa-map-marker-alt","me-1"],[1,"card-body","p-0","position-relative","flex-grow-1","d-flex","flex-column"],[1,"flex-grow-1","d-flex",3,"stations","currentLocation","selectedStation","fuelSeleccionado"],[1,"d-flex","justify-content-center","align-items-center","flex-grow-1"],[1,"mt-5","py-4","bg-white","rounded","shadow-sm"],[1,"container"],[1,"col-md-6"],[1,"d-flex","align-items-center"],[1,"fas","fa-clock","text-success","me-2"],[1,"text-muted"],[1,"text-dark"],[1,"col-md-6","text-md-end","mt-2","mt-md-0"],[1,"d-flex","align-items-center","justify-content-md-end"],[1,"fas","fa-info-circle","text-primary","me-2"],[1,"my-3"],[1,"row"],[1,"col","text-center"],[1,"fas","fa-heart","text-danger","me-1"],[1,"list-group-item","border-0","px-0"],[1,"d-flex","w-100","justify-content-between"],["href","#",1,"text-primary","text-decoration-underline",2,"cursor","pointer",3,"click"],[1,"mb-1","text-primary"],[1,"mb-1","small","text-muted"],[1,"text-center"],["role","status",1,"spinner-border","text-primary","mb-3",2,"width","3rem","height","3rem"],[1,"visually-hidden"],[1,"text-primary","mb-2"],[1,"mt-3"],[1,"fas","fa-location-arrow","text-primary","me-2"]],template:function(r,i){1&r&&(U(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),Ne(6,"i",6),se(7," Geoportal Carburantes "),z(),U(8,"p",7),se(9,"Encuentra las gasolineras m\xe1s cercanas con los mejores precios"),z()()()()(),U(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13)(16,"h5",14),Ne(17,"i",15),se(18," Filtros de B\xfasqueda "),z()(),U(19,"div",16)(20,"app-filter",17),gn("comunidadSelected",function(c){return i.onComunidadSelected(c)})("provinciaSelected",function(c){return i.onProvinciaSelected(c)})("municipioSelected",function(c){return i.onMunicipioSelected(c)})("fuelSelected",function(c){return i.onFuelSelected(c)})("fechaSelected",function(c){return i.onFechaSelected(c)}),z()()(),U(21,"div",18)(22,"div",13)(23,"h5",14),Ne(24,"i",19),se(25," Resultados "),z()(),U(26,"div",16)(27,"div",20),Ne(28,"i",21),se(29),z(),sl(30,W2,3,0,"div",22)(31,G2,2,0,"p",23),z()()()(),U(32,"div",24)(33,"div",25)(34,"div",26)(35,"h5",14),Ne(36,"i",27),se(37," Mapa de Gasolineras "),z(),U(38,"div",28),Ne(39,"i",29),se(40),z()(),U(41,"div",30),sl(42,q2,1,7,"app-map",31)(43,J2,13,0,"div",32),z()()()(),U(44,"footer",33)(45,"div",34)(46,"div",3)(47,"div",35)(48,"div",36),Ne(49,"i",37),U(50,"small",38),se(51," Precios actualizados a: "),U(52,"strong",39),se(53),z()()()(),U(54,"div",40)(55,"div",41),Ne(56,"i",42),U(57,"small",38),se(58," Datos proporcionados por el Ministerio de Industria, Comercio y Turismo "),z()()()(),Ne(59,"hr",43),U(60,"div",44)(61,"div",45)(62,"small",38),Ne(63,"i",46),se(64," Desarrollado para facilitar la b\xfasqueda de combustible "),z()()()()()()()),2&r&&(_e(20),tt("stations",i.allStations)("comunidades",i.comunidades)("provincias",i.provincias)("municipios",i.municipios)("municipioSeleccionado",i.municipioSeleccionado)("fechaSeleccionada",i.fechaSeleccionada),_e(9),gl(" ",i.filteredSize," estaciones encontradas. Mostrando ",i.nearestStations.length," de las m\xe1s cercanas. "),_e(),al(i.nearestStations.length>0?30:31),_e(10),mn(" ",i.nearestStations.length," estaciones "),_e(2),al(i.locationLoaded?42:43),_e(11),oc(i.fechaActual))},dependencies:[Xp,nb,hB,gB],styles:["[_nghost-%COMP%]{display:block}.card[_ngcontent-%COMP%]{transition:all .3s ease;border:none!important}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a!important}.card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-bottom:1px solid #dee2e6!important}app-map[_ngcontent-%COMP%]{height:100%;width:100%;min-height:calc(100vh - 300px);border-radius:0 0 .375rem .375rem;overflow:hidden;flex:1;display:flex}.card.flex-grow-1[_ngcontent-%COMP%], .card.h-100[_ngcontent-%COMP%]{min-height:calc(100vh - 300px);display:flex;flex-direction:column}.card-body.flex-grow-1[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem}header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d6efd,#0b5ed7)}.sticky-top[_ngcontent-%COMP%]{position:sticky;top:20px;z-index:1020}footer[_ngcontent-%COMP%]{border:1px solid #e9ecef}.badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.5rem .75rem}.text-warning[_ngcontent-%COMP%]{color:#ffc107!important}@media (max-width: 768px){.sticky-top[_ngcontent-%COMP%]{position:relative;top:auto}.display-5[_ngcontent-%COMP%]{font-size:1.75rem}.lead[_ngcontent-%COMP%]{font-size:1rem}}"]})}return e})(),{providers:[function H2(...e){const t=[Rb,jb,Bb,{provide:$l,useExisting:Bb},{provide:Zl,useFactory:()=>O(kb,{optional:!0})??O(jb)},{provide:Dc,useValue:V2,multi:!0},{provide:hg,useValue:!0},{provide:zb,useClass:j2}];for(const n of e)t.push(...n.\u0275providers);return function ea(e){return{\u0275providers:e}}(t)}()]}).catch(e=>console.error(e))},244:function(Ec,Cc){!function(P){"use strict";function we(o){var a,l,f,g;for(l=1,f=arguments.length;l<f;l++)for(a in g=arguments[l])o[a]=g[a];return o}var qt=Object.create||function(){function o(){}return function(a){return o.prototype=a,new o}}();function Fe(o,a){var l=Array.prototype.slice;if(o.bind)return o.bind.apply(o,l.call(arguments,1));var f=l.call(arguments,2);return function(){return o.apply(a,f.length?f.concat(l.call(arguments)):arguments)}}var bc=0;function ue(o){return"_leaflet_id"in o||(o._leaflet_id=++bc),o._leaflet_id}function Qi(o,a,l){var f,g,_,w;return w=function(){f=!1,g&&(_.apply(l,g),g=!1)},_=function(){f?g=arguments:(o.apply(l,arguments),setTimeout(w,a),f=!0)},_}function Le(o,a,l){var f=a[1],g=a[0],_=f-g;return o===f&&l?o:((o-g)%_+_)%_+g}function Me(){return!1}function kt(o,a){if(!1===a)return o;var l=Math.pow(10,void 0===a?6:a);return Math.round(o*l)/l}function ei(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function ze(o){return ei(o).split(/\s+/)}function k(o,a){for(var l in Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?qt(o.options):{}),a)o.options[l]=a[l];return o.options}function Wi(o,a,l){var f=[];for(var g in o)f.push(encodeURIComponent(l?g.toUpperCase():g)+"="+encodeURIComponent(o[g]));return(a&&-1!==a.indexOf("?")?"&":"?")+f.join("&")}var gg=/\{ *([\w_ -]+) *\}/g;function ql(o,a){return o.replace(gg,function(l,f){var g=a[f];if(void 0===g)throw new Error("No value provided for variable "+l);return"function"==typeof g&&(g=g(a)),g})}var ht=Array.isArray||function(o){return"[object Array]"===Object.prototype.toString.call(o)};function Cr(o,a){for(var l=0;l<o.length;l++)if(o[l]===a)return l;return-1}var Gi="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Yn(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var ms=0;function _s(o){var a=+new Date,l=Math.max(0,16-(a-ms));return ms=a+l,window.setTimeout(o,l)}var ys=window.requestAnimationFrame||Yn("RequestAnimationFrame")||_s,ti=window.cancelAnimationFrame||Yn("CancelAnimationFrame")||Yn("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function nt(o,a,l){if(!l||ys!==_s)return ys.call(window,Fe(o,a));o.call(a)}function pt(o){o&&ti.call(window,o)}var qi={__proto__:null,extend:we,create:qt,bind:Fe,get lastId(){return bc},stamp:ue,throttle:Qi,wrapNum:Le,falseFn:Me,formatNum:kt,trim:ei,splitWords:ze,setOptions:k,getParamString:Wi,template:ql,isArray:ht,indexOf:Cr,emptyImageUrl:Gi,requestFn:ys,cancelFn:ti,requestAnimFrame:nt,cancelAnimFrame:pt};function Ot(){}Ot.extend=function(o){var a=function(){k(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=a.__super__=this.prototype,f=qt(l);for(var g in f.constructor=a,a.prototype=f,this)Object.prototype.hasOwnProperty.call(this,g)&&"prototype"!==g&&"__super__"!==g&&(a[g]=this[g]);return o.statics&&we(a,o.statics),o.includes&&(function Ic(o){if(!(typeof L>"u")&&L&&L.Mixin){o=ht(o)?o:[o];for(var a=0;a<o.length;a++)o[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(o.includes),we.apply(null,[f].concat(o.includes))),we(f,o),delete f.statics,delete f.includes,f.options&&(f.options=l.options?qt(l.options):{},we(f.options,o.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var _=0,w=f._initHooks.length;_<w;_++)f._initHooks[_].call(this)}},a},Ot.include=function(o){var a=this.prototype.options;return we(this.prototype,o),o.options&&(this.prototype.options=a,this.mergeOptions(o.options)),this},Ot.mergeOptions=function(o){return we(this.prototype.options,o),this},Ot.addInitHook=function(o){var a=Array.prototype.slice.call(arguments,1),l="function"==typeof o?o:function(){this[o].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};var gt={on:function(o,a,l){if("object"==typeof o)for(var f in o)this._on(f,o[f],a);else for(var g=0,_=(o=ze(o)).length;g<_;g++)this._on(o[g],a,l);return this},off:function(o,a,l){if(arguments.length)if("object"==typeof o)for(var f in o)this._off(f,o[f],a);else{o=ze(o);for(var g=1===arguments.length,_=0,w=o.length;_<w;_++)g?this._off(o[_]):this._off(o[_],a,l)}else delete this._events;return this},_on:function(o,a,l,f){if("function"==typeof a){if(!1===this._listens(o,a,l)){l===this&&(l=void 0);var g={fn:a,ctx:l};f&&(g.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(g)}}else console.warn("wrong listener type: "+typeof a)},_off:function(o,a,l){var f,g,_;if(this._events&&(f=this._events[o])){if(1===arguments.length){if(this._firingCount)for(g=0,_=f.length;g<_;g++)f[g].fn=Me;return void delete this._events[o]}if("function"!=typeof a)return void console.warn("wrong listener type: "+typeof a);var w=this._listens(o,a,l);!1!==w&&(this._firingCount&&(f[w].fn=Me,this._events[o]=f=f.slice()),f.splice(w,1))}},fire:function(o,a,l){if(!this.listens(o,l))return this;var f=we({},a,{type:o,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var g=this._events[o];if(g){this._firingCount=this._firingCount+1||1;for(var _=0,w=g.length;_<w;_++){var E=g[_],I=E.fn;E.once&&this.off(o,I,E.ctx),I.call(E.ctx||this,f)}this._firingCount--}}return l&&this._propagateEvent(f),this},listens:function(o,a,l,f){"string"!=typeof o&&console.warn('"string" type argument expected');var g=a;"function"!=typeof a&&(f=!!a,g=void 0,l=void 0);var _=this._events&&this._events[o];if(_&&_.length&&!1!==this._listens(o,g,l))return!0;if(f)for(var w in this._eventParents)if(this._eventParents[w].listens(o,a,l,f))return!0;return!1},_listens:function(o,a,l){if(!this._events)return!1;var f=this._events[o]||[];if(!a)return!!f.length;l===this&&(l=void 0);for(var g=0,_=f.length;g<_;g++)if(f[g].fn===a&&f[g].ctx===l)return g;return!1},once:function(o,a,l){if("object"==typeof o)for(var f in o)this._on(f,o[f],a,!0);else for(var g=0,_=(o=ze(o)).length;g<_;g++)this._on(o[g],a,l,!0);return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[ue(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[ue(o)],this},_propagateEvent:function(o){for(var a in this._eventParents)this._eventParents[a].fire(o.type,we({layer:o.target,propagatedFrom:o.target},o),!0)}};gt.addEventListener=gt.on,gt.removeEventListener=gt.clearAllEventListeners=gt.off,gt.addOneTimeEventListener=gt.once,gt.fireEvent=gt.fire,gt.hasEventListeners=gt.listens;var vn=Ot.extend(gt);function G(o,a,l){this.x=l?Math.round(o):o,this.y=l?Math.round(a):a}var vs=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};function q(o,a,l){return o instanceof G?o:ht(o)?new G(o[0],o[1]):null==o?o:"object"==typeof o&&"x"in o&&"y"in o?new G(o.x,o.y):new G(o,a,l)}function xe(o,a){if(o)for(var l=a?[o,a]:o,f=0,g=l.length;f<g;f++)this.extend(l[f])}function Mt(o,a){return!o||o instanceof xe?o:new xe(o,a)}function Ct(o,a){if(o)for(var l=a?[o,a]:o,f=0,g=l.length;f<g;f++)this.extend(l[f])}function Te(o,a){return o instanceof Ct?o:new Ct(o,a)}function he(o,a,l){if(isNaN(o)||isNaN(a))throw new Error("Invalid LatLng object: ("+o+", "+a+")");this.lat=+o,this.lng=+a,void 0!==l&&(this.alt=+l)}function ee(o,a,l){return o instanceof he?o:ht(o)&&"object"!=typeof o[0]?3===o.length?new he(o[0],o[1],o[2]):2===o.length?new he(o[0],o[1]):null:null==o?o:"object"==typeof o&&"lat"in o?new he(o.lat,"lng"in o?o.lng:o.lon,o.alt):void 0===a?null:new he(o,a,l)}G.prototype={clone:function(){return new G(this.x,this.y)},add:function(o){return this.clone()._add(q(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(q(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new G(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new G(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=vs(this.x),this.y=vs(this.y),this},distanceTo:function(o){var a=(o=q(o)).x-this.x,l=o.y-this.y;return Math.sqrt(a*a+l*l)},equals:function(o){return(o=q(o)).x===this.x&&o.y===this.y},contains:function(o){return o=q(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+kt(this.x)+", "+kt(this.y)+")"}},xe.prototype={extend:function(o){var a,l;if(!o)return this;if(o instanceof G||"number"==typeof o[0]||"x"in o)a=l=q(o);else if(l=(o=Mt(o)).max,!(a=o.min)||!l)return this;return this.min||this.max?(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)):(this.min=a.clone(),this.max=l.clone()),this},getCenter:function(o){return q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return q(this.min.x,this.max.y)},getTopRight:function(){return q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var a,l;return(o="number"==typeof o[0]||o instanceof G?q(o):Mt(o))instanceof xe?(a=o.min,l=o.max):a=l=o,a.x>=this.min.x&&l.x<=this.max.x&&a.y>=this.min.y&&l.y<=this.max.y},intersects:function(o){o=Mt(o);var a=this.min,l=this.max,f=o.min,g=o.max;return g.x>=a.x&&f.x<=l.x&&g.y>=a.y&&f.y<=l.y},overlaps:function(o){o=Mt(o);var a=this.min,l=this.max,f=o.min,g=o.max;return g.x>a.x&&f.x<l.x&&g.y>a.y&&f.y<l.y},isValid:function(){return!(!this.min||!this.max)},pad:function(o){var a=this.min,l=this.max,f=Math.abs(a.x-l.x)*o,g=Math.abs(a.y-l.y)*o;return Mt(q(a.x-f,a.y-g),q(l.x+f,l.y+g))},equals:function(o){return!!o&&(o=Mt(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight()))}},Ct.prototype={extend:function(o){var f,g,a=this._southWest,l=this._northEast;if(o instanceof he)f=o,g=o;else{if(!(o instanceof Ct))return o?this.extend(ee(o)||Te(o)):this;if(g=o._northEast,!(f=o._southWest)||!g)return this}return a||l?(a.lat=Math.min(f.lat,a.lat),a.lng=Math.min(f.lng,a.lng),l.lat=Math.max(g.lat,l.lat),l.lng=Math.max(g.lng,l.lng)):(this._southWest=new he(f.lat,f.lng),this._northEast=new he(g.lat,g.lng)),this},pad:function(o){var a=this._southWest,l=this._northEast,f=Math.abs(a.lat-l.lat)*o,g=Math.abs(a.lng-l.lng)*o;return new Ct(new he(a.lat-f,a.lng-g),new he(l.lat+f,l.lng+g))},getCenter:function(){return new he((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new he(this.getNorth(),this.getWest())},getSouthEast:function(){return new he(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){o="number"==typeof o[0]||o instanceof he||"lat"in o?ee(o):Te(o);var f,g,a=this._southWest,l=this._northEast;return o instanceof Ct?(f=o.getSouthWest(),g=o.getNorthEast()):f=g=o,f.lat>=a.lat&&g.lat<=l.lat&&f.lng>=a.lng&&g.lng<=l.lng},intersects:function(o){o=Te(o);var a=this._southWest,l=this._northEast,f=o.getSouthWest(),g=o.getNorthEast();return g.lat>=a.lat&&f.lat<=l.lat&&g.lng>=a.lng&&f.lng<=l.lng},overlaps:function(o){o=Te(o);var a=this._southWest,l=this._northEast,f=o.getSouthWest(),g=o.getNorthEast();return g.lat>a.lat&&f.lat<l.lat&&g.lng>a.lng&&f.lng<l.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,a){return!!o&&(o=Te(o),this._southWest.equals(o.getSouthWest(),a)&&this._northEast.equals(o.getNorthEast(),a))},isValid:function(){return!(!this._southWest||!this._northEast)}},he.prototype={equals:function(o,a){return!!o&&(o=ee(o),Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng))<=(void 0===a?1e-9:a))},toString:function(o){return"LatLng("+kt(this.lat,o)+", "+kt(this.lng,o)+")"},distanceTo:function(o){return Nn.distance(this,ee(o))},wrap:function(){return Nn.wrapLatLng(this)},toBounds:function(o){var a=180*o/40075017,l=a/Math.cos(Math.PI/180*this.lat);return Te([this.lat-a,this.lng-l],[this.lat+a,this.lng+l])},clone:function(){return new he(this.lat,this.lng,this.alt)}};var o,wn={latLngToPoint:function(o,a){var l=this.projection.project(o),f=this.scale(a);return this.transformation._transform(l,f)},pointToLatLng:function(o,a){var l=this.scale(a),f=this.transformation.untransform(o,l);return this.projection.unproject(f)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var a=this.projection.bounds,l=this.scale(o);return new xe(this.transformation.transform(a.min,l),this.transformation.transform(a.max,l))},infinite:!1,wrapLatLng:function(o){var a=this.wrapLng?Le(o.lng,this.wrapLng,!0):o.lng;return new he(this.wrapLat?Le(o.lat,this.wrapLat,!0):o.lat,a,o.alt)},wrapLatLngBounds:function(o){var a=o.getCenter(),l=this.wrapLatLng(a),f=a.lat-l.lat,g=a.lng-l.lng;if(0===f&&0===g)return o;var _=o.getSouthWest(),w=o.getNorthEast();return new Ct(new he(_.lat-f,_.lng-g),new he(w.lat-f,w.lng-g))}},Nn=we({},wn,{wrapLng:[-180,180],R:6371e3,distance:function(o,a){var l=Math.PI/180,f=o.lat*l,g=a.lat*l,_=Math.sin((a.lat-o.lat)*l/2),w=Math.sin((a.lng-o.lng)*l/2),E=_*_+Math.cos(f)*Math.cos(g)*w*w,I=2*Math.atan2(Math.sqrt(E),Math.sqrt(1-E));return this.R*I}}),Ji={R:6378137,MAX_LATITUDE:85.0511287798,project:function(o){var a=Math.PI/180,l=this.MAX_LATITUDE,f=Math.max(Math.min(l,o.lat),-l),g=Math.sin(f*a);return new G(this.R*o.lng*a,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(o){var a=180/Math.PI;return new he((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*a,o.x*a/this.R)},bounds:(o=6378137*Math.PI,new xe([-o,-o],[o,o]))};function Ds(o,a,l,f){if(ht(o))return this._a=o[0],this._b=o[1],this._c=o[2],void(this._d=o[3]);this._a=o,this._b=a,this._c=l,this._d=f}function Pn(o,a,l,f){return new Ds(o,a,l,f)}Ds.prototype={transform:function(o,a){return this._transform(o.clone(),a)},_transform:function(o,a){return o.x=(a=a||1)*(this._a*o.x+this._b),o.y=a*(this._c*o.y+this._d),o},untransform:function(o,a){return new G((o.x/(a=a||1)-this._b)/this._a,(o.y/a-this._d)/this._c)}};var Yi=we({},Nn,{code:"EPSG:3857",projection:Ji,transformation:function(){var o=.5/(Math.PI*Ji.R);return Pn(o,.5,-o,.5)}()}),mg=we({},Yi,{code:"EPSG:900913"});function Jl(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Tc(o,a){var f,g,_,w,E,I,l="";for(f=0,_=o.length;f<_;f++){for(g=0,w=(E=o[f]).length;g<w;g++)l+=(g?"L":"M")+(I=E[g]).x+" "+I.y;l+=a?V.svg?"z":"x":""}return l||"M0 0"}var ni=document.documentElement.style,ri="ActiveXObject"in window,_g=ri&&!document.addEventListener,Es="msLaunchUri"in navigator&&!("documentMode"in document),Cs=ke("webkit"),$e=ke("android"),Ki=ke("android 2")||ke("android 3"),bs=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Xi=$e&&ke("Google")&&bs<537&&!("AudioNode"in window),yt=!!window.opera,Is=!Es&&ke("chrome"),Ts=ke("gecko")&&!Cs&&!yt&&!ri,Sc=!Is&&ke("safari"),Rn=ke("phantom"),ii="OTransition"in ni,Mc=0===navigator.platform.indexOf("Win"),Ss=ri&&"transition"in ni,Ms="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ki,xc="MozPerspective"in ni,Yl=!window.L_DISABLE_3D&&(Ss||Ms||xc)&&!ii&&!Rn,Kn=typeof orientation<"u"||ke("mobile"),Xn=Kn&&Cs,eo=Kn&&Ms,Ac=!window.PointerEvent&&window.MSPointerEvent,to=!(!window.PointerEvent&&!Ac),Nc="ontouchstart"in window||!!window.TouchEvent,xs=!window.L_NO_TOUCH&&(Nc||to),Kl=Kn&&yt,As=Kn&&Ts,no=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Xl=function(){var o=!1;try{var a=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",Me,a),window.removeEventListener("testPassiveEventSupport",Me,a)}catch{}return o}(),Ns=!!document.createElement("canvas").getContext,Ps=!(!document.createElementNS||!Jl("svg").createSVGRect),Rs=!!Ps&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(o.firstChild&&o.firstChild.namespaceURI)}(),ed=!Ps&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var a=o.firstChild;return a.style.behavior="url(#default#VML)",a&&"object"==typeof a.adj}catch{return!1}}();function ke(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var V={ie:ri,ielt9:_g,edge:Es,webkit:Cs,android:$e,android23:Ki,androidStock:Xi,opera:yt,chrome:Is,gecko:Ts,safari:Sc,phantom:Rn,opera12:ii,win:Mc,ie3d:Ss,webkit3d:Ms,gecko3d:xc,any3d:Yl,mobile:Kn,mobileWebkit:Xn,mobileWebkit3d:eo,msPointer:Ac,pointer:to,touch:xs,touchNative:Nc,mobileOpera:Kl,mobileGecko:As,retina:no,passiveEvents:Xl,canvas:Ns,svg:Ps,vml:ed,inlineSvg:Rs,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Rc=V.msPointer?"MSPointerDown":"pointerdown",Fc=V.msPointer?"MSPointerMove":"pointermove",kc=V.msPointer?"MSPointerUp":"pointerup",br=V.msPointer?"MSPointerCancel":"pointercancel",ro={touchstart:Rc,touchmove:Fc,touchend:kc,touchcancel:br},Oc={touchstart:function rd(o,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&mt(a),De(o,a)},touchmove:De,touchend:De,touchcancel:De},oi={},Fs=!1;function N(o,a,l){return"touchstart"===a&&function vg(){Fs||(document.addEventListener(Rc,Fn,!0),document.addEventListener(Fc,Ze,!0),document.addEventListener(kc,nd,!0),document.addEventListener(br,nd,!0),Fs=!0)}(),Oc[a]?(l=Oc[a].bind(this,l),o.addEventListener(ro[a],l,!1),l):(console.warn("wrong event specified:",a),Me)}function Fn(o){oi[o.pointerId]=o}function Ze(o){oi[o.pointerId]&&(oi[o.pointerId]=o)}function nd(o){delete oi[o.pointerId]}function De(o,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){for(var l in a.touches=[],oi)a.touches.push(oi[l]);a.changedTouches=[a],o(a)}}var so,ao,Y,Os,Ls,si=B(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Q=B(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ai="webkitTransition"===Q||"OTransition"===Q?Q+"End":"transitionend";function bt(o){return"string"==typeof o?document.getElementById(o):o}function io(o,a){var l=o.style[a]||o.currentStyle&&o.currentStyle[a];if((!l||"auto"===l)&&document.defaultView){var f=document.defaultView.getComputedStyle(o,null);l=f?f[a]:null}return"auto"===l?null:l}function ge(o,a,l){var f=document.createElement(o);return f.className=a||"",l&&l.appendChild(f),f}function Qe(o){var a=o.parentNode;a&&a.removeChild(o)}function Jt(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function ci(o){var a=o.parentNode;a&&a.lastChild!==o&&a.appendChild(o)}function ui(o){var a=o.parentNode;a&&a.firstChild!==o&&a.insertBefore(o,a.firstChild)}function Lc(o,a){if(void 0!==o.classList)return o.classList.contains(a);var l=oo(o);return l.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(l)}function ie(o,a){if(void 0!==o.classList)for(var l=ze(a),f=0,g=l.length;f<g;f++)o.classList.add(l[f]);else if(!Lc(o,a)){var _=oo(o);Bc(o,(_?_+" ":"")+a)}}function Je(o,a){void 0!==o.classList?o.classList.remove(a):Bc(o,ei((" "+oo(o)+" ").replace(" "+a+" "," ")))}function Bc(o,a){void 0===o.className.baseVal?o.className=a:o.className.baseVal=a}function oo(o){return o.correspondingElement&&(o=o.correspondingElement),void 0===o.className.baseVal?o.className:o.className.baseVal}function Yt(o,a){"opacity"in o.style?o.style.opacity=a:"filter"in o.style&&function vt(o,a){var l=!1,f="DXImageTransform.Microsoft.Alpha";try{l=o.filters.item(f)}catch{if(1===a)return}a=Math.round(100*a),l?(l.Enabled=100!==a,l.Opacity=a):o.style.filter+=" progid:"+f+"(opacity="+a+")"}(o,a)}function B(o){for(var a=document.documentElement.style,l=0;l<o.length;l++)if(o[l]in a)return o[l];return!1}function Ir(o,a,l){var f=a||new G(0,0);o.style[si]=(V.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(l?" scale("+l+")":"")}function rt(o,a){o._leaflet_pos=a,V.any3d?Ir(o,a):(o.style.left=a.x+"px",o.style.top=a.y+"px")}function Tr(o){return o._leaflet_pos||new G(0,0)}if("onselectstart"in document)so=function(){K(window,"selectstart",mt)},ao=function(){Ce(window,"selectstart",mt)};else{var co=B(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);so=function(){if(co){var o=document.documentElement.style;Y=o[co],o[co]="none"}},ao=function(){co&&(document.documentElement.style[co]=Y,Y=void 0)}}function Sr(){K(window,"dragstart",mt)}function Mr(){Ce(window,"dragstart",mt)}function Bs(o){for(;-1===o.tabIndex;)o=o.parentNode;o.style&&(er(),Os=o,Ls=o.style.outlineStyle,o.style.outlineStyle="none",K(window,"keydown",er))}function er(){Os&&(Os.style.outlineStyle=Ls,Os=void 0,Ls=void 0,Ce(window,"keydown",er))}function li(o){do{o=o.parentNode}while(!(o.offsetWidth&&o.offsetHeight||o===document.body));return o}function di(o){var a=o.getBoundingClientRect();return{x:a.width/o.offsetWidth||1,y:a.height/o.offsetHeight||1,boundingClientRect:a}}var F={__proto__:null,TRANSFORM:si,TRANSITION:Q,TRANSITION_END:ai,get:bt,getStyle:io,create:ge,remove:Qe,empty:Jt,toFront:ci,toBack:ui,hasClass:Lc,addClass:ie,removeClass:Je,setClass:Bc,getClass:oo,setOpacity:Yt,testProp:B,setTransform:Ir,setPosition:rt,getPosition:Tr,get disableTextSelection(){return so},get enableTextSelection(){return ao},disableImageDrag:Sr,enableImageDrag:Mr,preventOutline:Bs,restoreOutline:er,getSizedParentNode:li,getScale:di};function K(o,a,l,f){if(a&&"object"==typeof a)for(var g in a)js(o,g,a[g],l);else for(var _=0,w=(a=ze(a)).length;_<w;_++)js(o,a[_],l,f);return this}var It="_leaflet_events";function Ce(o,a,l,f){if(1===arguments.length)kn(o),delete o[It];else if(a&&"object"==typeof a)for(var g in a)Vs(o,g,a[g],l);else if(a=ze(a),2===arguments.length)kn(o,function(E){return-1!==Cr(a,E)});else for(var _=0,w=a.length;_<w;_++)Vs(o,a[_],l,f);return this}function kn(o,a){for(var l in o[It]){var f=l.split(/\d/)[0];(!a||a(f))&&Vs(o,f,null,null,l)}}var Us={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function js(o,a,l,f){var g=a+ue(l)+(f?"_"+ue(f):"");if(o[It]&&o[It][g])return this;var _=function(E){return l.call(f||o,E||window.event)},w=_;!V.touchNative&&V.pointer&&0===a.indexOf("touch")?_=N(o,a,_):V.touch&&"dblclick"===a?_=function wg(o,a){o.addEventListener("dblclick",a);var f,l=0;function g(_){if(1===_.detail){if("mouse"!==_.pointerType&&(!_.sourceCapabilities||_.sourceCapabilities.firesTouchEvents)){var w=od(_);if(!w.some(function(I){return I instanceof HTMLLabelElement&&I.attributes.for})||w.some(function(I){return I instanceof HTMLInputElement||I instanceof HTMLSelectElement})){var E=Date.now();E-l<=200?2===++f&&a(function dt(o){var l,f,a={};for(f in o)a[f]=(l=o[f])&&l.bind?l.bind(o):l;return o=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}(_)):f=1,l=E}}}else f=_.detail}return o.addEventListener("click",g),{dblclick:a,simDblclick:g}}(o,_):"addEventListener"in o?"touchstart"===a||"touchmove"===a||"wheel"===a||"mousewheel"===a?o.addEventListener(Us[a]||a,_,!!V.passiveEvents&&{passive:!1}):"mouseenter"===a||"mouseleave"===a?o.addEventListener(Us[a],_=function(E){E=E||window.event,zs(o,E)&&w(E)},!1):o.addEventListener(a,w,!1):o.attachEvent("on"+a,_),o[It]=o[It]||{},o[It][g]=_}function Vs(o,a,l,f,g){g=g||a+ue(l)+(f?"_"+ue(f):"");var _=o[It]&&o[It][g];if(!_)return this;!V.touchNative&&V.pointer&&0===a.indexOf("touch")?function td(o,a,l){ro[a]?o.removeEventListener(ro[a],l,!1):console.warn("wrong event specified:",a)}(o,a,_):V.touch&&"dblclick"===a?function id(o,a){o.removeEventListener("dblclick",a.dblclick),o.removeEventListener("click",a.simDblclick)}(o,_):"removeEventListener"in o?o.removeEventListener(Us[a]||a,_,!1):o.detachEvent("on"+a,_),o[It][g]=null}function Kt(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Uc(o){return js(o,"wheel",Kt),this}function uo(o){return K(o,"mousedown touchstart dblclick contextmenu",Kt),o._leaflet_disable_click=!0,this}function mt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function xr(o){return mt(o),Kt(o),this}function od(o){if(o.composedPath)return o.composedPath();for(var a=[],l=o.target;l;)a.push(l),l=l.parentNode;return a}function sd(o,a){if(!a)return new G(o.clientX,o.clientY);var l=di(a),f=l.boundingClientRect;return new G((o.clientX-f.left)/l.x-a.clientLeft,(o.clientY-f.top)/l.y-a.clientTop)}var Hs=V.linux&&V.chrome?window.devicePixelRatio:V.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function lo(o){return V.edge?o.wheelDeltaY/2:o.deltaY&&0===o.deltaMode?-o.deltaY/Hs:o.deltaY&&1===o.deltaMode?20*-o.deltaY:o.deltaY&&2===o.deltaMode?60*-o.deltaY:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?20*-o.detail:o.detail?o.detail/-32765*60:0}function zs(o,a){var l=a.relatedTarget;if(!l)return!0;try{for(;l&&l!==o;)l=l.parentNode}catch{return!1}return l!==o}var ad={__proto__:null,on:K,off:Ce,stopPropagation:Kt,disableScrollPropagation:Uc,disableClickPropagation:uo,preventDefault:mt,stop:xr,getPropagationPath:od,getMousePosition:sd,getWheelDelta:lo,isExternalTarget:zs,addListener:K,removeListener:Ce},$s=vn.extend({run:function(o,a,l,f){this.stop(),this._el=o,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=Tr(o),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=nt(this._animate,this),this._step()},_step:function(o){var a=+new Date-this._startTime,l=1e3*this._duration;a<l?this._runFrame(this._easeOut(a/l),o):(this._runFrame(1),this._complete())},_runFrame:function(o,a){var l=this._startPos.add(this._offset.multiplyBy(o));a&&l._round(),rt(this._el,l),this.fire("step")},_complete:function(){pt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),ne=vn.extend({options:{crs:Yi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,a){a=k(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=Fe(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),void 0!==a.zoom&&(this._zoom=this._limitZoom(a.zoom)),a.center&&void 0!==a.zoom&&this.setView(ee(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Q&&V.any3d&&!V.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),K(this._proxy,ai,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,a,l){return a=void 0===a?this._zoom:this._limitZoom(a),o=this._limitCenter(ee(o),a,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&!0!==l&&(void 0!==l.animate&&(l.zoom=we({animate:l.animate},l.zoom),l.pan=we({animate:l.animate,duration:l.duration},l.pan)),this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,a,l.zoom):this._tryAnimatedPan(o,l.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(o,a,l.pan&&l.pan.noMoveStart),this)},setZoom:function(o,a){return this._loaded?this.setView(this.getCenter(),o,{zoom:a}):(this._zoom=o,this)},zoomIn:function(o,a){return this.setZoom(this._zoom+(o=o||(V.any3d?this.options.zoomDelta:1)),a)},zoomOut:function(o,a){return this.setZoom(this._zoom-(o=o||(V.any3d?this.options.zoomDelta:1)),a)},setZoomAround:function(o,a,l){var f=this.getZoomScale(a),g=this.getSize().divideBy(2),w=(o instanceof G?o:this.latLngToContainerPoint(o)).subtract(g).multiplyBy(1-1/f),E=this.containerPointToLatLng(g.add(w));return this.setView(E,a,{zoom:l})},_getBoundsCenterZoom:function(o,a){a=a||{},o=o.getBounds?o.getBounds():Te(o);var l=q(a.paddingTopLeft||a.padding||[0,0]),f=q(a.paddingBottomRight||a.padding||[0,0]),g=this.getBoundsZoom(o,!1,l.add(f));if((g="number"==typeof a.maxZoom?Math.min(a.maxZoom,g):g)===1/0)return{center:o.getCenter(),zoom:g};var _=f.subtract(l).divideBy(2),w=this.project(o.getSouthWest(),g),E=this.project(o.getNorthEast(),g);return{center:this.unproject(w.add(E).divideBy(2).add(_),g),zoom:g}},fitBounds:function(o,a){if(!(o=Te(o)).isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(o,a);return this.setView(l.center,l.zoom,a)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,a){return this.setView(o,this._zoom,{pan:a})},panBy:function(o,a){if(a=a||{},!(o=q(o).round()).x&&!o.y)return this.fire("moveend");if(!0!==a.animate&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new $s,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),!1!==a.animate){ie(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,l,a.duration||.25,a.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,a,l){if(!1===(l=l||{}).animate||!V.any3d)return this.setView(o,a,l);this._stop();var f=this.project(this.getCenter()),g=this.project(o),_=this.getSize(),w=this._zoom;o=ee(o),a=void 0===a?w:a;var E=Math.max(_.x,_.y),I=E*this.getZoomScale(w,a),b=g.distanceTo(f)||1,R=1.42,H=R*R;function W(st){var eu=(I*I-E*E+(st?-1:1)*H*H*b*b)/(2*(st?I:E)*H*b),md=Math.sqrt(eu*eu+1)-eu;return md<1e-9?-18:Math.log(md)}function ct(st){return(Math.exp(st)-Math.exp(-st))/2}function Ve(st){return(Math.exp(st)+Math.exp(-st))/2}var le=W(0);function aa(st){return E*(Ve(le)*function fe(st){return ct(st)/Ve(st)}(le+R*st)-ct(le))/H}var Io=Date.now(),St=(W(1)-le)/R,zn=l.duration?1e3*l.duration:1e3*St*.8;return this._moveStart(!0,l.noMoveStart),function pd(){var st=(Date.now()-Io)/zn,jt=function Hn(st){return 1-Math.pow(1-st,1.5)}(st)*St;st<=1?(this._flyToFrame=nt(pd,this),this._move(this.unproject(f.add(g.subtract(f).multiplyBy(aa(jt)/b)),w),this.getScaleZoom(E/function Ke(st){return E*(Ve(le)/Ve(le+R*st))}(jt),w),{flyTo:!0})):this._move(o,a)._moveEnd(!0)}.call(this),this},flyToBounds:function(o,a){var l=this._getBoundsCenterZoom(o,a);return this.flyTo(l.center,l.zoom,a)},setMaxBounds:function(o){return o=Te(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var a=this.options.minZoom;return this.options.minZoom=o,this._loaded&&a!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var a=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&a!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,a){this._enforcingBounds=!0;var l=this.getCenter(),f=this._limitCenter(l,this._zoom,Te(o));return l.equals(f)||this.panTo(f,a),this._enforcingBounds=!1,this},panInside:function(o,a){var l=q((a=a||{}).paddingTopLeft||a.padding||[0,0]),f=q(a.paddingBottomRight||a.padding||[0,0]),g=this.project(this.getCenter()),_=this.project(o),w=this.getPixelBounds(),E=Mt([w.min.add(l),w.max.subtract(f)]),I=E.getSize();if(!E.contains(_)){this._enforcingBounds=!0;var b=_.subtract(E.getCenter()),R=E.extend(_).getSize().subtract(I);g.x+=b.x<0?-R.x:R.x,g.y+=b.y<0?-R.y:R.y,this.panTo(this.unproject(g),a),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=we({animate:!1,pan:!0},!0===o?{animate:!0}:o);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),f=a.divideBy(2).round(),g=l.divideBy(2).round(),_=f.subtract(g);return _.x||_.y?(o.animate&&o.pan?this.panBy(_):(o.pan&&this._rawPanBy(_),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(Fe(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:l})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=we({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=Fe(this._handleGeolocationResponse,this),l=Fe(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,l,o):navigator.geolocation.getCurrentPosition(a,l,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var a=o.code,l=o.message||(1===a?"permission denied":2===a?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var f=new he(o.coords.latitude,o.coords.longitude),g=f.toBounds(2*o.coords.accuracy),_=this._locateOptions;if(_.setView){var w=this.getBoundsZoom(g);this.setView(f,_.maxZoom?Math.min(w,_.maxZoom):w)}var E={latlng:f,bounds:g,timestamp:o.timestamp};for(var I in o.coords)"number"==typeof o.coords[I]&&(E[I]=o.coords[I]);this.fire("locationfound",E)}},addHandler:function(o,a){if(!a)return this;var l=this[o]=new a(this);return this._handlers.push(l),this.options[o]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var o;for(o in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),Qe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(pt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[o].remove();for(o in this._panes)Qe(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,a){var f=ge("div","leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),a||this._mapPane);return o&&(this._panes[o]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds();return new Ct(this.unproject(o.getBottomLeft()),this.unproject(o.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,a,l){o=Te(o),l=q(l||[0,0]);var f=this.getZoom()||0,g=this.getMinZoom(),_=this.getMaxZoom(),w=o.getNorthWest(),E=o.getSouthEast(),I=this.getSize().subtract(l),b=Mt(this.project(E,f),this.project(w,f)).getSize(),R=V.any3d?this.options.zoomSnap:1,H=I.x/b.x,W=I.y/b.y,ct=a?Math.max(H,W):Math.min(H,W);return f=this.getScaleZoom(ct,f),R&&(f=Math.round(f/(R/100))*(R/100),f=a?Math.ceil(f/R)*R:Math.floor(f/R)*R),Math.max(g,Math.min(_,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new G(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,a){var l=this._getTopLeftPoint(o,a);return new xe(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(void 0===o?this.getZoom():o)},getPane:function(o){return"string"==typeof o?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,a){var l=this.options.crs;return a=void 0===a?this._zoom:a,l.scale(o)/l.scale(a)},getScaleZoom:function(o,a){var l=this.options.crs,f=l.zoom(o*l.scale(a=void 0===a?this._zoom:a));return isNaN(f)?1/0:f},project:function(o,a){return a=void 0===a?this._zoom:a,this.options.crs.latLngToPoint(ee(o),a)},unproject:function(o,a){return a=void 0===a?this._zoom:a,this.options.crs.pointToLatLng(q(o),a)},layerPointToLatLng:function(o){var a=q(o).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(o){return this.project(ee(o))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(ee(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Te(o))},distance:function(o,a){return this.options.crs.distance(ee(o),ee(a))},containerPointToLayerPoint:function(o){return q(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return q(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var a=this.containerPointToLayerPoint(q(o));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ee(o)))},mouseEventToContainerPoint:function(o){return sd(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var a=this._container=bt(o);if(!a)throw new Error("Map container not found.");if(a._leaflet_id)throw new Error("Map container is already initialized.");K(a,"scroll",this._onScroll,this),this._containerId=ue(a)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&V.any3d,ie(o,"leaflet-container"+(V.touch?" leaflet-touch":"")+(V.retina?" leaflet-retina":"")+(V.ielt9?" leaflet-oldie":"")+(V.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=io(o,"position");"absolute"!==a&&"relative"!==a&&"fixed"!==a&&"sticky"!==a&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),rt(this._mapPane,new G(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ie(o.markerPane,"leaflet-zoom-hide"),ie(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,a,l){rt(this._mapPane,new G(0,0));var f=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var g=this._zoom!==a;this._moveStart(g,l)._move(o,a)._moveEnd(g),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(o,a){return o&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(o,a,l,f){void 0===a&&(a=this._zoom);var g=this._zoom!==a;return this._zoom=a,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),f?l&&l.pinch&&this.fire("zoom",l):((g||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return pt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){rt(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[ue(this._container)]=this;var a=o?Ce:K;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),V.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){pt(this._resizeRequest),this._resizeRequest=nt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,a){for(var f,l=[],g="mouseout"===a||"mouseover"===a,_=o.target||o.srcElement,w=!1;_;){if((f=this._targets[ue(_)])&&("click"===a||"preclick"===a)&&this._draggableMoved(f)){w=!0;break}if(f&&f.listens(a,!0)&&(g&&!zs(_,o)||(l.push(f),g))||_===this._container)break;_=_.parentNode}return!l.length&&!w&&!g&&this.listens(a,!0)&&(l=[this]),l},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var a=o.target||o.srcElement;if(!(!this._loaded||a._leaflet_disable_events||"click"===o.type&&this._isClickDisabled(a))){var l=o.type;"mousedown"===l&&Bs(a),this._fireDOMEvent(o,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,a,l){if("click"===o.type){var f=we({},o);f.type="preclick",this._fireDOMEvent(f,f.type,l)}var g=this._findEventTargets(o,a);if(l){for(var _=[],w=0;w<l.length;w++)l[w].listens(a,!0)&&_.push(l[w]);g=_.concat(g)}if(g.length){"contextmenu"===a&&mt(o);var E=g[0],I={originalEvent:o};if("keypress"!==o.type&&"keydown"!==o.type&&"keyup"!==o.type){var b=E.getLatLng&&(!E._radius||E._radius<=10);I.containerPoint=b?this.latLngToContainerPoint(E.getLatLng()):this.mouseEventToContainerPoint(o),I.layerPoint=this.containerPointToLayerPoint(I.containerPoint),I.latlng=b?E.getLatLng():this.layerPointToLatLng(I.layerPoint)}for(w=0;w<g.length;w++)if(g[w].fire(a,I,!0),I.originalEvent._stopped||!1===g[w].options.bubblingMouseEvents&&-1!==Cr(this._mouseEvents,a))return}},_draggableMoved:function(o){return(o=o.dragging&&o.dragging.enabled()?o:this).dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,a=this._handlers.length;o<a;o++)this._handlers[o].disable()},whenReady:function(o,a){return this._loaded?o.call(a||this,{target:this}):this.on("load",o,a),this},_getMapPanePos:function(){return Tr(this._mapPane)||new G(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,a){return(o&&void 0!==a?this._getNewPixelOrigin(o,a):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,a){var l=this.getSize()._divideBy(2);return this.project(o,a)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,a,l){var f=this._getNewPixelOrigin(l,a);return this.project(o,a)._subtract(f)},_latLngBoundsToNewLayerBounds:function(o,a,l){var f=this._getNewPixelOrigin(l,a);return Mt([this.project(o.getSouthWest(),a)._subtract(f),this.project(o.getNorthWest(),a)._subtract(f),this.project(o.getSouthEast(),a)._subtract(f),this.project(o.getNorthEast(),a)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,a,l){if(!l)return o;var f=this.project(o,a),g=this.getSize().divideBy(2),_=new xe(f.subtract(g),f.add(g)),w=this._getBoundsOffset(_,l,a);return Math.abs(w.x)<=1&&Math.abs(w.y)<=1?o:this.unproject(f.add(w),a)},_limitOffset:function(o,a){if(!a)return o;var l=this.getPixelBounds(),f=new xe(l.min.add(o),l.max.add(o));return o.add(this._getBoundsOffset(f,a))},_getBoundsOffset:function(o,a,l){var f=Mt(this.project(a.getNorthEast(),l),this.project(a.getSouthWest(),l)),g=f.min.subtract(o.min),_=f.max.subtract(o.max);return new G(this._rebound(g.x,-_.x),this._rebound(g.y,-_.y))},_rebound:function(o,a){return o+a>0?Math.round(o-a)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(a))},_limitZoom:function(o){var a=this.getMinZoom(),l=this.getMaxZoom(),f=V.any3d?this.options.zoomSnap:1;return f&&(o=Math.round(o/f)*f),Math.max(a,Math.min(l,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Je(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,a){var l=this._getCenterOffset(o)._trunc();return!(!0!==(a&&a.animate)&&!this.getSize().contains(l)||(this.panBy(l,a),0))},_createAnimProxy:function(){var o=this._proxy=ge("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(a){var l=si,f=this._proxy.style[l];Ir(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),f===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Qe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),a=this.getZoom();Ir(this._proxy,this.project(o,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,a,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||!1===l.animate||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(a),g=this._getCenterOffset(o)._divideBy(1-1/f);return!(!0!==l.animate&&!this.getSize().contains(g)||(nt(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(o,a,!0)},this),0))},_animateZoom:function(o,a,l,f){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=a,ie(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:a,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(Fe(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Je(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Lt=Ot.extend({options:{position:"topright"},initialize:function(o){k(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var a=this._map;return a&&a.removeControl(this),this.options.position=o,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var a=this._container=this.onAdd(o),l=this.getPosition(),f=o._controlCorners[l];return ie(a,"leaflet-control"),-1!==l.indexOf("bottom")?f.insertBefore(a,f.firstChild):f.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Qe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),$=function(o){return new Lt(o)};ne.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},a="leaflet-",l=this._controlContainer=ge("div",a+"control-container",this._container);function f(g,_){o[g+_]=ge("div",a+g+" "+a+_,l)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Qe(this._controlCorners[o]);Qe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var de=Lt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,a,l,f){return l<f?-1:f<l?1:0}},initialize:function(o,a,l){for(var f in k(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,o)this._addLayer(o[f],f);for(f in a)this._addLayer(a[f],f,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Lt.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,a){return this._addLayer(o,a),this._map?this._update():this},addOverlay:function(o,a){return this._addLayer(o,a,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var a=this._getLayer(ue(o));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){ie(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(ie(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):Je(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Je(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",a=this._container=ge("div",o),l=this.options.collapsed;a.setAttribute("aria-haspopup",!0),uo(a),Uc(a);var f=this._section=ge("section",o+"-list");l&&(this._map.on("click",this.collapse,this),K(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=ge("a",o+"-toggle",a);g.href="#",g.title="Layers",g.setAttribute("role","button"),K(g,{keydown:function(_){13===_.keyCode&&this._expandSafely()},click:function(_){mt(_),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=ge("div",o+"-base",f),this._separator=ge("div",o+"-separator",f),this._overlaysList=ge("div",o+"-overlays",f),a.appendChild(f)},_getLayer:function(o){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&ue(this._layers[a].layer)===o)return this._layers[a]},_addLayer:function(o,a,l){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:a,overlay:l}),this.options.sortLayers&&this._layers.sort(Fe(function(f,g){return this.options.sortFunction(f.layer,g.layer,f.name,g.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Jt(this._baseLayersList),Jt(this._overlaysList),this._layerControlInputs=[];var o,a,l,f,g=0;for(l=0;l<this._layers.length;l++)this._addItem(f=this._layers[l]),a=a||f.overlay,o=o||!f.overlay,g+=f.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(o=o&&g>1)?"":"none"),this._separator.style.display=a&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var a=this._getLayer(ue(o.target)),l=a.overlay?"add"===o.type?"overlayadd":"overlayremove":"add"===o.type?"baselayerchange":null;l&&this._map.fire(l,a)},_createRadioElement:function(o,a){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(a?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=l,f.firstChild},_addItem:function(o){var f,a=document.createElement("label"),l=this._map.hasLayer(o.layer);o.overlay?((f=document.createElement("input")).type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=l):f=this._createRadioElement("leaflet-base-layers_"+ue(this),l),this._layerControlInputs.push(f),f.layerId=ue(o.layer),K(f,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+o.name;var _=document.createElement("span");return a.appendChild(_),_.appendChild(f),_.appendChild(g),(o.overlay?this._overlaysList:this._baseLayersList).appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var a,l,o=this._layerControlInputs,f=[],g=[];this._handlingClick=!0;for(var _=o.length-1;_>=0;_--)l=this._getLayer((a=o[_]).layerId).layer,a.checked?f.push(l):a.checked||g.push(l);for(_=0;_<g.length;_++)this._map.hasLayer(g[_])&&this._map.removeLayer(g[_]);for(_=0;_<f.length;_++)this._map.hasLayer(f[_])||this._map.addLayer(f[_]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a,l,o=this._layerControlInputs,f=this._map.getZoom(),g=o.length-1;g>=0;g--)l=this._getLayer((a=o[g]).layerId).layer,a.disabled=void 0!==l.options.minZoom&&f<l.options.minZoom||void 0!==l.options.maxZoom&&f>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,K(o,"click",mt),this.expand();var a=this;setTimeout(function(){Ce(o,"click",mt),a._preventClick=!1})}}),Zs=Lt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var a="leaflet-control-zoom",l=ge("div",a+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,a+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,a+"-out",l,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,a,l,f,g){var _=ge("a",l,f);return _.innerHTML=o,_.href="#",_.title=a,_.setAttribute("role","button"),_.setAttribute("aria-label",a),uo(_),K(_,"click",xr),K(_,"click",g,this),K(_,"click",this._refocusOnMap,this),_},_updateDisabled:function(){var o=this._map,a="leaflet-disabled";Je(this._zoomInButton,a),Je(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(ie(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(ie(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});ne.mergeOptions({zoomControl:!0}),ne.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Zs,this.addControl(this.zoomControl))});var cd=Lt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var a="leaflet-control-scale",l=ge("div",a),f=this.options;return this._addScales(f,a+"-line",l),o.on(f.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),l},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,a,l){o.metric&&(this._mScale=ge("div",a,l)),o.imperial&&(this._iScale=ge("div",a,l))},_update:function(){var o=this._map,a=o.getSize().y/2,l=o.distance(o.containerPointToLatLng([0,a]),o.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(l)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var a=this._getRoundNum(o);this._updateScale(this._mScale,a<1e3?a+" m":a/1e3+" km",a/o)},_updateImperial:function(o){var l,f,g,a=3.2808399*o;a>5280?(f=this._getRoundNum(l=a/5280),this._updateScale(this._iScale,f+" mi",f/l)):(g=this._getRoundNum(a),this._updateScale(this._iScale,g+" ft",g/a))},_updateScale:function(o,a,l){o.style.width=Math.round(this.options.maxWidth*l)+"px",o.innerHTML=a},_getRoundNum:function(o){var a=Math.pow(10,(Math.floor(o)+"").length-1),l=o/a;return a*(l>=10?10:l>=5?5:l>=3?3:l>=2?2:1)}}),hi=Lt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(V.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(o){k(this,o),this._attributions={}},onAdd:function(o){for(var a in o.attributionControl=this,this._container=ge("div","leaflet-control-attribution"),uo(this._container),o._layers)o._layers[a].getAttribution&&this.addAttribution(o._layers[a].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var a in this._attributions)this._attributions[a]&&o.push(a);var l=[];this.options.prefix&&l.push(this.options.prefix),o.length&&l.push(o.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});ne.mergeOptions({attributionControl:!0}),ne.addInitHook(function(){this.options.attributionControl&&(new hi).addTo(this)});Lt.Layers=de,Lt.Zoom=Zs,Lt.Scale=cd,Lt.Attribution=hi,$.layers=function(o,a,l){return new de(o,a,l)},$.zoom=function(o){return new Zs(o)},$.scale=function(o){return new cd(o)},$.attribution=function(o){return new hi(o)};var Be=Ot.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Be.addTo=function(o,a){return o.addHandler(a,this),this};var Hc={Events:gt},ld=V.touch?"touchstart mousedown":"mousedown",tr=vn.extend({options:{clickTolerance:3},initialize:function(o,a,l,f){k(this,f),this._element=o,this._dragStartTarget=a||o,this._preventOutline=l},enable:function(){this._enabled||(K(this._dragStartTarget,ld,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(tr._dragging===this&&this.finishDrag(!0),Ce(this._dragStartTarget,ld,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Lc(this._element,"leaflet-zoom-anim"))){if(o.touches&&1!==o.touches.length)return void(tr._dragging===this&&this.finishDrag());if(!(tr._dragging||o.shiftKey||1!==o.which&&1!==o.button&&!o.touches||(tr._dragging=this,this._preventOutline&&Bs(this._element),Sr(),so(),this._moving))){this.fire("down");var a=o.touches?o.touches[0]:o,l=li(this._element);this._startPoint=new G(a.clientX,a.clientY),this._startPos=Tr(this._element),this._parentScale=di(l);var f="mousedown"===o.type;K(document,f?"mousemove":"touchmove",this._onMove,this),K(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1)return void(this._moved=!0);var a=o.touches&&1===o.touches.length?o.touches[0]:o,l=new G(a.clientX,a.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,mt(o),this._moved||(this.fire("dragstart"),this._moved=!0,ie(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ie(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),rt(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){Je(document.body,"leaflet-dragging"),this._lastTarget&&(Je(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ce(document,"mousemove touchmove",this._onMove,this),Ce(document,"mouseup touchend touchcancel",this._onUp,this),Mr(),ao();var a=this._moved&&this._moving;this._moving=!1,tr._dragging=!1,a&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function On(o,a,l){var f,_,w,E,I,b,R,H,W,g=[1,4,2,8];for(_=0,R=o.length;_<R;_++)o[_]._code=nr(o[_],a);for(E=0;E<4;E++){for(H=g[E],f=[],_=0,w=(R=o.length)-1;_<R;w=_++)b=o[w],(I=o[_])._code&H?b._code&H||((W=Ln(b,I,H,a,l))._code=nr(W,a),f.push(W)):(b._code&H&&((W=Ln(b,I,H,a,l))._code=nr(W,a),f.push(W)),f.push(I));o=f}return o}function fo(o,a){var l,f,g,_,w,E,I,b;if(!o||0===o.length)throw new Error("latlngs not passed");Bt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var H=ee([0,0]),W=Te(o);W.getNorthWest().distanceTo(W.getSouthWest())*W.getNorthEast().distanceTo(W.getNorthWest())<1700&&(H=Ws(o));var Ve=o.length,fe=[];for(l=0;l<Ve;l++){var le=ee(o[l]);fe.push(a.project(ee([le.lat-H.lat,le.lng-H.lng])))}for(E=I=b=0,l=0,f=Ve-1;l<Ve;f=l++)I+=((g=fe[l]).x+(_=fe[f]).x)*(w=g.y*_.x-_.y*g.x),b+=(g.y+_.y)*w,E+=3*w;var Ke=a.unproject(q(0===E?fe[0]:[I/E,b/E]));return ee([Ke.lat+H.lat,Ke.lng+H.lng])}function Ws(o){for(var a=0,l=0,f=0,g=0;g<o.length;g++){var _=ee(o[g]);a+=_.lat,l+=_.lng,f++}return ee([a/f,l/f])}var qs,ho={__proto__:null,clipPolygon:On,polygonCenter:fo,centroid:Ws};function zc(o,a){if(!a||!o.length)return o.slice();var l=a*a;return function Zc(o,a){var l=o.length,g=new(typeof Uint8Array<"u"?Uint8Array:Array)(l);g[0]=g[l-1]=1,Gs(o,g,a,0,l-1);var _,w=[];for(_=0;_<l;_++)g[_]&&w.push(o[_]);return w}(o=function te(o,a){for(var l=[o[0]],f=1,g=0,_=o.length;f<_;f++)Js(o[f],o[g])>a&&(l.push(o[f]),g=f);return g<_-1&&l.push(o[_-1]),l}(o,l),l)}function $c(o,a,l){return Math.sqrt(Dn(o,a,l,!0))}function Gs(o,a,l,f,g){var w,E,I,_=0;for(E=f+1;E<=g-1;E++)(I=Dn(o[E],o[f],o[g],!0))>_&&(w=E,_=I);_>l&&(a[w]=1,Gs(o,a,l,f,w),Gs(o,a,l,w,g))}function O(o,a,l,f,g){var E,I,b,_=f?qs:nr(o,l),w=nr(a,l);for(qs=w;;){if(!(_|w))return[o,a];if(_&w)return!1;b=nr(I=Ln(o,a,E=_||w,l,g),l),E===_?(o=I,_=b):(a=I,w=b)}}function Ln(o,a,l,f,g){var b,R,_=a.x-o.x,w=a.y-o.y,E=f.min,I=f.max;return 8&l?(b=o.x+_*(I.y-o.y)/w,R=I.y):4&l?(b=o.x+_*(E.y-o.y)/w,R=E.y):2&l?(b=I.x,R=o.y+w*(I.x-o.x)/_):1&l&&(b=E.x,R=o.y+w*(E.x-o.x)/_),new G(b,R,g)}function nr(o,a){var l=0;return o.x<a.min.x?l|=1:o.x>a.max.x&&(l|=2),o.y<a.min.y?l|=4:o.y>a.max.y&&(l|=8),l}function Js(o,a){var l=a.x-o.x,f=a.y-o.y;return l*l+f*f}function Dn(o,a,l,f){var b,g=a.x,_=a.y,w=l.x-g,E=l.y-_,I=w*w+E*E;return I>0&&((b=((o.x-g)*w+(o.y-_)*E)/I)>1?(g=l.x,_=l.y):b>0&&(g+=w*b,_+=E*b)),w=o.x-g,E=o.y-_,f?w*w+E*E:new G(g,_)}function Bt(o){return!ht(o[0])||"object"!=typeof o[0][0]&&typeof o[0][0]<"u"}function Qc(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Bt(o)}function Wc(o,a){var l,f,g,_,w,E,I,b;if(!o||0===o.length)throw new Error("latlngs not passed");Bt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var R=ee([0,0]),H=Te(o);H.getNorthWest().distanceTo(H.getSouthWest())*H.getNorthEast().distanceTo(H.getNorthWest())<1700&&(R=Ws(o));var ct=o.length,Ve=[];for(l=0;l<ct;l++){var fe=ee(o[l]);Ve.push(a.project(ee([fe.lat-R.lat,fe.lng-R.lng])))}for(l=0,f=0;l<ct-1;l++)f+=Ve[l].distanceTo(Ve[l+1])/2;if(0===f)b=Ve[0];else for(l=0,_=0;l<ct-1;l++)if((_+=g=(w=Ve[l]).distanceTo(E=Ve[l+1]))>f){b=[E.x-(I=(_-f)/g)*(E.x-w.x),E.y-I*(E.y-w.y)];break}var le=a.unproject(q(b));return ee([le.lat+R.lat,le.lng+R.lng])}var rr={__proto__:null,simplify:zc,pointToSegmentDistance:$c,closestPointOnSegment:function dd(o,a,l){return Dn(o,a,l)},clipSegment:O,_getEdgeIntersection:Ln,_getBitCode:nr,_sqClosestPointOnSegment:Dn,isFlat:Bt,_flat:Qc,polylineCenter:Wc},Ys={project:function(o){return new G(o.lng,o.lat)},unproject:function(o){return new he(o.y,o.x)},bounds:new xe([-180,-90],[180,90])},Tt={R:6378137,R_MINOR:6356752.314245179,bounds:new xe([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(o){var a=Math.PI/180,l=this.R,f=o.lat*a,g=this.R_MINOR/l,_=Math.sqrt(1-g*g),w=_*Math.sin(f),E=Math.tan(Math.PI/4-f/2)/Math.pow((1-w)/(1+w),_/2);return f=-l*Math.log(Math.max(E,1e-10)),new G(o.lng*a*l,f)},unproject:function(o){for(var b,a=180/Math.PI,l=this.R,f=this.R_MINOR/l,g=Math.sqrt(1-f*f),_=Math.exp(-o.y/l),w=Math.PI/2-2*Math.atan(_),E=0,I=.1;E<15&&Math.abs(I)>1e-7;E++)b=g*Math.sin(w),b=Math.pow((1-b)/(1+b),g/2),w+=I=Math.PI/2-2*Math.atan(_*b)-w;return new he(w*a,o.x*a/l)}},Ar={__proto__:null,LonLat:Ys,Mercator:Tt,SphericalMercator:Ji},Gc=we({},Nn,{code:"EPSG:3395",projection:Tt,transformation:function(){var o=.5/(Math.PI*Tt.R);return Pn(o,.5,-o,.5)}()}),pi=we({},Nn,{code:"EPSG:4326",projection:Ys,transformation:Pn(1/180,1,-1/180,.5)}),po=we({},wn,{projection:Ys,transformation:Pn(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,a){var l=a.lng-o.lng,f=a.lat-o.lat;return Math.sqrt(l*l+f*f)},infinite:!0});wn.Earth=Nn,wn.EPSG3395=Gc,wn.EPSG3857=Yi,wn.EPSG900913=mg,wn.EPSG4326=pi,wn.Simple=po;var Ut=vn.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[ue(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[ue(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var a=o.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var l=this.getEvents();a.on(l,this),this.once("remove",function(){a.off(l,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});ne.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var a=ue(o);return this._layers[a]||(this._layers[a]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o)),this},removeLayer:function(o){var a=ue(o);return this._layers[a]?(this._loaded&&o.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return ue(o)in this._layers},eachLayer:function(o,a){for(var l in this._layers)o.call(a,this._layers[l]);return this},_addLayers:function(o){for(var a=0,l=(o=o?ht(o)?o:[o]:[]).length;a<l;a++)this.addLayer(o[a])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[ue(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var a=ue(o);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,a=-1/0,l=this._getZoomSpan();for(var f in this._zoomBoundLayers){var g=this._zoomBoundLayers[f].options;o=void 0===g.minZoom?o:Math.min(o,g.minZoom),a=void 0===g.maxZoom?a:Math.max(a,g.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=o===1/0?void 0:o,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ir=Ut.extend({initialize:function(o,a){var l,f;if(k(this,a),this._layers={},o)for(l=0,f=o.length;l<f;l++)this.addLayer(o[l])},addLayer:function(o){var a=this.getLayerId(o);return this._layers[a]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var a=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(o){return("number"==typeof o?o:this.getLayerId(o))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var l,f,a=Array.prototype.slice.call(arguments,1);for(l in this._layers)(f=this._layers[l])[o]&&f[o].apply(f,a);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,a){for(var l in this._layers)o.call(a,this._layers[l]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return ue(o)}}),Xt=ir.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),ir.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),ir.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Ct;for(var a in this._layers){var l=this._layers[a];o.extend(l.getBounds?l.getBounds():l.getLatLng())}return o}}),Nr=Ot.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){k(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,a){var l=this._getIconUrl(o);if(!l){if("icon"===o)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(l,a&&"IMG"===a.tagName?a:null);return this._setIconStyles(f,o),(this.options.crossOrigin||""===this.options.crossOrigin)&&(f.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),f},_setIconStyles:function(o,a){var l=this.options,f=l[a+"Size"];"number"==typeof f&&(f=[f,f]);var g=q(f),_=q("shadow"===a&&l.shadowAnchor||l.iconAnchor||g&&g.divideBy(2,!0));o.className="leaflet-marker-"+a+" "+(l.className||""),_&&(o.style.marginLeft=-_.x+"px",o.style.marginTop=-_.y+"px"),g&&(o.style.width=g.x+"px",o.style.height=g.y+"px")},_createImg:function(o,a){return(a=a||document.createElement("img")).src=o,a},_getIconUrl:function(o){return V.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});var ye=Nr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return"string"!=typeof ye.imagePath&&(ye.imagePath=this._detectIconPath()),(this.options.imagePath||ye.imagePath)+Nr.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var a=function(l,f,g){var _=f.exec(l);return _&&_[g]};return(o=a(o,/^url\((['"])?(.+)\1\)$/,2))&&a(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=ge("div","leaflet-default-icon-path",document.body),a=io(o,"background-image")||io(o,"backgroundImage");if(document.body.removeChild(o),a=this._stripUrl(a))return a;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),Bn=Be.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new tr(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ie(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Je(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var a=this._marker,l=a._map,f=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,_=Tr(a._icon),w=l.getPixelBounds(),E=l.getPixelOrigin(),I=Mt(w.min._subtract(E).add(g),w.max._subtract(E).subtract(g));if(!I.contains(_)){var b=q((Math.max(I.max.x,_.x)-I.max.x)/(w.max.x-I.max.x)-(Math.min(I.min.x,_.x)-I.min.x)/(w.min.x-I.min.x),(Math.max(I.max.y,_.y)-I.max.y)/(w.max.y-I.max.y)-(Math.min(I.min.y,_.y)-I.min.y)/(w.min.y-I.min.y)).multiplyBy(f);l.panBy(b,{animate:!1}),this._draggable._newPos._add(b),this._draggable._startPos._add(b),rt(a._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=nt(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(pt(this._panRequest),this._panRequest=nt(this._adjustPan.bind(this,o)))},_onDrag:function(o){var a=this._marker,l=a._shadow,f=Tr(a._icon),g=a._map.layerPointToLatLng(f);l&&rt(l,f),a._latlng=g,o.latlng=g,o.oldLatLng=this._oldLatLng,a.fire("move",o).fire("drag",o)},_onDragEnd:function(o){pt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),mi=Ut.extend({options:{icon:new ye,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,a){k(this,a),this._latlng=ee(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var a=this._latlng;return this._latlng=ee(o),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=o.icon.createIcon(this._icon),f=!1;l!==this._icon&&(this._icon&&this._removeIcon(),f=!0,o.title&&(l.title=o.title),"IMG"===l.tagName&&(l.alt=o.alt||"")),ie(l,a),o.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&K(l,"focus",this._panOnFocus,this);var g=o.icon.createShadow(this._shadow),_=!1;g!==this._shadow&&(this._removeShadow(),_=!0),g&&(ie(g,a),g.alt=""),this._shadow=g,o.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&_&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ce(this._icon,"focus",this._panOnFocus,this),Qe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Qe(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&rt(this._icon,o),this._shadow&&rt(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var a=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(ie(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Bn)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Bn(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&Yt(this._icon,o),this._shadow&&Yt(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var a=this.options.icon.options,l=a.iconSize?q(a.iconSize):q(0,0),f=a.iconAnchor?q(a.iconAnchor):q(0,0);o.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:l.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var en=Ut.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return k(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),xt=en.extend({options:{fill:!0,radius:10},initialize:function(o,a){k(this,a),this._latlng=ee(o),this._radius=this.options.radius},setLatLng:function(o){var a=this._latlng;return this._latlng=ee(o),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var a=o&&o.radius||this._radius;return en.prototype.setStyle.call(this,o),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,a=this._radiusY||o,l=this._clickTolerance(),f=[o+l,a+l];this._pxBounds=new xe(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var me=xt.extend({initialize:function(o,a,l){if("number"==typeof a&&(a=we({},l,{radius:a})),k(this,a),this._latlng=ee(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Ct(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:en.prototype.setStyle,_project:function(){var o=this._latlng.lng,a=this._latlng.lat,l=this._map,f=l.options.crs;if(f.distance===Nn.distance){var g=Math.PI/180,_=this._mRadius/Nn.R/g,w=l.project([a+_,o]),E=l.project([a-_,o]),I=w.add(E).divideBy(2),b=l.unproject(I).lat,R=Math.acos((Math.cos(_*g)-Math.sin(a*g)*Math.sin(b*g))/(Math.cos(a*g)*Math.cos(b*g)))/g;(isNaN(R)||0===R)&&(R=_/Math.cos(Math.PI/180*a)),this._point=I.subtract(l.getPixelOrigin()),this._radius=isNaN(R)?0:I.x-l.project([b,o-R]).x,this._radiusY=I.y-w.y}else{var H=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(H).x}this._updateBounds()}});var Ue=en.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,a){k(this,a),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var g,_,a=1/0,l=null,f=Dn,w=0,E=this._parts.length;w<E;w++)for(var I=this._parts[w],b=1,R=I.length;b<R;b++){var H=f(o,g=I[b-1],_=I[b],!0);H<a&&(a=H,l=f(o,g,_))}return l&&(l.distance=Math.sqrt(a)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Wc(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,a){return a=a||this._defaultShape(),o=ee(o),a.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Ct,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Bt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var a=[],l=Bt(o),f=0,g=o.length;f<g;f++)l?(a[f]=ee(o[f]),this._bounds.extend(a[f])):a[f]=this._convertLatLngs(o[f]);return a},_project:function(){var o=new xe;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),a=new G(o,o);this._rawPxBounds&&(this._pxBounds=new xe([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(o,a,l){var _,w,g=o.length;if(o[0]instanceof he){for(w=[],_=0;_<g;_++)w[_]=this._map.latLngToLayerPoint(o[_]),l.extend(w[_]);a.push(w)}else for(_=0;_<g;_++)this._projectLatlngs(o[_],a,l)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(o)){if(this.options.noClip)return void(this._parts=this._rings);var l,f,g,_,w,E,I,a=this._parts;for(l=0,g=0,_=this._rings.length;l<_;l++)for(f=0,w=(I=this._rings[l]).length;f<w-1;f++)(E=O(I[f],I[f+1],o,f,!0))&&(a[g]=a[g]||[],a[g].push(E[0]),(E[1]!==I[f+1]||f===w-2)&&(a[g].push(E[1]),g++))}},_simplifyPoints:function(){for(var o=this._parts,a=this.options.smoothFactor,l=0,f=o.length;l<f;l++)o[l]=zc(o[l],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,a){var l,f,g,_,w,E,I=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(l=0,_=this._parts.length;l<_;l++)for(f=0,g=(w=(E=this._parts[l]).length)-1;f<w;g=f++)if((a||0!==f)&&$c(o,E[g],E[f])<=I)return!0;return!1}});Ue._flat=Qc;var cn=Ue.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return fo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var a=Ue.prototype._convertLatLngs.call(this,o),l=a.length;return l>=2&&a[0]instanceof he&&a[0].equals(a[l-1])&&a.pop(),a},_setLatLngs:function(o){Ue.prototype._setLatLngs.call(this,o),Bt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Bt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,a=this.options.weight,l=new G(a,a);if(o=new xe(o.min.subtract(l),o.max.add(l)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(o)){if(this.options.noClip)return void(this._parts=this._rings);for(var _,f=0,g=this._rings.length;f<g;f++)(_=On(this._rings[f],o,!0)).length&&this._parts.push(_)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var l,f,g,_,w,E,I,b,a=!1;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(_=0,I=this._parts.length;_<I;_++)for(w=0,E=(b=(l=this._parts[_]).length)-1;w<b;E=w++)(f=l[w]).y>o.y!=(g=l[E]).y>o.y&&o.x<(g.x-f.x)*(o.y-f.y)/(g.y-f.y)+f.x&&(a=!a);return a||Ue.prototype._containsPoint.call(this,o,!0)}});var En=Xt.extend({initialize:function(o,a){k(this,a),this._layers={},o&&this.addData(o)},addData:function(o){var l,f,g,a=ht(o)?o:o.features;if(a){for(l=0,f=a.length;l<f;l++)((g=a[l]).geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var _=this.options;if(_.filter&&!_.filter(o))return this;var w=mo(o,_);return w?(w.feature=Fr(o),w.defaultOptions=w.options,this.resetStyle(w),_.onEachFeature&&_.onEachFeature(o,w),this.addLayer(w)):this},resetStyle:function(o){return void 0===o?this.eachLayer(this.resetStyle,this):(o.options=we({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(a){this._setLayerStyle(a,o)},this)},_setLayerStyle:function(o,a){o.setStyle&&("function"==typeof a&&(a=a(o.feature)),o.setStyle(a))}});function mo(o,a){var E,I,b,R,l="Feature"===o.type?o.geometry:o,f=l?l.coordinates:null,g=[],_=a&&a.pointToLayer,w=a&&a.coordsToLatLng||yo;if(!f&&!l)return null;switch(l.type){case"Point":return _o(_,o,E=w(f),a);case"MultiPoint":for(b=0,R=f.length;b<R;b++)E=w(f[b]),g.push(_o(_,o,E,a));return new Xt(g);case"LineString":case"MultiLineString":return I=or(f,"LineString"===l.type?0:1,w),new Ue(I,a);case"Polygon":case"MultiPolygon":return I=or(f,"Polygon"===l.type?1:2,w),new cn(I,a);case"GeometryCollection":for(b=0,R=l.geometries.length;b<R;b++){var H=mo({geometry:l.geometries[b],type:"Feature",properties:o.properties},a);H&&g.push(H)}return new Xt(g);case"FeatureCollection":for(b=0,R=l.features.length;b<R;b++){var W=mo(l.features[b],a);W&&g.push(W)}return new Xt(g);default:throw new Error("Invalid GeoJSON object.")}}function _o(o,a,l,f){return o?o(a,l):new mi(l,f&&f.markersInheritOptions&&f)}function yo(o){return new he(o[1],o[0],o[2])}function or(o,a,l){for(var w,f=[],g=0,_=o.length;g<_;g++)w=a?or(o[g],a-1,l):(l||yo)(o[g]),f.push(w);return f}function qc(o,a){return void 0!==(o=ee(o)).alt?[kt(o.lng,a),kt(o.lat,a),kt(o.alt,a)]:[kt(o.lng,a),kt(o.lat,a)]}function Pr(o,a,l,f){for(var g=[],_=0,w=o.length;_<w;_++)g.push(a?Pr(o[_],Bt(o[_])?0:a-1,l,f):qc(o[_],f));return!a&&l&&g.length>0&&g.push(g[0].slice()),g}function Rr(o,a){return o.feature?we({},o.feature,{geometry:a}):Fr(a)}function Fr(o){return"Feature"===o.type||"FeatureCollection"===o.type?o:{type:"Feature",properties:{},geometry:o}}var vo={toGeoJSON:function(o){return Rr(this,{type:"Point",coordinates:qc(this.getLatLng(),o)})}};function ta(o,a){return new En(o,a)}mi.include(vo),me.include(vo),xt.include(vo),Ue.include({toGeoJSON:function(o){var a=!Bt(this._latlngs);return Rr(this,{type:(a?"Multi":"")+"LineString",coordinates:Pr(this._latlngs,a?1:0,!1,o)})}}),cn.include({toGeoJSON:function(o){var a=!Bt(this._latlngs),l=a&&!Bt(this._latlngs[0]),f=Pr(this._latlngs,l?2:a?1:0,!0,o);return a||(f=[f]),Rr(this,{type:(l?"Multi":"")+"Polygon",coordinates:f})}}),ir.include({toMultiPoint:function(o){var a=[];return this.eachLayer(function(l){a.push(l.toGeoJSON(o).geometry.coordinates)}),Rr(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(o){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===a)return this.toMultiPoint(o);var l="GeometryCollection"===a,f=[];return this.eachLayer(function(g){if(g.toGeoJSON){var _=g.toGeoJSON(o);if(l)f.push(_.geometry);else{var w=Fr(_);"FeatureCollection"===w.type?f.push.apply(f,w.features):f.push(w)}}}),l?Rr(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});var Un=ta,wo=Ut.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,a,l){this._url=o,this._bounds=Te(a),k(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ie(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Qe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&ci(this._image),this},bringToBack:function(){return this._map&&ui(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Te(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o="IMG"===this._url.tagName,a=this._image=o?this._url:ge("img");ie(a,"leaflet-image-layer"),this._zoomAnimated&&ie(a,"leaflet-zoom-animated"),this.options.className&&ie(a,this.options.className),a.onselectstart=Me,a.onmousemove=Me,a.onload=Fe(this.fire,this,"load"),a.onerror=Fe(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(a.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o?this._url=a.src:(a.src=this._url,a.alt=this.options.alt)},_animateZoom:function(o){var a=this._map.getZoomScale(o.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Ir(this._image,l,a)},_reset:function(){var o=this._image,a=new xe(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=a.getSize();rt(o,a.min),o.style.width=l.x+"px",o.style.height=l.y+"px"},_updateOpacity:function(){Yt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),_i=wo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o="VIDEO"===this._url.tagName,a=this._image=o?this._url:ge("video");if(ie(a,"leaflet-image-layer"),this._zoomAnimated&&ie(a,"leaflet-zoom-animated"),this.options.className&&ie(a,this.options.className),a.onselectstart=Me,a.onmousemove=Me,a.onloadeddata=Fe(this.fire,this,"load"),o){for(var l=a.getElementsByTagName("source"),f=[],g=0;g<l.length;g++)f.push(l[g].src);this._url=l.length>0?f:[a.src]}else{ht(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var _=0;_<this._url.length;_++){var w=ge("source");w.src=this._url[_],a.appendChild(w)}}}});var Do=wo.extend({_initImage:function(){var o=this._image=this._url;ie(o,"leaflet-image-layer"),this._zoomAnimated&&ie(o,"leaflet-zoom-animated"),this.options.className&&ie(o,this.options.className),o.onselectstart=Me,o.onmousemove=Me}});var We=Ut.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,a){o&&(o instanceof he||ht(o))?(this._latlng=ee(o),k(this,a)):(k(this,o),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(o){return(o=arguments.length?o:this._source._map).hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&Yt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&Yt(this._container,1),this.bringToFront(),this.options.interactive&&(ie(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(Yt(this._container,0),this._removeTimeout=setTimeout(Fe(Qe,void 0,this._container),200)):Qe(this._container),this.options.interactive&&(Je(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=ee(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ci(this._container),this},bringToBack:function(){return this._map&&ui(this._container),this},_prepareOpen:function(o){var a=this._source;if(!a._map)return!1;if(a instanceof Xt){a=null;var l=this._source._layers;for(var f in l)if(l[f]._map){a=l[f];break}if(!a)return!1;this._source=a}if(!o)if(a.getCenter)o=a.getCenter();else if(a.getLatLng)o=a.getLatLng();else{if(!a.getBounds)throw new Error("Unable to get source layer LatLng.");o=a.getBounds().getCenter()}return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,a="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof a)o.innerHTML=a;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),a=q(this.options.offset),l=this._getAnchor();this._zoomAnimated?rt(this._container,o.add(l)):a=a.add(o).add(l);var f=this._containerBottom=-a.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=f+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});ne.include({_initOverlay:function(o,a,l,f){var g=a;return g instanceof o||(g=new o(f).setContent(a)),l&&g.setLatLng(l),g}}),Ut.include({_initOverlay:function(o,a,l,f){var g=l;return g instanceof o?(k(g,f),g._source=this):(g=a&&!f?a:new o(f,this)).setContent(l),g}});var un=We.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return!(o=arguments.length?o:this._source._map).hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,We.prototype.openOn.call(this,o)},onAdd:function(o){We.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof en||this._source.on("preclick",Kt))},onRemove:function(o){We.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof en||this._source.off("preclick",Kt))},getEvents:function(){var o=We.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",a=this._container=ge("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=ge("div",o+"-content-wrapper",a);if(this._contentNode=ge("div",o+"-content",l),uo(a),Uc(this._contentNode),K(a,"contextmenu",Kt),this._tipContainer=ge("div",o+"-tip-container",a),this._tip=ge("div",o+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=ge("a",o+"-close-button",a);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',K(f,"click",function(g){mt(g),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,a=o.style;a.width="",a.whiteSpace="nowrap";var l=o.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),a.width=l+1+"px",a.whiteSpace="",a.height="";var g=this.options.maxHeight,_="leaflet-popup-scrolled";g&&o.offsetHeight>g?(a.height=g+"px",ie(o,_)):Je(o,_),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var a=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),l=this._getAnchor();rt(this._container,a.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var o=this._map,a=parseInt(io(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+a,f=this._containerWidth,g=new G(this._containerLeft,-l-this._containerBottom);g._add(Tr(this._container));var _=o.layerPointToContainerPoint(g),w=q(this.options.autoPanPadding),E=q(this.options.autoPanPaddingTopLeft||w),I=q(this.options.autoPanPaddingBottomRight||w),b=o.getSize(),R=0,H=0;_.x+f+I.x>b.x&&(R=_.x+f-b.x+I.x),_.x-R-E.x<0&&(R=_.x-E.x),_.y+l+I.y>b.y&&(H=_.y+l-b.y+I.y),_.y-H-E.y<0&&(H=_.y-E.y),(R||H)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([R,H]))}},_getAnchor:function(){return q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});ne.mergeOptions({closePopupOnClick:!0}),ne.include({openPopup:function(o,a,l){return this._initOverlay(un,o,a,l).openOn(this),this},closePopup:function(o){return(o=arguments.length?o:this._popup)&&o.close(),this}}),Ut.include({bindPopup:function(o,a){return this._popup=this._initOverlay(un,this._popup,o,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Xt||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(this._popup&&this._map){xr(o);var a=o.layer||o.target;if(this._popup._source===a&&!(a instanceof en))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng));this._popup._source=a,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){13===o.originalEvent.keyCode&&this._openPopup(o)}});var Eo=We.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){We.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){We.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=We.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){this._contentNode=this._container=ge("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+ue(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var a,l,f=this._map,g=this._container,_=f.latLngToContainerPoint(f.getCenter()),w=f.layerPointToContainerPoint(o),E=this.options.direction,I=g.offsetWidth,b=g.offsetHeight,R=q(this.options.offset),H=this._getAnchor();"top"===E?(a=I/2,l=b):"bottom"===E?(a=I/2,l=0):"center"===E?(a=I/2,l=b/2):"right"===E?(a=0,l=b/2):"left"===E?(a=I,l=b/2):w.x<_.x?(E="right",a=0,l=b/2):(E="left",a=I+2*(R.x+H.x),l=b/2),o=o.subtract(q(a,l,!0)).add(R).add(H),Je(g,"leaflet-tooltip-right"),Je(g,"leaflet-tooltip-left"),Je(g,"leaflet-tooltip-top"),Je(g,"leaflet-tooltip-bottom"),ie(g,"leaflet-tooltip-"+E),rt(g,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&Yt(this._container,o)},_animateZoom:function(o){var a=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(a)},_getAnchor:function(){return q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});ne.include({openTooltip:function(o,a,l){return this._initOverlay(Eo,o,a,l).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Ut.include({bindTooltip:function(o,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Eo,this._tooltip,o,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(o||!this._tooltipHandlersAdded){var a=o?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[a](l),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Xt||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var a="function"==typeof o.getElement&&o.getElement();a&&(K(a,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),K(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var a="function"==typeof o.getElement&&o.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(this._tooltip&&this._map){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;return void this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(o)})}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var l,f,a=o.latlng;this._tooltip.options.sticky&&o.originalEvent&&(l=this._map.mouseEventToContainerPoint(o.originalEvent),f=this._map.containerPointToLayerPoint(l),a=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(a)}});var oa=Nr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var a=o&&"DIV"===o.tagName?o:document.createElement("div"),l=this.options;if(l.html instanceof Element?(Jt(a),a.appendChild(l.html)):a.innerHTML=!1!==l.html?l.html:"",l.bgPos){var f=q(l.bgPos);a.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});Nr.Default=ye;var ln=Ut.extend({options:{tileSize:256,opacity:1,updateWhenIdle:V.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){k(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Qe(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ci(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ui(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Qi(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof G?o:new G(o,o)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var _,a=this.getPane().children,l=-o(-1/0,1/0),f=0,g=a.length;f<g;f++)_=a[f].style.zIndex,a[f]!==this._container&&_&&(l=o(l,+_));isFinite(l)&&(this.options.zIndex=l+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!V.ielt9){Yt(this._container,this.options.opacity);var o=+new Date,a=!1,l=!1;for(var f in this._tiles){var g=this._tiles[f];if(g.current&&g.loaded){var _=Math.min(1,(o-g.loaded)/200);Yt(g.el,_),_<1?a=!0:(g.active?l=!0:this._onOpaqueTile(g),g.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),a&&(pt(this._fadeFrame),this._fadeFrame=nt(this._updateOpacity,this))}},_onOpaqueTile:Me,_initContainer:function(){this._container||(this._container=ge("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,a=this.options.maxZoom;if(void 0!==o){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===o?(this._levels[l].el.style.zIndex=a-Math.abs(o-l),this._onUpdateLevel(l)):(Qe(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var f=this._levels[o],g=this._map;return f||((f=this._levels[o]={}).el=ge("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=a,f.origin=g.project(g.unproject(g.getPixelOrigin()),o).round(),f.zoom=o,this._setZoomTransform(f,g.getCenter(),g.getZoom()),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:Me,_onRemoveLevel:Me,_onCreateLevel:Me,_pruneTiles:function(){if(this._map){var o,a,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom)return void this._removeAllTiles();for(o in this._tiles)(a=this._tiles[o]).retain=a.current;for(o in this._tiles)if((a=this._tiles[o]).current&&!a.active){var f=a.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var a in this._tiles)this._tiles[a].coords.z===o&&this._removeTile(a)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Qe(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,a,l,f){var g=Math.floor(o/2),_=Math.floor(a/2),w=l-1,E=new G(+g,+_);E.z=+w;var I=this._tileCoordsToKey(E),b=this._tiles[I];return b&&b.active?(b.retain=!0,!0):(b&&b.loaded&&(b.retain=!0),w>f&&this._retainParent(g,_,w,f))},_retainChildren:function(o,a,l,f){for(var g=2*o;g<2*o+2;g++)for(var _=2*a;_<2*a+2;_++){var w=new G(g,_);w.z=l+1;var E=this._tileCoordsToKey(w),I=this._tiles[E];I&&I.active?I.retain=!0:(I&&I.loaded&&(I.retain=!0),l+1<f&&this._retainChildren(g,_,l+1,f))}},_resetView:function(o){var a=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var a=this.options;return void 0!==a.minNativeZoom&&o<a.minNativeZoom?a.minNativeZoom:void 0!==a.maxNativeZoom&&a.maxNativeZoom<o?a.maxNativeZoom:o},_setView:function(o,a,l,f){var g=Math.round(a);g=void 0!==this.options.maxZoom&&g>this.options.maxZoom||void 0!==this.options.minZoom&&g<this.options.minZoom?void 0:this._clampZoom(g),(!f||this.options.updateWhenZooming&&g!==this._tileZoom)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==g&&this._update(o),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(o,a)},_setZoomTransforms:function(o,a){for(var l in this._levels)this._setZoomTransform(this._levels[l],o,a)},_setZoomTransform:function(o,a,l){var f=this._map.getZoomScale(l,o.zoom),g=o.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(a,l)).round();V.any3d?Ir(o.el,g,f):rt(o.el,g)},_resetGrid:function(){var o=this._map,a=o.options.crs,l=this._tileSize=this.getTileSize(),f=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,a.wrapLng[0]],f).x/l.x),Math.ceil(o.project([0,a.wrapLng[1]],f).x/l.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([a.wrapLat[0],0],f).y/l.x),Math.ceil(o.project([a.wrapLat[1],0],f).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var a=this._map,l=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),f=a.getZoomScale(l,this._tileZoom),g=a.project(o,this._tileZoom).floor(),_=a.getSize().divideBy(2*f);return new xe(g.subtract(_),g.add(_))},_update:function(o){var a=this._map;if(a){var l=this._clampZoom(a.getZoom());if(void 0===o&&(o=a.getCenter()),void 0!==this._tileZoom){var f=this._getTiledPixelBounds(o),g=this._pxBoundsToTileRange(f),_=g.getCenter(),w=[],E=this.options.keepBuffer,I=new xe(g.getBottomLeft().subtract([E,-E]),g.getTopRight().add([E,-E]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var b in this._tiles){var R=this._tiles[b].coords;(R.z!==this._tileZoom||!I.contains(new G(R.x,R.y)))&&(this._tiles[b].current=!1)}if(Math.abs(l-this._tileZoom)>1)return void this._setView(o,l);for(var H=g.min.y;H<=g.max.y;H++)for(var W=g.min.x;W<=g.max.x;W++){var ct=new G(W,H);if(ct.z=this._tileZoom,this._isValidTile(ct)){var Ve=this._tiles[this._tileCoordsToKey(ct)];Ve?Ve.current=!0:w.push(ct)}}if(w.sort(function(le,Ke){return le.distanceTo(_)-Ke.distanceTo(_)}),0!==w.length){this._loading||(this._loading=!0,this.fire("loading"));var fe=document.createDocumentFragment();for(W=0;W<w.length;W++)this._addTile(w[W],fe);this._level.el.appendChild(fe)}}}},_isValidTile:function(o){var a=this._map.options.crs;if(!a.infinite){var l=this._globalTileRange;if(!a.wrapLng&&(o.x<l.min.x||o.x>l.max.x)||!a.wrapLat&&(o.y<l.min.y||o.y>l.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(o);return Te(this.options.bounds).overlaps(f)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var a=this._map,l=this.getTileSize(),f=o.scaleBy(l),g=f.add(l);return[a.unproject(f,o.z),a.unproject(g,o.z)]},_tileCoordsToBounds:function(o){var a=this._tileCoordsToNwSe(o),l=new Ct(a[0],a[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var a=o.split(":"),l=new G(+a[0],+a[1]);return l.z=+a[2],l},_removeTile:function(o){var a=this._tiles[o];a&&(Qe(a.el),delete this._tiles[o],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){ie(o,"leaflet-tile");var a=this.getTileSize();o.style.width=a.x+"px",o.style.height=a.y+"px",o.onselectstart=Me,o.onmousemove=Me,V.ielt9&&this.options.opacity<1&&Yt(o,this.options.opacity)},_addTile:function(o,a){var l=this._getTilePos(o),f=this._tileCoordsToKey(o),g=this.createTile(this._wrapCoords(o),Fe(this._tileReady,this,o));this._initTile(g),this.createTile.length<2&&nt(Fe(this._tileReady,this,o,null,g)),rt(g,l),this._tiles[f]={el:g,coords:o,current:!0},a.appendChild(g),this.fire("tileloadstart",{tile:g,coords:o})},_tileReady:function(o,a,l){a&&this.fire("tileerror",{error:a,tile:l,coords:o});var f=this._tileCoordsToKey(o);(l=this._tiles[f])&&(l.loaded=+new Date,this._map._fadeAnimated?(Yt(l.el,0),pt(this._fadeFrame),this._fadeFrame=nt(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),a||(ie(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),V.ielt9||!this._map._fadeAnimated?nt(this._pruneTiles,this):setTimeout(Fe(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var a=new G(this._wrapX?Le(o.x,this._wrapX):o.x,this._wrapY?Le(o.y,this._wrapY):o.y);return a.z=o.z,a},_pxBoundsToTileRange:function(o){var a=this.getTileSize();return new xe(o.min.unscaleBy(a).floor(),o.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});var kr=ln.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,a){this._url=o,(a=k(this,a)).detectRetina&&V.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),"string"==typeof a.subdomains&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,a){return this._url===o&&void 0===a&&(a=!0),this._url=o,a||this.redraw(),this},createTile:function(o,a){var l=document.createElement("img");return K(l,"load",Fe(this._tileOnLoad,this,a,l)),K(l,"error",Fe(this._tileOnError,this,a,l)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(l.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(o),l},getTileUrl:function(o){var a={r:V.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-o.y;this.options.tms&&(a.y=l),a["-y"]=l}return ql(this._url,we(a,this.options))},_tileOnLoad:function(o,a){V.ielt9?setTimeout(Fe(o,this,null,a),0):o(null,a)},_tileOnError:function(o,a,l){var f=this.options.errorTileUrl;f&&a.getAttribute("src")!==f&&(a.src=f),o(l,a)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom;return this.options.zoomReverse&&(o=this.options.maxZoom-o),o+this.options.zoomOffset},_getSubdomain:function(o){var a=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var o,a;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&((a=this._tiles[o].el).onload=Me,a.onerror=Me,!a.complete)){a.src=Gi;var l=this._tiles[o].coords;Qe(a),delete this._tiles[o],this.fire("tileabort",{tile:a,coords:l})}},_removeTile:function(o){var a=this._tiles[o];if(a)return a.el.setAttribute("src",Gi),ln.prototype._removeTile.call(this,o)},_tileReady:function(o,a,l){if(this._map&&(!l||l.getAttribute("src")!==Gi))return ln.prototype._tileReady.call(this,o,a,l)}});function Yc(o,a){return new kr(o,a)}var Co=kr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,a){this._url=o;var l=we({},this.defaultWmsParams);for(var f in a)f in this.options||(l[f]=a[f]);var g=(a=k(this,a)).detectRetina&&V.retina?2:1,_=this.getTileSize();l.width=_.x*g,l.height=_.y*g,this.wmsParams=l},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,kr.prototype.onAdd.call(this,o)},getTileUrl:function(o){var a=this._tileCoordsToNwSe(o),l=this._crs,f=Mt(l.project(a[0]),l.project(a[1])),g=f.min,_=f.max,w=(this._wmsVersion>=1.3&&this._crs===pi?[g.y,g.x,_.y,_.x]:[g.x,g.y,_.x,_.y]).join(","),E=kr.prototype.getTileUrl.call(this,o);return E+Wi(this.wmsParams,E,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+w},setParams:function(o,a){return we(this.wmsParams,o),a||this.redraw(),this}});kr.WMS=Co,Yc.wms=function sa(o,a){return new Co(o,a)};var tn=Ut.extend({options:{padding:.1},initialize:function(o){k(this,o),ue(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ie(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,a){var l=this._map.getZoomScale(a,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,a),_=f.multiplyBy(-l).add(g).subtract(this._map._getNewPixelOrigin(o,a));V.any3d?Ir(this._container,_,l):rt(this._container,_)},_reset:function(){for(var o in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,a=this._map.getSize(),l=this._map.containerPointToLayerPoint(a.multiplyBy(-o)).round();this._bounds=new xe(l,l.add(a.multiplyBy(1+2*o)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Kc=tn.extend({options:{tolerance:0},getEvents:function(){var o=tn.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){tn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");K(o,"mousemove",this._onMouseMove,this),K(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),K(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){pt(this._redrawRequest),delete this._ctx,Qe(this._container),Ce(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var a in this._redrawBounds=null,this._layers)this._layers[a]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){tn.prototype._update.call(this);var o=this._bounds,a=this._container,l=o.getSize(),f=V.retina?2:1;rt(a,o.min),a.width=f*l.x,a.height=f*l.y,a.style.width=l.x+"px",a.style.height=l.y+"px",V.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){tn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[ue(o)]=o;var a=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var a=o._order,l=a.next,f=a.prev;l?l.prev=f:this._drawLast=f,f?f.next=l:this._drawFirst=l,delete o._order,delete this._layers[ue(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if("string"==typeof o.options.dashArray){var f,g,a=o.options.dashArray.split(/[, ]+/),l=[];for(g=0;g<a.length;g++){if(f=Number(a[g]),isNaN(f))return;l.push(f)}o.options._dashArray=l}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||nt(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var a=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new xe,this._redrawBounds.extend(o._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(o._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var a=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,a=this._redrawBounds;if(this._ctx.save(),a){var l=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)o=f.layer,(!a||o._pxBounds&&o._pxBounds.intersects(a))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,a){if(this._drawing){var l,f,g,_,w=o._parts,E=w.length,I=this._ctx;if(E){for(I.beginPath(),l=0;l<E;l++){for(f=0,g=w[l].length;f<g;f++)I[f?"lineTo":"moveTo"]((_=w[l][f]).x,_.y);a&&I.closePath()}this._fillStroke(I,o)}}},_updateCircle:function(o){if(this._drawing&&!o._empty()){var a=o._point,l=this._ctx,f=Math.max(Math.round(o._radius),1),g=(Math.max(Math.round(o._radiusY),1)||f)/f;1!==g&&(l.save(),l.scale(1,g)),l.beginPath(),l.arc(a.x,a.y/g,f,0,2*Math.PI,!1),1!==g&&l.restore(),this._fillStroke(l,o)}},_fillStroke:function(o,a){var l=a.options;l.fill&&(o.globalAlpha=l.fillOpacity,o.fillStyle=l.fillColor||l.color,o.fill(l.fillRule||"evenodd")),l.stroke&&0!==l.weight&&(o.setLineDash&&o.setLineDash(a.options&&a.options._dashArray||[]),o.globalAlpha=l.opacity,o.lineWidth=l.weight,o.strokeStyle=l.color,o.lineCap=l.lineCap,o.lineJoin=l.lineJoin,o.stroke())},_onClick:function(o){for(var l,f,a=this._map.mouseEventToLayerPoint(o),g=this._drawFirst;g;g=g.next)(l=g.layer).options.interactive&&l._containsPoint(a)&&("click"!==o.type&&"preclick"!==o.type||!this._map._draggableMoved(l))&&(f=l);this._fireEvent(!!f&&[f],o)},_onMouseMove:function(o){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var a=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,a)}},_handleMouseOut:function(o){var a=this._hoveredLayer;a&&(Je(this._container,"leaflet-interactive"),this._fireEvent([a],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,a){if(!this._mouseHoverThrottled){for(var l,f,g=this._drawFirst;g;g=g.next)(l=g.layer).options.interactive&&l._containsPoint(a)&&(f=l);f!==this._hoveredLayer&&(this._handleMouseOut(o),f&&(ie(this._container,"leaflet-interactive"),this._fireEvent([f],o,"mouseover"),this._hoveredLayer=f)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],o),this._mouseHoverThrottled=!0,setTimeout(Fe(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,a,l){this._map._fireDOMEvent(a,l||a.type,o)},_bringToFront:function(o){var a=o._order;if(a){var l=a.next,f=a.prev;if(!l)return;l.prev=f,f?f.next=l:l&&(this._drawFirst=l),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(o)}},_bringToBack:function(o){var a=o._order;if(a){var l=a.next,f=a.prev;if(!f)return;f.next=l,l?l.prev=f:f&&(this._drawLast=f),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(o)}}});function it(o){return V.canvas?new Kc(o):null}var A=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Z={_initContainer:function(){this._container=ge("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(tn.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var a=o._container=A("shape");ie(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",o._path=A("path"),a.appendChild(o._path),this._updateStyle(o),this._layers[ue(o)]=o},_addPath:function(o){var a=o._container;this._container.appendChild(a),o.options.interactive&&o.addInteractiveTarget(a)},_removePath:function(o){var a=o._container;Qe(a),o.removeInteractiveTarget(a),delete this._layers[ue(o)]},_updateStyle:function(o){var a=o._stroke,l=o._fill,f=o.options,g=o._container;g.stroked=!!f.stroke,g.filled=!!f.fill,f.stroke?(a||(a=o._stroke=A("stroke")),g.appendChild(a),a.weight=f.weight+"px",a.color=f.color,a.opacity=f.opacity,a.dashStyle=f.dashArray?ht(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):"",a.endcap=f.lineCap.replace("butt","flat"),a.joinstyle=f.lineJoin):a&&(g.removeChild(a),o._stroke=null),f.fill?(l||(l=o._fill=A("fill")),g.appendChild(l),l.color=f.fillColor||f.color,l.opacity=f.fillOpacity):l&&(g.removeChild(l),o._fill=null)},_updateCircle:function(o){var a=o._point.round(),l=Math.round(o._radius),f=Math.round(o._radiusY||l);this._setPath(o,o._empty()?"M0 0":"AL "+a.x+","+a.y+" "+l+","+f+" 0,23592600")},_setPath:function(o,a){o._path.v=a},_bringToFront:function(o){ci(o._container)},_bringToBack:function(o){ui(o._container)}},Ae=V.vml?A:Jl,Ye=tn.extend({_initContainer:function(){this._container=Ae("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ae("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Qe(this._container),Ce(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){tn.prototype._update.call(this);var o=this._bounds,a=o.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,l.setAttribute("width",a.x),l.setAttribute("height",a.y)),rt(l,o.min),l.setAttribute("viewBox",[o.min.x,o.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(o){var a=o._path=Ae("path");o.options.className&&ie(a,o.options.className),o.options.interactive&&ie(a,"leaflet-interactive"),this._updateStyle(o),this._layers[ue(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Qe(o._path),o.removeInteractiveTarget(o._path),delete this._layers[ue(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var a=o._path,l=o.options;a&&(l.stroke?(a.setAttribute("stroke",l.color),a.setAttribute("stroke-opacity",l.opacity),a.setAttribute("stroke-width",l.weight),a.setAttribute("stroke-linecap",l.lineCap),a.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?a.setAttribute("stroke-dasharray",l.dashArray):a.removeAttribute("stroke-dasharray"),l.dashOffset?a.setAttribute("stroke-dashoffset",l.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),l.fill?(a.setAttribute("fill",l.fillColor||l.color),a.setAttribute("fill-opacity",l.fillOpacity),a.setAttribute("fill-rule",l.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(o,a){this._setPath(o,Tc(o._parts,a))},_updateCircle:function(o){var a=o._point,l=Math.max(Math.round(o._radius),1),g="a"+l+","+(Math.max(Math.round(o._radiusY),1)||l)+" 0 1,0 ",_=o._empty()?"M0 0":"M"+(a.x-l)+","+a.y+g+2*l+",0 "+g+2*-l+",0 ";this._setPath(o,_)},_setPath:function(o,a){o._path.setAttribute("d",a)},_bringToFront:function(o){ci(o._path)},_bringToBack:function(o){ui(o._path)}});function ot(o){return V.svg||V.vml?new Ye(o):null}V.vml&&Ye.include(Z),ne.include({getRenderer:function(o){var a=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(o){if("overlayPane"===o||void 0===o)return!1;var a=this._paneRenderers[o];return void 0===a&&(a=this._createRenderer({pane:o}),this._paneRenderers[o]=a),a},_createRenderer:function(o){return this.options.preferCanvas&&it(o)||ot(o)}});var jn=cn.extend({initialize:function(o,a){cn.prototype.initialize.call(this,this._boundsToLatLngs(o),a)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return[(o=Te(o)).getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});Ye.create=Ae,Ye.pointsToPath=Tc,En.geometryToLayer=mo,En.coordsToLatLng=yo,En.coordsToLatLngs=or,En.latLngToCoords=qc,En.latLngsToCoords=Pr,En.getFeature=Rr,En.asFeature=Fr,ne.mergeOptions({boxZoom:!0});var ve=Be.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){K(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ce(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Qe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||1!==o.which&&1!==o.button)return!1;this._clearDeferredResetState(),this._resetState(),so(),Sr(),this._startPoint=this._map.mouseEventToContainerPoint(o),K(document,{contextmenu:xr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=ge("div","leaflet-zoom-box",this._container),ie(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var a=new xe(this._point,this._startPoint),l=a.getSize();rt(this._box,a.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(Qe(this._box),Je(this._container,"leaflet-crosshair")),ao(),Mr(),Ce(document,{contextmenu:xr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if((1===o.which||1===o.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(Fe(this._resetState,this),0);var a=new Ct(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(o){27===o.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ne.addInitHook("addHandler","boxZoom",ve),ne.mergeOptions({doubleClickZoom:!0});var je=Be.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var a=this._map,l=a.getZoom(),f=a.options.zoomDelta,g=o.originalEvent.shiftKey?l-f:l+f;"center"===a.options.doubleClickZoom?a.setZoom(g):a.setZoomAround(o.containerPoint,g)}});ne.addInitHook("addHandler","doubleClickZoom",je),ne.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var At=Be.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new tr(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}ie(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Je(this._map._container,"leaflet-grab"),Je(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=Te(this._map.options.maxBounds);this._offsetLimit=Mt(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var a=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(a),this._prunePositions(a)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,a){return o-(o-a)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var o=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;o.x<a.min.x&&(o.x=this._viscousLimit(o.x,a.min.x)),o.y<a.min.y&&(o.y=this._viscousLimit(o.y,a.min.y)),o.x>a.max.x&&(o.x=this._viscousLimit(o.x,a.max.x)),o.y>a.max.y&&(o.y=this._viscousLimit(o.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,a=Math.round(o/2),l=this._initialWorldOffset,f=this._draggable._newPos.x,g=(f-a+l)%o+a-l,_=(f+a+l)%o-a-l,w=Math.abs(g+l)<Math.abs(_+l)?g:_;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=w},_onDragEnd:function(o){var a=this._map,l=a.options,f=!l.inertia||o.noInertia||this._times.length<2;if(a.fire("dragend",o),f)a.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),w=l.easeLinearity,E=g.multiplyBy(w/((this._lastTime-this._times[0])/1e3)),I=E.distanceTo([0,0]),b=Math.min(l.inertiaMaxSpeed,I),R=E.multiplyBy(b/I),H=b/(l.inertiaDeceleration*w),W=R.multiplyBy(-H/2).round();W.x||W.y?(W=a._limitOffset(W,a.options.maxBounds),nt(function(){a.panBy(W,{duration:H,easeLinearity:w,noMoveStart:!0,animate:!0})})):a.fire("moveend")}}});ne.addInitHook("addHandler","dragging",At),ne.mergeOptions({keyboard:!0,keyboardPanDelta:80});var oe=Be.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),K(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ce(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,a=document.documentElement,l=o.scrollTop||a.scrollTop,f=o.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(f,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var f,g,a=this._panKeys={},l=this.keyCodes;for(f=0,g=l.left.length;f<g;f++)a[l.left[f]]=[-1*o,0];for(f=0,g=l.right.length;f<g;f++)a[l.right[f]]=[o,0];for(f=0,g=l.down.length;f<g;f++)a[l.down[f]]=[0,o];for(f=0,g=l.up.length;f<g;f++)a[l.up[f]]=[0,-1*o]},_setZoomDelta:function(o){var f,g,a=this._zoomKeys={},l=this.keyCodes;for(f=0,g=l.zoomIn.length;f<g;f++)a[l.zoomIn[f]]=o;for(f=0,g=l.zoomOut.length;f<g;f++)a[l.zoomOut[f]]=-o},_addHooks:function(){K(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ce(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var f,a=o.keyCode,l=this._map;if(a in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(f=this._panKeys[a],o.shiftKey&&(f=q(f).multiplyBy(3)),l.options.maxBounds&&(f=l._limitOffset(q(f),l.options.maxBounds)),l.options.worldCopyJump){var g=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(f)));l.panTo(g)}else l.panBy(f)}else if(a in this._zoomKeys)l.setZoom(l.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[a]);else{if(27!==a||!l._popup||!l._popup.options.closeOnEscapeKey)return;l.closePopup()}xr(o)}}});ne.addInitHook("addHandler","keyboard",oe),ne.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Vn=Be.extend({addHooks:function(){K(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ce(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var a=lo(o),l=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var f=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(Fe(this._performZoom,this),f),xr(o)},_performZoom:function(){var o=this._map,a=o.getZoom(),l=this._map.options.zoomSnap||0;o._stop();var g=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,_=l?Math.ceil(g/l)*l:g,w=o._limitZoom(a+(this._delta>0?_:-_))-a;this._delta=0,this._startTime=null,w&&("center"===o.options.scrollWheelZoom?o.setZoom(a+w):o.setZoomAround(this._lastMousePos,a+w))}});ne.addInitHook("addHandler","scrollWheelZoom",Vn);ne.mergeOptions({tapHold:V.touchNative&&V.safari&&V.mobile,tapTolerance:15});var sr=Be.extend({addHooks:function(){K(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ce(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),1===o.touches.length){var a=o.touches[0];this._startPos=this._newPos=new G(a.clientX,a.clientY),this._holdTimeout=setTimeout(Fe(function(){this._cancel(),this._isTapValid()&&(K(document,"touchend",mt),K(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),600),K(document,"touchend touchcancel contextmenu",this._cancel,this),K(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Ce(document,"touchend",mt),Ce(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Ce(document,"touchend touchcancel contextmenu",this._cancel,this),Ce(document,"touchmove",this._onMove,this)},_onMove:function(o){var a=o.touches[0];this._newPos=new G(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,a){var l=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});l._simulated=!0,a.target.dispatchEvent(l)}});ne.addInitHook("addHandler","tapHold",sr),ne.mergeOptions({touchZoom:V.touch,bounceAtZoomLimits:!0});var Ge=Be.extend({addHooks:function(){ie(this._map._container,"leaflet-touch-zoom"),K(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Je(this._map._container,"leaflet-touch-zoom"),Ce(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var a=this._map;if(o.touches&&2===o.touches.length&&!a._animatingZoom&&!this._zooming){var l=a.mouseEventToContainerPoint(o.touches[0]),f=a.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),"center"!==a.options.touchZoom&&(this._pinchStartLatLng=a.containerPointToLatLng(l.add(f)._divideBy(2))),this._startDist=l.distanceTo(f),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),K(document,"touchmove",this._onTouchMove,this),K(document,"touchend touchcancel",this._onTouchEnd,this),mt(o)}},_onTouchMove:function(o){if(o.touches&&2===o.touches.length&&this._zooming){var a=this._map,l=a.mouseEventToContainerPoint(o.touches[0]),f=a.mouseEventToContainerPoint(o.touches[1]),g=l.distanceTo(f)/this._startDist;if(this._zoom=a.getScaleZoom(g,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&g<1||this._zoom>a.getMaxZoom()&&g>1)&&(this._zoom=a._limitZoom(this._zoom)),"center"===a.options.touchZoom){if(this._center=this._startLatLng,1===g)return}else{var _=l._add(f)._divideBy(2)._subtract(this._centerPoint);if(1===g&&0===_.x&&0===_.y)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(_),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),pt(this._animRequest);var w=Fe(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=nt(w,this,!0),mt(o)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,pt(this._animRequest),Ce(document,"touchmove",this._onTouchMove,this),Ce(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});ne.addInitHook("addHandler","touchZoom",Ge),ne.BoxZoom=ve,ne.DoubleClickZoom=je,ne.Drag=At,ne.Keyboard=oe,ne.ScrollWheelZoom=Vn,ne.TapHold=sr,ne.TouchZoom=Ge,P.Bounds=xe,P.Browser=V,P.CRS=wn,P.Canvas=Kc,P.Circle=me,P.CircleMarker=xt,P.Class=Ot,P.Control=Lt,P.DivIcon=oa,P.DivOverlay=We,P.DomEvent=ad,P.DomUtil=F,P.Draggable=tr,P.Evented=vn,P.FeatureGroup=Xt,P.GeoJSON=En,P.GridLayer=ln,P.Handler=Be,P.Icon=Nr,P.ImageOverlay=wo,P.LatLng=he,P.LatLngBounds=Ct,P.Layer=Ut,P.LayerGroup=ir,P.LineUtil=rr,P.Map=ne,P.Marker=mi,P.Mixin=Hc,P.Path=en,P.Point=G,P.PolyUtil=ho,P.Polygon=cn,P.Polyline=Ue,P.Popup=un,P.PosAnimation=$s,P.Projection=Ar,P.Rectangle=jn,P.Renderer=tn,P.SVG=Ye,P.SVGOverlay=Do,P.TileLayer=kr,P.Tooltip=Eo,P.Transformation=Ds,P.Util=qi,P.VideoOverlay=_i,P.bind=Fe,P.bounds=Mt,P.canvas=it,P.circle=function Eg(o,a,l){return new me(o,a,l)},P.circleMarker=function Xs(o,a){return new xt(o,a)},P.control=$,P.divIcon=function yi(o){return new oa(o)},P.extend=we,P.featureGroup=function(o,a){return new Xt(o,a)},P.geoJSON=ta,P.geoJson=Un,P.gridLayer=function hd(o){return new ln(o)},P.icon=function sn(o){return new Nr(o)},P.imageOverlay=function(o,a,l){return new wo(o,a,l)},P.latLng=ee,P.latLngBounds=Te,P.layerGroup=function(o,a){return new ir(o,a)},P.map=function fi(o,a){return new ne(o,a)},P.marker=function Ks(o,a){return new mi(o,a)},P.point=q,P.polygon=function ea(o,a){return new cn(o,a)},P.polyline=function an(o,a){return new Ue(o,a)},P.popup=function(o,a){return new un(o,a)},P.rectangle=function vi(o,a){return new jn(o,a)},P.setOptions=k,P.stamp=ue,P.svg=ot,P.svgOverlay=function ra(o,a,l){return new Do(o,a,l)},P.tileLayer=Yc,P.tooltip=function(o,a){return new Eo(o,a)},P.transformation=Pn,P.version="1.9.4",P.videoOverlay=function Jc(o,a,l){return new _i(o,a,l)};var ar=window.L;P.noConflict=function(){return window.L=ar,this},window.L=P}(Cc)}},Ec=>{Ec(Ec.s=193)}]);